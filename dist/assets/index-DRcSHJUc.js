(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function VS(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var fd={exports:{}},fl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nv;function kS(){if(nv)return fl;nv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return fl.Fragment=t,fl.jsx=n,fl.jsxs=n,fl}var iv;function LS(){return iv||(iv=1,fd.exports=kS()),fd.exports}var qt=LS(),dd={exports:{}},dl={},md={exports:{}},pd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rv;function PS(){return rv||(rv=1,function(r){function t(rt,_t){var dt=rt.length;rt.push(_t);t:for(;0<dt;){var Ft=dt-1>>>1,N=rt[Ft];if(0<o(N,_t))rt[Ft]=_t,rt[dt]=N,dt=Ft;else break t}}function n(rt){return rt.length===0?null:rt[0]}function s(rt){if(rt.length===0)return null;var _t=rt[0],dt=rt.pop();if(dt!==_t){rt[0]=dt;t:for(var Ft=0,N=rt.length,J=N>>>1;Ft<J;){var ht=2*(Ft+1)-1,st=rt[ht],at=ht+1,Rt=rt[at];if(0>o(st,dt))at<N&&0>o(Rt,st)?(rt[Ft]=Rt,rt[at]=dt,Ft=at):(rt[Ft]=st,rt[ht]=dt,Ft=ht);else if(at<N&&0>o(Rt,dt))rt[Ft]=Rt,rt[at]=dt,Ft=at;else break t}}return _t}function o(rt,_t){var dt=rt.sortIndex-_t.sortIndex;return dt!==0?dt:rt.id-_t.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var g=[],y=[],T=1,b=null,I=3,P=!1,U=!1,X=!1,F=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,nt=typeof setImmediate<"u"?setImmediate:null;function tt(rt){for(var _t=n(y);_t!==null;){if(_t.callback===null)s(y);else if(_t.startTime<=rt)s(y),_t.sortIndex=_t.expirationTime,t(g,_t);else break;_t=n(y)}}function mt(rt){if(X=!1,tt(rt),!U)if(n(g)!==null)U=!0,_e();else{var _t=n(y);_t!==null&&de(mt,_t.startTime-rt)}}var ut=!1,St=-1,V=5,R=-1;function w(){return!(r.unstable_now()-R<V)}function D(){if(ut){var rt=r.unstable_now();R=rt;var _t=!0;try{t:{U=!1,X&&(X=!1,Y(St),St=-1),P=!0;var dt=I;try{e:{for(tt(rt),b=n(g);b!==null&&!(b.expirationTime>rt&&w());){var Ft=b.callback;if(typeof Ft=="function"){b.callback=null,I=b.priorityLevel;var N=Ft(b.expirationTime<=rt);if(rt=r.unstable_now(),typeof N=="function"){b.callback=N,tt(rt),_t=!0;break e}b===n(g)&&s(g),tt(rt)}else s(g);b=n(g)}if(b!==null)_t=!0;else{var J=n(y);J!==null&&de(mt,J.startTime-rt),_t=!1}}break t}finally{b=null,I=dt,P=!1}_t=void 0}}finally{_t?k():ut=!1}}}var k;if(typeof nt=="function")k=function(){nt(D)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,O=B.port2;B.port1.onmessage=D,k=function(){O.postMessage(null)}}else k=function(){F(D,0)};function _e(){ut||(ut=!0,k())}function de(rt,_t){St=F(function(){rt(r.unstable_now())},_t)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(rt){rt.callback=null},r.unstable_continueExecution=function(){U||P||(U=!0,_e())},r.unstable_forceFrameRate=function(rt){0>rt||125<rt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<rt?Math.floor(1e3/rt):5},r.unstable_getCurrentPriorityLevel=function(){return I},r.unstable_getFirstCallbackNode=function(){return n(g)},r.unstable_next=function(rt){switch(I){case 1:case 2:case 3:var _t=3;break;default:_t=I}var dt=I;I=_t;try{return rt()}finally{I=dt}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(rt,_t){switch(rt){case 1:case 2:case 3:case 4:case 5:break;default:rt=3}var dt=I;I=rt;try{return _t()}finally{I=dt}},r.unstable_scheduleCallback=function(rt,_t,dt){var Ft=r.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?Ft+dt:Ft):dt=Ft,rt){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=dt+N,rt={id:T++,callback:_t,priorityLevel:rt,startTime:dt,expirationTime:N,sortIndex:-1},dt>Ft?(rt.sortIndex=dt,t(y,rt),n(g)===null&&rt===n(y)&&(X?(Y(St),St=-1):X=!0,de(mt,dt-Ft))):(rt.sortIndex=N,t(g,rt),U||P||(U=!0,_e())),rt},r.unstable_shouldYield=w,r.unstable_wrapCallback=function(rt){var _t=I;return function(){var dt=I;I=_t;try{return rt.apply(this,arguments)}finally{I=dt}}}}(pd)),pd}var sv;function xS(){return sv||(sv=1,md.exports=PS()),md.exports}var gd={exports:{}},wt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var av;function US(){if(av)return wt;av=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),b=Symbol.iterator;function I(N){return N===null||typeof N!="object"?null:(N=b&&N[b]||N["@@iterator"],typeof N=="function"?N:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,X={};function F(N,J,ht){this.props=N,this.context=J,this.refs=X,this.updater=ht||P}F.prototype.isReactComponent={},F.prototype.setState=function(N,J){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,J,"setState")},F.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function Y(){}Y.prototype=F.prototype;function nt(N,J,ht){this.props=N,this.context=J,this.refs=X,this.updater=ht||P}var tt=nt.prototype=new Y;tt.constructor=nt,U(tt,F.prototype),tt.isPureReactComponent=!0;var mt=Array.isArray,ut={H:null,A:null,T:null,S:null},St=Object.prototype.hasOwnProperty;function V(N,J,ht,st,at,Rt){return ht=Rt.ref,{$$typeof:r,type:N,key:J,ref:ht!==void 0?ht:null,props:Rt}}function R(N,J){return V(N.type,J,void 0,void 0,void 0,N.props)}function w(N){return typeof N=="object"&&N!==null&&N.$$typeof===r}function D(N){var J={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(ht){return J[ht]})}var k=/\/+/g;function B(N,J){return typeof N=="object"&&N!==null&&N.key!=null?D(""+N.key):J.toString(36)}function O(){}function _e(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(O,O):(N.status="pending",N.then(function(J){N.status==="pending"&&(N.status="fulfilled",N.value=J)},function(J){N.status==="pending"&&(N.status="rejected",N.reason=J)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function de(N,J,ht,st,at){var Rt=typeof N;(Rt==="undefined"||Rt==="boolean")&&(N=null);var At=!1;if(N===null)At=!0;else switch(Rt){case"bigint":case"string":case"number":At=!0;break;case"object":switch(N.$$typeof){case r:case t:At=!0;break;case T:return At=N._init,de(At(N._payload),J,ht,st,at)}}if(At)return at=at(N),At=st===""?"."+B(N,0):st,mt(at)?(ht="",At!=null&&(ht=At.replace(k,"$&/")+"/"),de(at,J,ht,"",function(ie){return ie})):at!=null&&(w(at)&&(at=R(at,ht+(at.key==null||N&&N.key===at.key?"":(""+at.key).replace(k,"$&/")+"/")+At)),J.push(at)),1;At=0;var me=st===""?".":st+":";if(mt(N))for(var zt=0;zt<N.length;zt++)st=N[zt],Rt=me+B(st,zt),At+=de(st,J,ht,Rt,at);else if(zt=I(N),typeof zt=="function")for(N=zt.call(N),zt=0;!(st=N.next()).done;)st=st.value,Rt=me+B(st,zt++),At+=de(st,J,ht,Rt,at);else if(Rt==="object"){if(typeof N.then=="function")return de(_e(N),J,ht,st,at);throw J=String(N),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return At}function rt(N,J,ht){if(N==null)return N;var st=[],at=0;return de(N,st,"","",function(Rt){return J.call(ht,Rt,at++)}),st}function _t(N){if(N._status===-1){var J=N._result;J=J(),J.then(function(ht){(N._status===0||N._status===-1)&&(N._status=1,N._result=ht)},function(ht){(N._status===0||N._status===-1)&&(N._status=2,N._result=ht)}),N._status===-1&&(N._status=0,N._result=J)}if(N._status===1)return N._result.default;throw N._result}var dt=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function Ft(){}return wt.Children={map:rt,forEach:function(N,J,ht){rt(N,function(){J.apply(this,arguments)},ht)},count:function(N){var J=0;return rt(N,function(){J++}),J},toArray:function(N){return rt(N,function(J){return J})||[]},only:function(N){if(!w(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},wt.Component=F,wt.Fragment=n,wt.Profiler=o,wt.PureComponent=nt,wt.StrictMode=s,wt.Suspense=g,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ut,wt.act=function(){throw Error("act(...) is not supported in production builds of React.")},wt.cache=function(N){return function(){return N.apply(null,arguments)}},wt.cloneElement=function(N,J,ht){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var st=U({},N.props),at=N.key,Rt=void 0;if(J!=null)for(At in J.ref!==void 0&&(Rt=void 0),J.key!==void 0&&(at=""+J.key),J)!St.call(J,At)||At==="key"||At==="__self"||At==="__source"||At==="ref"&&J.ref===void 0||(st[At]=J[At]);var At=arguments.length-2;if(At===1)st.children=ht;else if(1<At){for(var me=Array(At),zt=0;zt<At;zt++)me[zt]=arguments[zt+2];st.children=me}return V(N.type,at,void 0,void 0,Rt,st)},wt.createContext=function(N){return N={$$typeof:f,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:u,_context:N},N},wt.createElement=function(N,J,ht){var st,at={},Rt=null;if(J!=null)for(st in J.key!==void 0&&(Rt=""+J.key),J)St.call(J,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(at[st]=J[st]);var At=arguments.length-2;if(At===1)at.children=ht;else if(1<At){for(var me=Array(At),zt=0;zt<At;zt++)me[zt]=arguments[zt+2];at.children=me}if(N&&N.defaultProps)for(st in At=N.defaultProps,At)at[st]===void 0&&(at[st]=At[st]);return V(N,Rt,void 0,void 0,null,at)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(N){return{$$typeof:m,render:N}},wt.isValidElement=w,wt.lazy=function(N){return{$$typeof:T,_payload:{_status:-1,_result:N},_init:_t}},wt.memo=function(N,J){return{$$typeof:y,type:N,compare:J===void 0?null:J}},wt.startTransition=function(N){var J=ut.T,ht={};ut.T=ht;try{var st=N(),at=ut.S;at!==null&&at(ht,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(Ft,dt)}catch(Rt){dt(Rt)}finally{ut.T=J}},wt.unstable_useCacheRefresh=function(){return ut.H.useCacheRefresh()},wt.use=function(N){return ut.H.use(N)},wt.useActionState=function(N,J,ht){return ut.H.useActionState(N,J,ht)},wt.useCallback=function(N,J){return ut.H.useCallback(N,J)},wt.useContext=function(N){return ut.H.useContext(N)},wt.useDebugValue=function(){},wt.useDeferredValue=function(N,J){return ut.H.useDeferredValue(N,J)},wt.useEffect=function(N,J){return ut.H.useEffect(N,J)},wt.useId=function(){return ut.H.useId()},wt.useImperativeHandle=function(N,J,ht){return ut.H.useImperativeHandle(N,J,ht)},wt.useInsertionEffect=function(N,J){return ut.H.useInsertionEffect(N,J)},wt.useLayoutEffect=function(N,J){return ut.H.useLayoutEffect(N,J)},wt.useMemo=function(N,J){return ut.H.useMemo(N,J)},wt.useOptimistic=function(N,J){return ut.H.useOptimistic(N,J)},wt.useReducer=function(N,J,ht){return ut.H.useReducer(N,J,ht)},wt.useRef=function(N){return ut.H.useRef(N)},wt.useState=function(N){return ut.H.useState(N)},wt.useSyncExternalStore=function(N,J,ht){return ut.H.useSyncExternalStore(N,J,ht)},wt.useTransition=function(){return ut.H.useTransition()},wt.version="19.0.0",wt}var ov;function fm(){return ov||(ov=1,gd.exports=US()),gd.exports}var yd={exports:{}},Fe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lv;function zS(){if(lv)return Fe;lv=1;var r=fm();function t(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,T){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:g,containerInfo:y,implementation:T}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Fe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Fe.createPortal=function(g,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(g,y,null,T)},Fe.flushSync=function(g){var y=f.T,T=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=y,s.p=T,s.d.f()}},Fe.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},Fe.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Fe.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var T=y.as,b=m(T,y.crossOrigin),I=typeof y.integrity=="string"?y.integrity:void 0,P=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:I,fetchPriority:P}):T==="script"&&s.d.X(g,{crossOrigin:b,integrity:I,fetchPriority:P,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Fe.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=m(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},Fe.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,b=m(T,y.crossOrigin);s.d.L(g,T,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Fe.preloadModule=function(g,y){if(typeof g=="string")if(y){var T=m(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},Fe.requestFormReset=function(g){s.d.r(g)},Fe.unstable_batchedUpdates=function(g,y){return g(y)},Fe.useFormState=function(g,y,T){return f.H.useFormState(g,y,T)},Fe.useFormStatus=function(){return f.H.useHostTransitionStatus()},Fe.version="19.0.0",Fe}var uv;function BS(){if(uv)return yd.exports;uv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),yd.exports=zS(),yd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cv;function HS(){if(cv)return dl;cv=1;var r=xS(),t=fm(),n=BS();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}var u=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),I=Symbol.for("react.consumer"),P=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),nt=Symbol.for("react.lazy"),tt=Symbol.for("react.offscreen"),mt=Symbol.for("react.memo_cache_sentinel"),ut=Symbol.iterator;function St(e){return e===null||typeof e!="object"?null:(e=ut&&e[ut]||e["@@iterator"],typeof e=="function"?e:null)}var V=Symbol.for("react.client.reference");function R(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===V?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case g:return"Fragment";case m:return"Portal";case T:return"Profiler";case y:return"StrictMode";case X:return"Suspense";case F:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case P:return(e.displayName||"Context")+".Provider";case I:return(e._context.displayName||"Context")+".Consumer";case U:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Y:return i=e.displayName||null,i!==null?i:R(e.type)||"Memo";case nt:i=e._payload,e=e._init;try{return R(e(i))}catch{}}return null}var w=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=Object.assign,k,B;function O(e){if(k===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);k=i&&i[1]||"",B=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+k+e+B}var _e=!1;function de(e,i){if(!e||_e)return"";_e=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(G){var j=G}Reflect.construct(e,[],W)}else{try{W.call()}catch(G){j=G}e.call(W.prototype)}}else{try{throw Error()}catch(G){j=G}(W=e())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(G){if(G&&j&&typeof G.stack=="string")return[G.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),E=d[0],S=d[1];if(E&&S){var C=E.split(`
`),L=S.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<L.length&&!L[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===L.length)for(l=C.length-1,h=L.length-1;1<=l&&0<=h&&C[l]!==L[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==L[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==L[h]){var K=`
`+C[l].replace(" at new "," at ");return e.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",e.displayName)),K}while(1<=l&&0<=h);break}}}finally{_e=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?O(a):""}function rt(e){switch(e.tag){case 26:case 27:case 5:return O(e.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 15:return e=de(e.type,!1),e;case 11:return e=de(e.type.render,!1),e;case 1:return e=de(e.type,!0),e;default:return""}}function _t(e){try{var i="";do i+=rt(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function dt(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function Ft(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function N(e){if(dt(e)!==e)throw Error(s(188))}function J(e){var i=e.alternate;if(!i){if(i=dt(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return N(h),e;if(d===l)return N(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var E=!1,S=h.child;S;){if(S===a){E=!0,a=h,l=d;break}if(S===l){E=!0,l=h,a=d;break}S=S.sibling}if(!E){for(S=d.child;S;){if(S===a){E=!0,a=d,l=h;break}if(S===l){E=!0,l=d,a=h;break}S=S.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function ht(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=ht(e),i!==null)return i;e=e.sibling}return null}var st=Array.isArray,at=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Rt={pending:!1,data:null,method:null,action:null},At=[],me=-1;function zt(e){return{current:e}}function ie(e){0>me||(e.current=At[me],At[me]=null,me--)}function Kt(e,i){me++,At[me]=e.current,e.current=i}var $e=zt(null),fi=zt(null),pn=zt(null),Zi=zt(null);function Wi(e,i){switch(Kt(pn,i),Kt(fi,e),Kt($e,null),e=i.nodeType,e){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?Ny(i):0;break;default:if(e=e===8?i.parentNode:i,i=e.tagName,e=e.namespaceURI)e=Ny(e),i=My(e,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ie($e),Kt($e,i)}function di(){ie($e),ie(fi),ie(pn)}function ao(e){e.memoizedState!==null&&Kt(Zi,e);var i=$e.current,a=My(i,e.type);i!==a&&(Kt(fi,e),Kt($e,a))}function Fs(e){fi.current===e&&(ie($e),ie(fi)),Zi.current===e&&(ie(Zi),ol._currentValue=Rt)}var Gs=Object.prototype.hasOwnProperty,es=r.unstable_scheduleCallback,Ks=r.unstable_cancelCallback,dh=r.unstable_shouldYield,oo=r.unstable_requestPaint,nn=r.unstable_now,$l=r.unstable_getCurrentPriorityLevel,Ee=r.unstable_ImmediatePriority,Ie=r.unstable_UserBlockingPriority,mi=r.unstable_NormalPriority,Xl=r.unstable_LowPriority,lo=r.unstable_IdlePriority,mh=r.log,ns=r.unstable_setDisableYieldValue,Ji=null,je=null;function uo(e){if(je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot(Ji,e,void 0,(e.current.flags&128)===128)}catch{}}function jn(e){if(typeof mh=="function"&&ns(e),je&&typeof je.setStrictMode=="function")try{je.setStrictMode(Ji,e)}catch{}}var Xe=Math.clz32?Math.clz32:Wl,co=Math.log,Zl=Math.LN2;function Wl(e){return e>>>=0,e===0?32:31-(co(e)/Zl|0)|0}var qn=128,tr=4194304;function Vn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function gn(e,i){var a=e.pendingLanes;if(a===0)return 0;var l=0,h=e.suspendedLanes,d=e.pingedLanes,E=e.warmLanes;e=e.finishedLanes!==0;var S=a&134217727;return S!==0?(a=S&~h,a!==0?l=Vn(a):(d&=S,d!==0?l=Vn(d):e||(E=S&~E,E!==0&&(l=Vn(E))))):(S=a&~h,S!==0?l=Vn(S):d!==0?l=Vn(d):e||(E=a&~E,E!==0&&(l=Vn(E)))),l===0?0:i!==0&&i!==l&&(i&h)===0&&(h=l&-l,E=i&-i,h>=E||h===32&&(E&4194176)!==0)?i:l}function er(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Qs(e,i){switch(e){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ho(){var e=qn;return qn<<=1,(qn&4194176)===0&&(qn=128),e}function nr(){var e=tr;return tr<<=1,(tr&62914560)===0&&(tr=4194304),e}function Ys(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function ue(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Jl(e,i,a,l,h,d){var E=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var S=e.entanglements,C=e.expirationTimes,L=e.hiddenUpdates;for(a=E&~a;0<a;){var K=31-Xe(a),W=1<<K;S[K]=0,C[K]=-1;var j=L[K];if(j!==null)for(L[K]=null,K=0;K<j.length;K++){var G=j[K];G!==null&&(G.lane&=-536870913)}a&=~W}l!==0&&ir(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(E&~i))}function ir(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-Xe(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194218}function rr(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-Xe(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function tu(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function eu(){var e=at.p;return e!==0?e:(e=window.event,e===void 0?32:Xy(e.type))}function sr(e,i){var a=at.p;try{return at.p=e,i()}finally{at.p=a}}var Fn=Math.random().toString(36).slice(2),De="__reactFiber$"+Fn,Te="__reactProps$"+Fn,pi="__reactContainer$"+Fn,is="__reactEvents$"+Fn,$s="__reactListeners$"+Fn,Gn="__reactHandles$"+Fn,fo="__reactResources$"+Fn,ar="__reactMarker$"+Fn;function rs(e){delete e[De],delete e[Te],delete e[is],delete e[$s],delete e[Gn]}function kn(e){var i=e[De];if(i)return i;for(var a=e.parentNode;a;){if(i=a[pi]||a[De]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=Ly(e);e!==null;){if(a=e[De])return a;e=Ly(e)}return i}e=a,a=e.parentNode}return null}function gi(e){if(e=e[De]||e[pi]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function or(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function lr(e){var i=e[fo];return i||(i=e[fo]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Jt(e){e[ar]=!0}var mo=new Set,Xs={};function ln(e,i){rn(e,i),rn(e+"Capture",i)}function rn(e,i){for(Xs[e]=i,e=0;e<i.length;e++)mo.add(i[e])}var un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ph=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),po={},go={};function nu(e){return Gs.call(go,e)?!0:Gs.call(po,e)?!1:ph.test(e)?go[e]=!0:(po[e]=!0,!1)}function ur(e,i,a){if(nu(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function cr(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function yn(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}function Ze(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function iu(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function gh(e){var i=iu(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),l=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(E){l=""+E,d.call(this,E)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function ss(e){e._valueTracker||(e._valueTracker=gh(e))}function yo(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=iu(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function Zs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var yi=/[\n"\\]/g;function re(e){return e.replace(yi,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function hr(e,i,a,l,h,d,E,S){e.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.type=E:e.removeAttribute("type"),i!=null?E==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Ze(i)):e.value!==""+Ze(i)&&(e.value=""+Ze(i)):E!=="submit"&&E!=="reset"||e.removeAttribute("value"),i!=null?Ws(e,E,Ze(i)):a!=null?Ws(e,E,Ze(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.name=""+Ze(S):e.removeAttribute("name")}function as(e,i,a,l,h,d,E,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+Ze(a):"",i=i!=null?""+Ze(i):a,S||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=S?e.checked:!!l,e.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(e.name=E)}function Ws(e,i,a){i==="number"&&Zs(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Bt(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Ze(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function os(e,i,a){if(i!=null&&(i=""+Ze(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+Ze(a):""}function fr(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(st(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Ze(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function vn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var yh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vo(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||yh.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function ru(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&vo(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&vo(e,d,i[d])}function _o(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_h=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Kn(e){return _h.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var _n=null;function Js(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var vi=null,_i=null;function Ei(e){var i=gi(e);if(i&&(e=i.stateNode)){var a=e[Te]||null;t:switch(e=i.stateNode,i.type){case"input":if(hr(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+re(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[Te]||null;if(!h)throw Error(s(90));hr(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&yo(l)}break t;case"textarea":os(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&Bt(e,!!a.multiple,i,!1)}}}var Eo=!1;function su(e,i,a){if(Eo)return e(i,a);Eo=!0;try{var l=e(i);return l}finally{if(Eo=!1,(vi!==null||_i!==null)&&(Xu(),vi&&(i=vi,e=_i,_i=vi=null,Ei(i),e)))for(i=0;i<e.length;i++)Ei(e[i])}}function ls(e,i){var a=e.stateNode;if(a===null)return null;var l=a[Te]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var En=!1;if(un)try{var us={};Object.defineProperty(us,"passive",{get:function(){En=!0}}),window.addEventListener("test",us,us),window.removeEventListener("test",us,us)}catch{En=!1}var Qn=null,dr=null,Ti=null;function To(){if(Ti)return Ti;var e,i=dr,a=i.length,l,h="value"in Qn?Qn.value:Qn.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var E=a-e;for(l=1;l<=E&&i[a-l]===h[d-l];l++);return Ti=h.slice(e,1<l?1-l:void 0)}function Yn(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function $n(){return!0}function So(){return!1}function Oe(e){function i(a,l,h,d,E){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(a=e[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?$n:So,this.isPropagationStopped=So,this}return D(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=$n)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=$n)},persist:function(){},isPersistent:$n}),i}var Gt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ta=Oe(Gt),cs=D({},Gt,{view:0,detail:0}),au=Oe(cs),ea,na,Xn,hs=D({},cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ms,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xn&&(Xn&&e.type==="mousemove"?(ea=e.screenX-Xn.screenX,na=e.screenY-Xn.screenY):na=ea=0,Xn=e),ea)},movementY:function(e){return"movementY"in e?e.movementY:na}}),Tn=Oe(hs),ou=D({},hs,{dataTransfer:0}),Eh=Oe(ou),fs=D({},cs,{relatedTarget:0}),ia=Oe(fs),Ao=D({},Gt,{animationName:0,elapsedTime:0,pseudoElement:0}),ra=Oe(Ao),lu=D({},Gt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sa=Oe(lu),Th=D({},Gt,{data:0}),wo=Oe(Th),ds={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bo(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=cu[e])?!!i[e]:!1}function ms(){return bo}var hu=D({},cs,{key:function(e){if(e.key){var i=ds[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Yn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?uu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ms,charCode:function(e){return e.type==="keypress"?Yn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Yn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),aa=Oe(hu),fu=D({},hs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ro=Oe(fu),Si=D({},cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ms}),du=Oe(Si),mu=D({},Gt,{propertyName:0,elapsedTime:0,pseudoElement:0}),pu=Oe(mu),gu=D({},hs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),oa=Oe(gu),We=D({},Gt,{newState:0,oldState:0}),yu=Oe(We),vu=[9,13,27,32],Zn=un&&"CompositionEvent"in window,c=null;un&&"documentMode"in document&&(c=document.documentMode);var p=un&&"TextEvent"in window&&!c,v=un&&(!Zn||c&&8<c&&11>=c),A=" ",z=!1;function q(e,i){switch(e){case"keyup":return vu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function et(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Mt=!1;function Se(e,i){switch(e){case"compositionend":return et(i);case"keypress":return i.which!==32?null:(z=!0,A);case"textInput":return e=i.data,e===A&&z?null:e;default:return null}}function Vt(e,i){if(Mt)return e==="compositionend"||!Zn&&q(e,i)?(e=To(),Ti=dr=Qn=null,Mt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return v&&i.locale!=="ko"?null:i.data;default:return null}}var Ne={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ae(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!Ne[e.type]:i==="textarea"}function Ai(e,i,a,l){vi?_i?_i.push(l):_i=[l]:vi=l,i=ec(i,"onChange"),0<i.length&&(a=new ta("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var Pe=null,Wn=null;function Co(e){Ry(e,0)}function _u(e){var i=or(e);if(yo(i))return e}function ep(e,i){if(e==="change")return i}var np=!1;if(un){var Sh;if(un){var Ah="oninput"in document;if(!Ah){var ip=document.createElement("div");ip.setAttribute("oninput","return;"),Ah=typeof ip.oninput=="function"}Sh=Ah}else Sh=!1;np=Sh&&(!document.documentMode||9<document.documentMode)}function rp(){Pe&&(Pe.detachEvent("onpropertychange",sp),Wn=Pe=null)}function sp(e){if(e.propertyName==="value"&&_u(Wn)){var i=[];Ai(i,Wn,e,Js(e)),su(Co,i)}}function uT(e,i,a){e==="focusin"?(rp(),Pe=i,Wn=a,Pe.attachEvent("onpropertychange",sp)):e==="focusout"&&rp()}function cT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _u(Wn)}function hT(e,i){if(e==="click")return _u(i)}function fT(e,i){if(e==="input"||e==="change")return _u(i)}function dT(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var cn=typeof Object.is=="function"?Object.is:dT;function Io(e,i){if(cn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Gs.call(i,h)||!cn(e[h],i[h]))return!1}return!0}function ap(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function op(e,i){var a=ap(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=ap(a)}}function lp(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?lp(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function up(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=Zs(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=Zs(e.document)}return i}function wh(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}function mT(e,i){var a=up(i);i=e.focusedElem;var l=e.selectionRange;if(a!==i&&i&&i.ownerDocument&&lp(i.ownerDocument.documentElement,i)){if(l!==null&&wh(i)){if(e=l.start,a=l.end,a===void 0&&(a=e),"selectionStart"in i)i.selectionStart=e,i.selectionEnd=Math.min(a,i.value.length);else if(a=(e=i.ownerDocument||document)&&e.defaultView||window,a.getSelection){a=a.getSelection();var h=i.textContent.length,d=Math.min(l.start,h);l=l.end===void 0?d:Math.min(l.end,h),!a.extend&&d>l&&(h=l,l=d,d=h),h=op(i,d);var E=op(i,l);h&&E&&(a.rangeCount!==1||a.anchorNode!==h.node||a.anchorOffset!==h.offset||a.focusNode!==E.node||a.focusOffset!==E.offset)&&(e=e.createRange(),e.setStart(h.node,h.offset),a.removeAllRanges(),d>l?(a.addRange(e),a.extend(E.node,E.offset)):(e.setEnd(E.node,E.offset),a.addRange(e)))}}for(e=[],a=i;a=a.parentNode;)a.nodeType===1&&e.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<e.length;i++)a=e[i],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var pT=un&&"documentMode"in document&&11>=document.documentMode,la=null,bh=null,Do=null,Rh=!1;function cp(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Rh||la==null||la!==Zs(l)||(l=la,"selectionStart"in l&&wh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Do&&Io(Do,l)||(Do=l,l=ec(bh,"onSelect"),0<l.length&&(i=new ta("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=la)))}function ps(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var ua={animationend:ps("Animation","AnimationEnd"),animationiteration:ps("Animation","AnimationIteration"),animationstart:ps("Animation","AnimationStart"),transitionrun:ps("Transition","TransitionRun"),transitionstart:ps("Transition","TransitionStart"),transitioncancel:ps("Transition","TransitionCancel"),transitionend:ps("Transition","TransitionEnd")},Ch={},hp={};un&&(hp=document.createElement("div").style,"AnimationEvent"in window||(delete ua.animationend.animation,delete ua.animationiteration.animation,delete ua.animationstart.animation),"TransitionEvent"in window||delete ua.transitionend.transition);function gs(e){if(Ch[e])return Ch[e];if(!ua[e])return e;var i=ua[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in hp)return Ch[e]=i[a];return e}var fp=gs("animationend"),dp=gs("animationiteration"),mp=gs("animationstart"),gT=gs("transitionrun"),yT=gs("transitionstart"),vT=gs("transitioncancel"),pp=gs("transitionend"),gp=new Map,yp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Ln(e,i){gp.set(e,i),ln(i,[e])}var Sn=[],ca=0,Ih=0;function Eu(){for(var e=ca,i=Ih=ca=0;i<e;){var a=Sn[i];Sn[i++]=null;var l=Sn[i];Sn[i++]=null;var h=Sn[i];Sn[i++]=null;var d=Sn[i];if(Sn[i++]=null,l!==null&&h!==null){var E=l.pending;E===null?h.next=h:(h.next=E.next,E.next=h),l.pending=h}d!==0&&vp(a,h,d)}}function Tu(e,i,a,l){Sn[ca++]=e,Sn[ca++]=i,Sn[ca++]=a,Sn[ca++]=l,Ih|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Dh(e,i,a,l){return Tu(e,i,a,l),Su(e)}function mr(e,i){return Tu(e,null,null,i),Su(e)}function vp(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;h&&i!==null&&e.tag===3&&(d=e.stateNode,h=31-Xe(a),d=d.hiddenUpdates,e=d[h],e===null?d[h]=[i]:e.push(i),i.lane=a|536870912)}function Su(e){if(50<tl)throw tl=0,Pf=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var ha={},_p=new WeakMap;function An(e,i){if(typeof e=="object"&&e!==null){var a=_p.get(e);return a!==void 0?a:(i={value:e,source:i,stack:_t(i)},_p.set(e,i),i)}return{value:e,source:i,stack:_t(i)}}var fa=[],da=0,Au=null,wu=0,wn=[],bn=0,ys=null,wi=1,bi="";function vs(e,i){fa[da++]=wu,fa[da++]=Au,Au=e,wu=i}function Ep(e,i,a){wn[bn++]=wi,wn[bn++]=bi,wn[bn++]=ys,ys=e;var l=wi;e=bi;var h=32-Xe(l)-1;l&=~(1<<h),a+=1;var d=32-Xe(i)+h;if(30<d){var E=h-h%5;d=(l&(1<<E)-1).toString(32),l>>=E,h-=E,wi=1<<32-Xe(i)+h|a<<h|l,bi=d+e}else wi=1<<d|a<<h|l,bi=e}function Oh(e){e.return!==null&&(vs(e,1),Ep(e,1,0))}function Nh(e){for(;e===Au;)Au=fa[--da],fa[da]=null,wu=fa[--da],fa[da]=null;for(;e===ys;)ys=wn[--bn],wn[bn]=null,bi=wn[--bn],wn[bn]=null,wi=wn[--bn],wn[bn]=null}var Je=null,xe=null,Ht=!1,Pn=null,Jn=!1,Mh=Error(s(519));function _s(e){var i=Error(s(418,""));throw Mo(An(i,e)),Mh}function Tp(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[De]=e,i[Te]=l,a){case"dialog":Nt("cancel",i),Nt("close",i);break;case"iframe":case"object":case"embed":Nt("load",i);break;case"video":case"audio":for(a=0;a<nl.length;a++)Nt(nl[a],i);break;case"source":Nt("error",i);break;case"img":case"image":case"link":Nt("error",i),Nt("load",i);break;case"details":Nt("toggle",i);break;case"input":Nt("invalid",i),as(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ss(i);break;case"select":Nt("invalid",i);break;case"textarea":Nt("invalid",i),fr(i,l.value,l.defaultValue,l.children),ss(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||Oy(i.textContent,a)?(l.popover!=null&&(Nt("beforetoggle",i),Nt("toggle",i)),l.onScroll!=null&&Nt("scroll",i),l.onScrollEnd!=null&&Nt("scrollend",i),l.onClick!=null&&(i.onclick=nc),i=!0):i=!1,i||_s(e)}function Sp(e){for(Je=e.return;Je;)switch(Je.tag){case 3:case 27:Jn=!0;return;case 5:case 13:Jn=!1;return;default:Je=Je.return}}function Oo(e){if(e!==Je)return!1;if(!Ht)return Sp(e),Ht=!0,!1;var i=!1,a;if((a=e.tag!==3&&e.tag!==27)&&((a=e.tag===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Jf(e.type,e.memoizedProps)),a=!a),a&&(i=!0),i&&xe&&_s(e),Sp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){xe=Un(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}xe=null}}else xe=Je?Un(e.stateNode.nextSibling):null;return!0}function No(){xe=Je=null,Ht=!1}function Mo(e){Pn===null?Pn=[e]:Pn.push(e)}var Vo=Error(s(460)),Ap=Error(s(474)),Vh={then:function(){}};function wp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function bu(){}function bp(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(bu,bu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,e===Vo?Error(s(483)):e;default:if(typeof i.status=="string")i.then(bu,bu);else{if(e=Xt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,e===Vo?Error(s(483)):e}throw ko=i,Vo}}var ko=null;function Rp(){if(ko===null)throw Error(s(459));var e=ko;return ko=null,e}var ma=null,Lo=0;function Ru(e){var i=Lo;return Lo+=1,ma===null&&(ma=[]),bp(ma,e,i)}function Po(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Cu(e,i){throw i.$$typeof===u?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Cp(e){var i=e._init;return i(e._payload)}function Ip(e){function i(x,M){if(e){var H=x.deletions;H===null?(x.deletions=[M],x.flags|=16):H.push(M)}}function a(x,M){if(!e)return null;for(;M!==null;)i(x,M),M=M.sibling;return null}function l(x){for(var M=new Map;x!==null;)x.key!==null?M.set(x.key,x):M.set(x.index,x),x=x.sibling;return M}function h(x,M){return x=Rr(x,M),x.index=0,x.sibling=null,x}function d(x,M,H){return x.index=H,e?(H=x.alternate,H!==null?(H=H.index,H<M?(x.flags|=33554434,M):H):(x.flags|=33554434,M)):(x.flags|=1048576,M)}function E(x){return e&&x.alternate===null&&(x.flags|=33554434),x}function S(x,M,H,$){return M===null||M.tag!==6?(M=If(H,x.mode,$),M.return=x,M):(M=h(M,H),M.return=x,M)}function C(x,M,H,$){var lt=H.type;return lt===g?K(x,M,H.props.children,$,H.key):M!==null&&(M.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===nt&&Cp(lt)===M.type)?(M=h(M,H.props),Po(M,H),M.return=x,M):(M=Gu(H.type,H.key,H.props,null,x.mode,$),Po(M,H),M.return=x,M)}function L(x,M,H,$){return M===null||M.tag!==4||M.stateNode.containerInfo!==H.containerInfo||M.stateNode.implementation!==H.implementation?(M=Df(H,x.mode,$),M.return=x,M):(M=h(M,H.children||[]),M.return=x,M)}function K(x,M,H,$,lt){return M===null||M.tag!==7?(M=Ds(H,x.mode,$,lt),M.return=x,M):(M=h(M,H),M.return=x,M)}function W(x,M,H){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=If(""+M,x.mode,H),M.return=x,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case f:return H=Gu(M.type,M.key,M.props,null,x.mode,H),Po(H,M),H.return=x,H;case m:return M=Df(M,x.mode,H),M.return=x,M;case nt:var $=M._init;return M=$(M._payload),W(x,M,H)}if(st(M)||St(M))return M=Ds(M,x.mode,H,null),M.return=x,M;if(typeof M.then=="function")return W(x,Ru(M),H);if(M.$$typeof===P)return W(x,ju(x,M),H);Cu(x,M)}return null}function j(x,M,H,$){var lt=M!==null?M.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return lt!==null?null:S(x,M,""+H,$);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case f:return H.key===lt?C(x,M,H,$):null;case m:return H.key===lt?L(x,M,H,$):null;case nt:return lt=H._init,H=lt(H._payload),j(x,M,H,$)}if(st(H)||St(H))return lt!==null?null:K(x,M,H,$,null);if(typeof H.then=="function")return j(x,M,Ru(H),$);if(H.$$typeof===P)return j(x,M,ju(x,H),$);Cu(x,H)}return null}function G(x,M,H,$,lt){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return x=x.get(H)||null,S(M,x,""+$,lt);if(typeof $=="object"&&$!==null){switch($.$$typeof){case f:return x=x.get($.key===null?H:$.key)||null,C(M,x,$,lt);case m:return x=x.get($.key===null?H:$.key)||null,L(M,x,$,lt);case nt:var It=$._init;return $=It($._payload),G(x,M,H,$,lt)}if(st($)||St($))return x=x.get(H)||null,K(M,x,$,lt,null);if(typeof $.then=="function")return G(x,M,H,Ru($),lt);if($.$$typeof===P)return G(x,M,H,ju(M,$),lt);Cu(M,$)}return null}function ct(x,M,H,$){for(var lt=null,It=null,ft=M,pt=M=0,ke=null;ft!==null&&pt<H.length;pt++){ft.index>pt?(ke=ft,ft=null):ke=ft.sibling;var jt=j(x,ft,H[pt],$);if(jt===null){ft===null&&(ft=ke);break}e&&ft&&jt.alternate===null&&i(x,ft),M=d(jt,M,pt),It===null?lt=jt:It.sibling=jt,It=jt,ft=ke}if(pt===H.length)return a(x,ft),Ht&&vs(x,pt),lt;if(ft===null){for(;pt<H.length;pt++)ft=W(x,H[pt],$),ft!==null&&(M=d(ft,M,pt),It===null?lt=ft:It.sibling=ft,It=ft);return Ht&&vs(x,pt),lt}for(ft=l(ft);pt<H.length;pt++)ke=G(ft,x,pt,H[pt],$),ke!==null&&(e&&ke.alternate!==null&&ft.delete(ke.key===null?pt:ke.key),M=d(ke,M,pt),It===null?lt=ke:It.sibling=ke,It=ke);return e&&ft.forEach(function(Vr){return i(x,Vr)}),Ht&&vs(x,pt),lt}function Et(x,M,H,$){if(H==null)throw Error(s(151));for(var lt=null,It=null,ft=M,pt=M=0,ke=null,jt=H.next();ft!==null&&!jt.done;pt++,jt=H.next()){ft.index>pt?(ke=ft,ft=null):ke=ft.sibling;var Vr=j(x,ft,jt.value,$);if(Vr===null){ft===null&&(ft=ke);break}e&&ft&&Vr.alternate===null&&i(x,ft),M=d(Vr,M,pt),It===null?lt=Vr:It.sibling=Vr,It=Vr,ft=ke}if(jt.done)return a(x,ft),Ht&&vs(x,pt),lt;if(ft===null){for(;!jt.done;pt++,jt=H.next())jt=W(x,jt.value,$),jt!==null&&(M=d(jt,M,pt),It===null?lt=jt:It.sibling=jt,It=jt);return Ht&&vs(x,pt),lt}for(ft=l(ft);!jt.done;pt++,jt=H.next())jt=G(ft,x,pt,jt.value,$),jt!==null&&(e&&jt.alternate!==null&&ft.delete(jt.key===null?pt:jt.key),M=d(jt,M,pt),It===null?lt=jt:It.sibling=jt,It=jt);return e&&ft.forEach(function(MS){return i(x,MS)}),Ht&&vs(x,pt),lt}function oe(x,M,H,$){if(typeof H=="object"&&H!==null&&H.type===g&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case f:t:{for(var lt=H.key;M!==null;){if(M.key===lt){if(lt=H.type,lt===g){if(M.tag===7){a(x,M.sibling),$=h(M,H.props.children),$.return=x,x=$;break t}}else if(M.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===nt&&Cp(lt)===M.type){a(x,M.sibling),$=h(M,H.props),Po($,H),$.return=x,x=$;break t}a(x,M);break}else i(x,M);M=M.sibling}H.type===g?($=Ds(H.props.children,x.mode,$,H.key),$.return=x,x=$):($=Gu(H.type,H.key,H.props,null,x.mode,$),Po($,H),$.return=x,x=$)}return E(x);case m:t:{for(lt=H.key;M!==null;){if(M.key===lt)if(M.tag===4&&M.stateNode.containerInfo===H.containerInfo&&M.stateNode.implementation===H.implementation){a(x,M.sibling),$=h(M,H.children||[]),$.return=x,x=$;break t}else{a(x,M);break}else i(x,M);M=M.sibling}$=Df(H,x.mode,$),$.return=x,x=$}return E(x);case nt:return lt=H._init,H=lt(H._payload),oe(x,M,H,$)}if(st(H))return ct(x,M,H,$);if(St(H)){if(lt=St(H),typeof lt!="function")throw Error(s(150));return H=lt.call(H),Et(x,M,H,$)}if(typeof H.then=="function")return oe(x,M,Ru(H),$);if(H.$$typeof===P)return oe(x,M,ju(x,H),$);Cu(x,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,M!==null&&M.tag===6?(a(x,M.sibling),$=h(M,H),$.return=x,x=$):(a(x,M),$=If(H,x.mode,$),$.return=x,x=$),E(x)):a(x,M)}return function(x,M,H,$){try{Lo=0;var lt=oe(x,M,H,$);return ma=null,lt}catch(ft){if(ft===Vo)throw ft;var It=Dn(29,ft,null,x.mode);return It.lanes=$,It.return=x,It}finally{}}}var Es=Ip(!0),Dp=Ip(!1),pa=zt(null),Iu=zt(0);function Op(e,i){e=Pi,Kt(Iu,e),Kt(pa,i),Pi=e|i.baseLanes}function kh(){Kt(Iu,Pi),Kt(pa,pa.current)}function Lh(){Pi=Iu.current,ie(pa),ie(Iu)}var Rn=zt(null),ti=null;function pr(e){var i=e.alternate;Kt(we,we.current&1),Kt(Rn,e),ti===null&&(i===null||pa.current!==null||i.memoizedState!==null)&&(ti=e)}function Np(e){if(e.tag===22){if(Kt(we,we.current),Kt(Rn,e),ti===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(ti=e)}}else gr()}function gr(){Kt(we,we.current),Kt(Rn,Rn.current)}function Ri(e){ie(Rn),ti===e&&(ti=null),ie(we)}var we=zt(0);function Du(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var _T=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},ET=r.unstable_scheduleCallback,TT=r.unstable_NormalPriority,be={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ph(){return{controller:new _T,data:new Map,refCount:0}}function xo(e){e.refCount--,e.refCount===0&&ET(TT,function(){e.controller.abort()})}var Uo=null,xh=0,ga=0,ya=null;function ST(e,i){if(Uo===null){var a=Uo=[];xh=0,ga=Ff(),ya={status:"pending",value:void 0,then:function(l){a.push(l)}}}return xh++,i.then(Mp,Mp),i}function Mp(){if(--xh===0&&Uo!==null){ya!==null&&(ya.status="fulfilled");var e=Uo;Uo=null,ga=0,ya=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function AT(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Vp=w.S;w.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&ST(e,i),Vp!==null&&Vp(e,i)};var Ts=zt(null);function Uh(){var e=Ts.current;return e!==null?e:Xt.pooledCache}function Ou(e,i){i===null?Kt(Ts,Ts.current):Kt(Ts,i.pool)}function kp(){var e=Uh();return e===null?null:{parent:be._currentValue,pool:e}}var yr=0,Ct=null,Qt=null,pe=null,Nu=!1,va=!1,Ss=!1,Mu=0,zo=0,_a=null,wT=0;function ce(){throw Error(s(321))}function zh(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!cn(e[a],i[a]))return!1;return!0}function Bh(e,i,a,l,h,d){return yr=d,Ct=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,w.H=e===null||e.memoizedState===null?As:vr,Ss=!1,d=a(l,h),Ss=!1,va&&(d=Pp(i,a,l,h)),Lp(e),d}function Lp(e){w.H=ei;var i=Qt!==null&&Qt.next!==null;if(yr=0,pe=Qt=Ct=null,Nu=!1,zo=0,_a=null,i)throw Error(s(300));e===null||Me||(e=e.dependencies,e!==null&&Hu(e)&&(Me=!0))}function Pp(e,i,a,l){Ct=e;var h=0;do{if(va&&(_a=null),zo=0,va=!1,25<=h)throw Error(s(301));if(h+=1,pe=Qt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}w.H=ws,d=i(a,l)}while(va);return d}function bT(){var e=w.H,i=e.useState()[0];return i=typeof i.then=="function"?Bo(i):i,e=e.useState()[0],(Qt!==null?Qt.memoizedState:null)!==e&&(Ct.flags|=1024),i}function Hh(){var e=Mu!==0;return Mu=0,e}function jh(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function qh(e){if(Nu){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Nu=!1}yr=0,pe=Qt=Ct=null,va=!1,zo=Mu=0,_a=null}function sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pe===null?Ct.memoizedState=pe=e:pe=pe.next=e,pe}function ge(){if(Qt===null){var e=Ct.alternate;e=e!==null?e.memoizedState:null}else e=Qt.next;var i=pe===null?Ct.memoizedState:pe.next;if(i!==null)pe=i,Qt=e;else{if(e===null)throw Ct.alternate===null?Error(s(467)):Error(s(310));Qt=e,e={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},pe===null?Ct.memoizedState=pe=e:pe=pe.next=e}return pe}var Vu;Vu=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Bo(e){var i=zo;return zo+=1,_a===null&&(_a=[]),e=bp(_a,e,i),i=Ct,(pe===null?i.memoizedState:pe.next)===null&&(i=i.alternate,w.H=i===null||i.memoizedState===null?As:vr),e}function ku(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Bo(e);if(e.$$typeof===P)return qe(e)}throw Error(s(438,String(e)))}function Fh(e){var i=null,a=Ct.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ct.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Vu(),Ct.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=mt;return i.index++,a}function Ci(e,i){return typeof i=="function"?i(e):i}function Lu(e){var i=ge();return Gh(i,Qt,e)}function Gh(e,i,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var E=h.next;h.next=d.next,d.next=E}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var S=E=null,C=null,L=i,K=!1;do{var W=L.lane&-536870913;if(W!==L.lane?(kt&W)===W:(yr&W)===W){var j=L.revertLane;if(j===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),W===ga&&(K=!0);else if((yr&j)===j){L=L.next,j===ga&&(K=!0);continue}else W={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},C===null?(S=C=W,E=d):C=C.next=W,Ct.lanes|=j,Cr|=j;W=L.action,Ss&&a(d,W),d=L.hasEagerState?L.eagerState:a(d,W)}else j={lane:W,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},C===null?(S=C=j,E=d):C=C.next=j,Ct.lanes|=W,Cr|=W;L=L.next}while(L!==null&&L!==i);if(C===null?E=d:C.next=S,!cn(d,e.memoizedState)&&(Me=!0,K&&(a=ya,a!==null)))throw a;e.memoizedState=d,e.baseState=E,e.baseQueue=C,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Kh(e){var i=ge(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var E=h=h.next;do d=e(d,E.action),E=E.next;while(E!==h);cn(d,i.memoizedState)||(Me=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function xp(e,i,a){var l=Ct,h=ge(),d=Ht;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var E=!cn((Qt||h).memoizedState,a);if(E&&(h.memoizedState=a,Me=!0),h=h.queue,$h(Bp.bind(null,l,h,e),[e]),h.getSnapshot!==i||E||pe!==null&&pe.memoizedState.tag&1){if(l.flags|=2048,Ea(9,zp.bind(null,l,h,a,i),{destroy:void 0},null),Xt===null)throw Error(s(349));d||(yr&60)!==0||Up(l,i,a)}return a}function Up(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=Ct.updateQueue,i===null?(i=Vu(),Ct.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function zp(e,i,a,l){i.value=a,i.getSnapshot=l,Hp(i)&&jp(e)}function Bp(e,i,a){return a(function(){Hp(i)&&jp(e)})}function Hp(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!cn(e,a)}catch{return!0}}function jp(e){var i=mr(e,2);i!==null&&tn(i,e,2)}function Qh(e){var i=sn();if(typeof e=="function"){var a=e;if(e=a(),Ss){jn(!0);try{a()}finally{jn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:e},i}function qp(e,i,a,l){return e.baseState=a,Gh(e,Qt,typeof l=="function"?l:Ci)}function RT(e,i,a,l,h){if(Uu(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};w.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Fp(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Fp(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=w.T,E={};w.T=E;try{var S=a(h,l),C=w.S;C!==null&&C(E,S),Gp(e,i,S)}catch(L){Yh(e,i,L)}finally{w.T=d}}else try{d=a(h,l),Gp(e,i,d)}catch(L){Yh(e,i,L)}}function Gp(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Kp(e,i,l)},function(l){return Yh(e,i,l)}):Kp(e,i,a)}function Kp(e,i,a){i.status="fulfilled",i.value=a,Qp(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,Fp(e,a)))}function Yh(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Qp(i),i=i.next;while(i!==l)}e.action=null}function Qp(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Yp(e,i){return i}function $p(e,i){if(Ht){var a=Xt.formState;if(a!==null){t:{var l=Ct;if(Ht){if(xe){e:{for(var h=xe,d=Jn;h.nodeType!==8;){if(!d){h=null;break e}if(h=Un(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){xe=Un(h.nextSibling),l=h.data==="F!";break t}}_s(l)}l=!1}l&&(i=a[0])}}return a=sn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yp,lastRenderedState:i},a.queue=l,a=dg.bind(null,Ct,l),l.dispatch=a,l=Qh(!1),d=tf.bind(null,Ct,!1,l.queue),l=sn(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=RT.bind(null,Ct,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function Xp(e){var i=ge();return Zp(i,Qt,e)}function Zp(e,i,a){i=Gh(e,i,Yp)[0],e=Lu(Ci)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?Bo(i):i;var l=ge(),h=l.queue,d=h.dispatch;return a!==l.memoizedState&&(Ct.flags|=2048,Ea(9,CT.bind(null,h,a),{destroy:void 0},null)),[i,d,e]}function CT(e,i){e.action=i}function Wp(e){var i=ge(),a=Qt;if(a!==null)return Zp(i,a,e);ge(),i=i.memoizedState,a=ge();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function Ea(e,i,a,l){return e={tag:e,create:i,inst:a,deps:l,next:null},i=Ct.updateQueue,i===null&&(i=Vu(),Ct.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function Jp(){return ge().memoizedState}function Pu(e,i,a,l){var h=sn();Ct.flags|=e,h.memoizedState=Ea(1|i,a,{destroy:void 0},l===void 0?null:l)}function xu(e,i,a,l){var h=ge();l=l===void 0?null:l;var d=h.memoizedState.inst;Qt!==null&&l!==null&&zh(l,Qt.memoizedState.deps)?h.memoizedState=Ea(i,a,d,l):(Ct.flags|=e,h.memoizedState=Ea(1|i,a,d,l))}function tg(e,i){Pu(8390656,8,e,i)}function $h(e,i){xu(2048,8,e,i)}function eg(e,i){return xu(4,2,e,i)}function ng(e,i){return xu(4,4,e,i)}function ig(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function rg(e,i,a){a=a!=null?a.concat([e]):null,xu(4,4,ig.bind(null,i,e),a)}function Xh(){}function sg(e,i){var a=ge();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&zh(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function ag(e,i){var a=ge();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&zh(i,l[1]))return l[0];if(l=e(),Ss){jn(!0);try{e()}finally{jn(!1)}}return a.memoizedState=[l,i],l}function Zh(e,i,a){return a===void 0||(yr&1073741824)!==0?e.memoizedState=i:(e.memoizedState=a,e=ly(),Ct.lanes|=e,Cr|=e,a)}function og(e,i,a,l){return cn(a,i)?a:pa.current!==null?(e=Zh(e,a,l),cn(e,i)||(Me=!0),e):(yr&42)===0?(Me=!0,e.memoizedState=a):(e=ly(),Ct.lanes|=e,Cr|=e,i)}function lg(e,i,a,l,h){var d=at.p;at.p=d!==0&&8>d?d:8;var E=w.T,S={};w.T=S,tf(e,!1,i,a);try{var C=h(),L=w.S;if(L!==null&&L(S,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var K=AT(C,l);Ho(e,i,K,mn(e))}else Ho(e,i,l,mn(e))}catch(W){Ho(e,i,{then:function(){},status:"rejected",reason:W},mn())}finally{at.p=d,w.T=E}}function IT(){}function Wh(e,i,a,l){if(e.tag!==5)throw Error(s(476));var h=ug(e).queue;lg(e,h,i,Rt,a===null?IT:function(){return cg(e),a(l)})}function ug(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:Rt,baseState:Rt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:Rt},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function cg(e){var i=ug(e).next.queue;Ho(e,i,{},mn())}function Jh(){return qe(ol)}function hg(){return ge().memoizedState}function fg(){return ge().memoizedState}function DT(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=mn();e=Tr(a);var l=Sr(i,e,a);l!==null&&(tn(l,i,a),Fo(l,i,a)),i={cache:Ph()},e.payload=i;return}i=i.return}}function OT(e,i,a){var l=mn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Uu(e)?mg(i,a):(a=Dh(e,i,a,l),a!==null&&(tn(a,e,l),pg(a,i,l)))}function dg(e,i,a){var l=mn();Ho(e,i,a,l)}function Ho(e,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Uu(e))mg(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var E=i.lastRenderedState,S=d(E,a);if(h.hasEagerState=!0,h.eagerState=S,cn(S,E))return Tu(e,i,h,0),Xt===null&&Eu(),!1}catch{}finally{}if(a=Dh(e,i,h,l),a!==null)return tn(a,e,l),pg(a,i,l),!0}return!1}function tf(e,i,a,l){if(l={lane:2,revertLane:Ff(),action:l,hasEagerState:!1,eagerState:null,next:null},Uu(e)){if(i)throw Error(s(479))}else i=Dh(e,a,l,2),i!==null&&tn(i,e,2)}function Uu(e){var i=e.alternate;return e===Ct||i!==null&&i===Ct}function mg(e,i){va=Nu=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function pg(e,i,a){if((a&4194176)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,rr(e,a)}}var ei={readContext:qe,use:ku,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce};ei.useCacheRefresh=ce,ei.useMemoCache=ce,ei.useHostTransitionStatus=ce,ei.useFormState=ce,ei.useActionState=ce,ei.useOptimistic=ce;var As={readContext:qe,use:ku,useCallback:function(e,i){return sn().memoizedState=[e,i===void 0?null:i],e},useContext:qe,useEffect:tg,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,Pu(4194308,4,ig.bind(null,i,e),a)},useLayoutEffect:function(e,i){return Pu(4194308,4,e,i)},useInsertionEffect:function(e,i){Pu(4,2,e,i)},useMemo:function(e,i){var a=sn();i=i===void 0?null:i;var l=e();if(Ss){jn(!0);try{e()}finally{jn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=sn();if(a!==void 0){var h=a(i);if(Ss){jn(!0);try{a(i)}finally{jn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=OT.bind(null,Ct,e),[l.memoizedState,e]},useRef:function(e){var i=sn();return e={current:e},i.memoizedState=e},useState:function(e){e=Qh(e);var i=e.queue,a=dg.bind(null,Ct,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:Xh,useDeferredValue:function(e,i){var a=sn();return Zh(a,e,i)},useTransition:function(){var e=Qh(!1);return e=lg.bind(null,Ct,e.queue,!0,!1),sn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=Ct,h=sn();if(Ht){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Xt===null)throw Error(s(349));(kt&60)!==0||Up(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,tg(Bp.bind(null,l,d,e),[e]),l.flags|=2048,Ea(9,zp.bind(null,l,d,a,i),{destroy:void 0},null),a},useId:function(){var e=sn(),i=Xt.identifierPrefix;if(Ht){var a=bi,l=wi;a=(l&~(1<<32-Xe(l)-1)).toString(32)+a,i=":"+i+"R"+a,a=Mu++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=wT++,i=":"+i+"r"+a.toString(32)+":";return e.memoizedState=i},useCacheRefresh:function(){return sn().memoizedState=DT.bind(null,Ct)}};As.useMemoCache=Fh,As.useHostTransitionStatus=Jh,As.useFormState=$p,As.useActionState=$p,As.useOptimistic=function(e){var i=sn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=tf.bind(null,Ct,!0,a),a.dispatch=i,[e,i]};var vr={readContext:qe,use:ku,useCallback:sg,useContext:qe,useEffect:$h,useImperativeHandle:rg,useInsertionEffect:eg,useLayoutEffect:ng,useMemo:ag,useReducer:Lu,useRef:Jp,useState:function(){return Lu(Ci)},useDebugValue:Xh,useDeferredValue:function(e,i){var a=ge();return og(a,Qt.memoizedState,e,i)},useTransition:function(){var e=Lu(Ci)[0],i=ge().memoizedState;return[typeof e=="boolean"?e:Bo(e),i]},useSyncExternalStore:xp,useId:hg};vr.useCacheRefresh=fg,vr.useMemoCache=Fh,vr.useHostTransitionStatus=Jh,vr.useFormState=Xp,vr.useActionState=Xp,vr.useOptimistic=function(e,i){var a=ge();return qp(a,Qt,e,i)};var ws={readContext:qe,use:ku,useCallback:sg,useContext:qe,useEffect:$h,useImperativeHandle:rg,useInsertionEffect:eg,useLayoutEffect:ng,useMemo:ag,useReducer:Kh,useRef:Jp,useState:function(){return Kh(Ci)},useDebugValue:Xh,useDeferredValue:function(e,i){var a=ge();return Qt===null?Zh(a,e,i):og(a,Qt.memoizedState,e,i)},useTransition:function(){var e=Kh(Ci)[0],i=ge().memoizedState;return[typeof e=="boolean"?e:Bo(e),i]},useSyncExternalStore:xp,useId:hg};ws.useCacheRefresh=fg,ws.useMemoCache=Fh,ws.useHostTransitionStatus=Jh,ws.useFormState=Wp,ws.useActionState=Wp,ws.useOptimistic=function(e,i){var a=ge();return Qt!==null?qp(a,Qt,e,i):(a.baseState=e,[e,a.queue.dispatch])};function ef(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:D({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var nf={isMounted:function(e){return(e=e._reactInternals)?dt(e)===e:!1},enqueueSetState:function(e,i,a){e=e._reactInternals;var l=mn(),h=Tr(l);h.payload=i,a!=null&&(h.callback=a),i=Sr(e,h,l),i!==null&&(tn(i,e,l),Fo(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=mn(),h=Tr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Sr(e,h,l),i!==null&&(tn(i,e,l),Fo(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=mn(),l=Tr(a);l.tag=2,i!=null&&(l.callback=i),i=Sr(e,l,a),i!==null&&(tn(i,e,a),Fo(i,e,a))}};function gg(e,i,a,l,h,d,E){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,E):i.prototype&&i.prototype.isPureReactComponent?!Io(a,l)||!Io(h,d):!0}function yg(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&nf.enqueueReplaceState(i,i.state,null)}function bs(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=D({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var zu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function vg(e){zu(e)}function _g(e){console.error(e)}function Eg(e){zu(e)}function Bu(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Tg(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function rf(e,i,a){return a=Tr(a),a.tag=3,a.payload={element:null},a.callback=function(){Bu(e,i)},a}function Sg(e){return e=Tr(e),e.tag=3,e}function Ag(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){Tg(i,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(e.callback=function(){Tg(i,a,l),typeof h!="function"&&(Ir===null?Ir=new Set([this]):Ir.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function NT(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&qo(i,a,h,!0),a=Rn.current,a!==null){switch(a.tag){case 13:return ti===null?zf():a.alternate===null&&ae===0&&(ae=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Vh?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Hf(e,l,h)),!1;case 22:return a.flags|=65536,l===Vh?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Hf(e,l,h)),!1}throw Error(s(435,a.tag))}return Hf(e,l,h),zf(),!1}if(Ht)return i=Rn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Mh&&(e=Error(s(422),{cause:l}),Mo(An(e,a)))):(l!==Mh&&(i=Error(s(423),{cause:l}),Mo(An(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=An(l,a),h=rf(e.stateNode,l,h),_f(e,h),ae!==4&&(ae=2)),!1;var d=Error(s(520),{cause:l});if(d=An(d,a),Wo===null?Wo=[d]:Wo.push(d),ae!==4&&(ae=2),i===null)return!0;l=An(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=rf(a.stateNode,l,e),_f(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ir===null||!Ir.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Sg(h),Ag(h,e,a,l),_f(a,h),!1}a=a.return}while(a!==null);return!1}var wg=Error(s(461)),Me=!1;function Ue(e,i,a,l){i.child=e===null?Dp(i,null,a,l):Es(i,e.child,a,l)}function bg(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var E={};for(var S in l)S!=="ref"&&(E[S]=l[S])}else E=l;return Cs(i),l=Bh(e,i,a,E,d,h),S=Hh(),e!==null&&!Me?(jh(e,i,h),Ii(e,i,h)):(Ht&&S&&Oh(i),i.flags|=1,Ue(e,i,l,h),i.child)}function Rg(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!Cf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Cg(e,i,d,l,h)):(e=Gu(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!df(e,h)){var E=d.memoizedProps;if(a=a.compare,a=a!==null?a:Io,a(E,l)&&e.ref===i.ref)return Ii(e,i,h)}return i.flags|=1,e=Rr(d,l),e.ref=i.ref,e.return=i,i.child=e}function Cg(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(Io(d,l)&&e.ref===i.ref)if(Me=!1,i.pendingProps=l=d,df(e,h))(e.flags&131072)!==0&&(Me=!0);else return i.lanes=e.lanes,Ii(e,i,h)}return sf(e,i,a,l,h)}function Ig(e,i,a){var l=i.pendingProps,h=l.children,d=(i.stateNode._pendingVisibility&2)!==0,E=e!==null?e.memoizedState:null;if(jo(e,i),l.mode==="hidden"||d){if((i.flags&128)!==0){if(l=E!==null?E.baseLanes|a:a,e!==null){for(h=i.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return Dg(e,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ou(i,E!==null?E.cachePool:null),E!==null?Op(i,E):kh(),Np(i);else return i.lanes=i.childLanes=536870912,Dg(e,i,E!==null?E.baseLanes|a:a,a)}else E!==null?(Ou(i,E.cachePool),Op(i,E),gr(),i.memoizedState=null):(e!==null&&Ou(i,null),kh(),gr());return Ue(e,i,h,a),i.child}function Dg(e,i,a,l){var h=Uh();return h=h===null?null:{parent:be._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},e!==null&&Ou(i,null),kh(),Np(i),e!==null&&qo(e,i,l,!0),null}function jo(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=2097664)}}function sf(e,i,a,l,h){return Cs(i),a=Bh(e,i,a,l,void 0,h),l=Hh(),e!==null&&!Me?(jh(e,i,h),Ii(e,i,h)):(Ht&&l&&Oh(i),i.flags|=1,Ue(e,i,a,h),i.child)}function Og(e,i,a,l,h,d){return Cs(i),i.updateQueue=null,a=Pp(i,l,a,h),Lp(e),l=Hh(),e!==null&&!Me?(jh(e,i,d),Ii(e,i,d)):(Ht&&l&&Oh(i),i.flags|=1,Ue(e,i,a,d),i.child)}function Ng(e,i,a,l,h){if(Cs(i),i.stateNode===null){var d=ha,E=a.contextType;typeof E=="object"&&E!==null&&(d=qe(E)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=nf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},yf(i),E=a.contextType,d.context=typeof E=="object"&&E!==null?qe(E):ha,d.state=i.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(ef(i,a,E,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&nf.enqueueReplaceState(d,d.state,null),Ko(i,l,d,h),Go(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var S=i.memoizedProps,C=bs(a,S);d.props=C;var L=d.context,K=a.contextType;E=ha,typeof K=="object"&&K!==null&&(E=qe(K));var W=a.getDerivedStateFromProps;K=typeof W=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,K||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||L!==E)&&yg(i,d,l,E),Er=!1;var j=i.memoizedState;d.state=j,Ko(i,l,d,h),Go(),L=i.memoizedState,S||j!==L||Er?(typeof W=="function"&&(ef(i,a,W,l),L=i.memoizedState),(C=Er||gg(i,a,C,l,j,L,E))?(K||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=L),d.props=l,d.state=L,d.context=E,l=C):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,vf(e,i),E=i.memoizedProps,K=bs(a,E),d.props=K,W=i.pendingProps,j=d.context,L=a.contextType,C=ha,typeof L=="object"&&L!==null&&(C=qe(L)),S=a.getDerivedStateFromProps,(L=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==W||j!==C)&&yg(i,d,l,C),Er=!1,j=i.memoizedState,d.state=j,Ko(i,l,d,h),Go();var G=i.memoizedState;E!==W||j!==G||Er||e!==null&&e.dependencies!==null&&Hu(e.dependencies)?(typeof S=="function"&&(ef(i,a,S,l),G=i.memoizedState),(K=Er||gg(i,a,K,l,j,G,C)||e!==null&&e.dependencies!==null&&Hu(e.dependencies))?(L||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,G,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,G,C)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===e.memoizedProps&&j===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&j===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=G),d.props=l,d.state=G,d.context=C,l=K):(typeof d.componentDidUpdate!="function"||E===e.memoizedProps&&j===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&j===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,jo(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=Es(i,e.child,null,h),i.child=Es(i,null,a,h)):Ue(e,i,a,h),i.memoizedState=d.state,e=i.child):e=Ii(e,i,h),e}function Mg(e,i,a,l){return No(),i.flags|=256,Ue(e,i,a,l),i.child}var af={dehydrated:null,treeContext:null,retryLane:0};function of(e){return{baseLanes:e,cachePool:kp()}}function lf(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=On),e}function Vg(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,E;if((E=d)||(E=e!==null&&e.memoizedState===null?!1:(we.current&2)!==0),E&&(h=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,e===null){if(Ht){if(h?pr(i):gr(),Ht){var S=xe,C;if(C=S){t:{for(C=S,S=Jn;C.nodeType!==8;){if(!S){S=null;break t}if(C=Un(C.nextSibling),C===null){S=null;break t}}S=C}S!==null?(i.memoizedState={dehydrated:S,treeContext:ys!==null?{id:wi,overflow:bi}:null,retryLane:536870912},C=Dn(18,null,null,0),C.stateNode=S,C.return=i,i.child=C,Je=i,xe=null,C=!0):C=!1}C||_s(i)}if(S=i.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return S.data==="$!"?i.lanes=16:i.lanes=536870912,null;Ri(i)}return S=l.children,l=l.fallback,h?(gr(),h=i.mode,S=cf({mode:"hidden",children:S},h),l=Ds(l,h,a,null),S.return=i,l.return=i,S.sibling=l,i.child=S,h=i.child,h.memoizedState=of(a),h.childLanes=lf(e,E,a),i.memoizedState=af,l):(pr(i),uf(i,S))}if(C=e.memoizedState,C!==null&&(S=C.dehydrated,S!==null)){if(d)i.flags&256?(pr(i),i.flags&=-257,i=hf(e,i,a)):i.memoizedState!==null?(gr(),i.child=e.child,i.flags|=128,i=null):(gr(),h=l.fallback,S=i.mode,l=cf({mode:"visible",children:l.children},S),h=Ds(h,S,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Es(i,e.child,null,a),l=i.child,l.memoizedState=of(a),l.childLanes=lf(e,E,a),i.memoizedState=af,i=h);else if(pr(i),S.data==="$!"){if(E=S.nextSibling&&S.nextSibling.dataset,E)var L=E.dgst;E=L,l=Error(s(419)),l.stack="",l.digest=E,Mo({value:l,source:null,stack:null}),i=hf(e,i,a)}else if(Me||qo(e,i,a,!1),E=(a&e.childLanes)!==0,Me||E){if(E=Xt,E!==null){if(l=a&-a,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(E.suspendedLanes|a))!==0?0:l,l!==0&&l!==C.retryLane)throw C.retryLane=l,mr(e,l),tn(E,e,l),wg}S.data==="$?"||zf(),i=hf(e,i,a)}else S.data==="$?"?(i.flags|=128,i.child=e.child,i=KT.bind(null,e),S._reactRetry=i,i=null):(e=C.treeContext,xe=Un(S.nextSibling),Je=i,Ht=!0,Pn=null,Jn=!1,e!==null&&(wn[bn++]=wi,wn[bn++]=bi,wn[bn++]=ys,wi=e.id,bi=e.overflow,ys=i),i=uf(i,l.children),i.flags|=4096);return i}return h?(gr(),h=l.fallback,S=i.mode,C=e.child,L=C.sibling,l=Rr(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&31457280,L!==null?h=Rr(L,h):(h=Ds(h,S,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,S=e.child.memoizedState,S===null?S=of(a):(C=S.cachePool,C!==null?(L=be._currentValue,C=C.parent!==L?{parent:L,pool:L}:C):C=kp(),S={baseLanes:S.baseLanes|a,cachePool:C}),h.memoizedState=S,h.childLanes=lf(e,E,a),i.memoizedState=af,l):(pr(i),a=e.child,e=a.sibling,a=Rr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(E=i.deletions,E===null?(i.deletions=[e],i.flags|=16):E.push(e)),i.child=a,i.memoizedState=null,a)}function uf(e,i){return i=cf({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function cf(e,i){return sy(e,i,0,null)}function hf(e,i,a){return Es(i,e.child,null,a),e=uf(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function kg(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),pf(e.return,i,a)}function ff(e,i,a,l,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function Lg(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Ue(e,i,l.children,a),l=we.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&kg(e,a,i);else if(e.tag===19)kg(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(Kt(we,l),h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&Du(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),ff(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Du(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}ff(i,!0,a,null,d);break;case"together":ff(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ii(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Cr|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(qo(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=Rr(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Rr(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function df(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Hu(e)))}function MT(e,i,a){switch(i.tag){case 3:Wi(i,i.stateNode.containerInfo),_r(i,be,e.memoizedState.cache),No();break;case 27:case 5:ao(i);break;case 4:Wi(i,i.stateNode.containerInfo);break;case 10:_r(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(pr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Vg(e,i,a):(pr(i),e=Ii(e,i,a),e!==null?e.sibling:null);pr(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(qo(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Lg(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Kt(we,we.current),l)break;return null;case 22:case 23:return i.lanes=0,Ig(e,i,a);case 24:_r(i,be,e.memoizedState.cache)}return Ii(e,i,a)}function Pg(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Me=!0;else{if(!df(e,a)&&(i.flags&128)===0)return Me=!1,MT(e,i,a);Me=(e.flags&131072)!==0}else Me=!1,Ht&&(i.flags&1048576)!==0&&Ep(i,wu,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")Cf(l)?(e=bs(l,e),i.tag=1,i=Ng(null,i,l,e,a)):(i.tag=0,i=sf(null,i,l,e,a));else{if(l!=null){if(h=l.$$typeof,h===U){i.tag=11,i=bg(null,i,l,e,a);break t}else if(h===Y){i.tag=14,i=Rg(null,i,l,e,a);break t}}throw i=R(l)||l,Error(s(306,i,""))}}return i;case 0:return sf(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=bs(l,i.pendingProps),Ng(e,i,l,h,a);case 3:t:{if(Wi(i,i.stateNode.containerInfo),e===null)throw Error(s(387));var d=i.pendingProps;h=i.memoizedState,l=h.element,vf(e,i),Ko(i,d,null,a);var E=i.memoizedState;if(d=E.cache,_r(i,be,d),d!==h.cache&&gf(i,[be],a,!0),Go(),d=E.element,h.isDehydrated)if(h={element:d,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){i=Mg(e,i,d,a);break t}else if(d!==l){l=An(Error(s(424)),i),Mo(l),i=Mg(e,i,d,a);break t}else for(xe=Un(i.stateNode.containerInfo.firstChild),Je=i,Ht=!0,Pn=null,Jn=!0,a=Dp(i,null,d,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(No(),d===l){i=Ii(e,i,a);break t}Ue(e,i,d,a)}i=i.child}return i;case 26:return jo(e,i),e===null?(a=zy(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ht||(a=i.type,e=i.pendingProps,l=ic(pn.current).createElement(a),l[De]=i,l[Te]=e,ze(l,a,e),Jt(l),i.stateNode=l):i.memoizedState=zy(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return ao(i),e===null&&Ht&&(l=i.stateNode=Py(i.type,i.pendingProps,pn.current),Je=i,Jn=!0,xe=Un(l.firstChild)),l=i.pendingProps.children,e!==null||Ht?Ue(e,i,l,a):i.child=Es(i,null,l,a),jo(e,i),i.child;case 5:return e===null&&Ht&&((h=l=xe)&&(l=lS(l,i.type,i.pendingProps,Jn),l!==null?(i.stateNode=l,Je=i,xe=Un(l.firstChild),Jn=!1,h=!0):h=!1),h||_s(i)),ao(i),h=i.type,d=i.pendingProps,E=e!==null?e.memoizedProps:null,l=d.children,Jf(h,d)?l=null:E!==null&&Jf(h,E)&&(i.flags|=32),i.memoizedState!==null&&(h=Bh(e,i,bT,null,null,a),ol._currentValue=h),jo(e,i),Ue(e,i,l,a),i.child;case 6:return e===null&&Ht&&((e=a=xe)&&(a=uS(a,i.pendingProps,Jn),a!==null?(i.stateNode=a,Je=i,xe=null,e=!0):e=!1),e||_s(i)),null;case 13:return Vg(e,i,a);case 4:return Wi(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=Es(i,null,l,a):Ue(e,i,l,a),i.child;case 11:return bg(e,i,i.type,i.pendingProps,a);case 7:return Ue(e,i,i.pendingProps,a),i.child;case 8:return Ue(e,i,i.pendingProps.children,a),i.child;case 12:return Ue(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,_r(i,i.type,l.value),Ue(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Cs(i),h=qe(h),l=l(h),i.flags|=1,Ue(e,i,l,a),i.child;case 14:return Rg(e,i,i.type,i.pendingProps,a);case 15:return Cg(e,i,i.type,i.pendingProps,a);case 19:return Lg(e,i,a);case 22:return Ig(e,i,a);case 24:return Cs(i),l=qe(be),e===null?(h=Uh(),h===null&&(h=Xt,d=Ph(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},yf(i),_r(i,be,h)):((e.lanes&a)!==0&&(vf(e,i),Ko(i,null,null,a),Go()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),_r(i,be,l)):(l=d.cache,_r(i,be,l),l!==h.cache&&gf(i,[be],a,!0))),Ue(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}var mf=zt(null),Rs=null,Di=null;function _r(e,i,a){Kt(mf,i._currentValue),i._currentValue=a}function Oi(e){e._currentValue=mf.current,ie(mf)}function pf(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function gf(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var E=h.child;d=d.firstContext;t:for(;d!==null;){var S=d;d=h;for(var C=0;C<i.length;C++)if(S.context===i[C]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),pf(d.return,a,e),l||(E=null);break t}d=S.next}}else if(h.tag===18){if(E=h.return,E===null)throw Error(s(341));E.lanes|=a,d=E.alternate,d!==null&&(d.lanes|=a),pf(E,a,e),E=null}else E=h.child;if(E!==null)E.return=h;else for(E=h;E!==null;){if(E===e){E=null;break}if(h=E.sibling,h!==null){h.return=E.return,E=h;break}E=E.return}h=E}}function qo(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var E=h.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var S=h.type;cn(h.pendingProps.value,E.value)||(e!==null?e.push(S):e=[S])}}else if(h===Zi.current){if(E=h.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(ol):e=[ol])}h=h.return}e!==null&&gf(i,e,a,l),i.flags|=262144}function Hu(e){for(e=e.firstContext;e!==null;){if(!cn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Cs(e){Rs=e,Di=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function qe(e){return xg(Rs,e)}function ju(e,i){return Rs===null&&Cs(e),xg(e,i)}function xg(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Di===null){if(e===null)throw Error(s(308));Di=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Di=Di.next=i;return a}var Er=!1;function yf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Tr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Sr(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(ee&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Su(e),vp(e,null,a),i}return Tu(e,l,i,a),Su(e)}function Fo(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194176)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,rr(e,a)}}function _f(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=E:d=d.next=E,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var Ef=!1;function Go(){if(Ef){var e=ya;if(e!==null)throw e}}function Ko(e,i,a,l){Ef=!1;var h=e.updateQueue;Er=!1;var d=h.firstBaseUpdate,E=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var C=S,L=C.next;C.next=null,E===null?d=L:E.next=L,E=C;var K=e.alternate;K!==null&&(K=K.updateQueue,S=K.lastBaseUpdate,S!==E&&(S===null?K.firstBaseUpdate=L:S.next=L,K.lastBaseUpdate=C))}if(d!==null){var W=h.baseState;E=0,K=L=C=null,S=d;do{var j=S.lane&-536870913,G=j!==S.lane;if(G?(kt&j)===j:(l&j)===j){j!==0&&j===ga&&(Ef=!0),K!==null&&(K=K.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var ct=e,Et=S;j=i;var oe=a;switch(Et.tag){case 1:if(ct=Et.payload,typeof ct=="function"){W=ct.call(oe,W,j);break t}W=ct;break t;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=Et.payload,j=typeof ct=="function"?ct.call(oe,W,j):ct,j==null)break t;W=D({},W,j);break t;case 2:Er=!0}}j=S.callback,j!==null&&(e.flags|=64,G&&(e.flags|=8192),G=h.callbacks,G===null?h.callbacks=[j]:G.push(j))}else G={lane:j,tag:S.tag,payload:S.payload,callback:S.callback,next:null},K===null?(L=K=G,C=W):K=K.next=G,E|=j;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;G=S,S=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);K===null&&(C=W),h.baseState=C,h.firstBaseUpdate=L,h.lastBaseUpdate=K,d===null&&(h.shared.lanes=0),Cr|=E,e.lanes=E,e.memoizedState=W}}function Ug(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function zg(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Ug(a[e],i)}function Qo(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,E=a.inst;l=d(),E.destroy=l}a=a.next}while(a!==h)}}catch(S){$t(i,i.return,S)}}function Ar(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var E=l.inst,S=E.destroy;if(S!==void 0){E.destroy=void 0,h=i;var C=a;try{S()}catch(L){$t(h,C,L)}}}l=l.next}while(l!==d)}}catch(L){$t(i,i.return,L)}}function Bg(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{zg(i,a)}catch(l){$t(e,e.return,l)}}}function Hg(e,i,a){a.props=bs(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){$t(e,i,l)}}function Is(e,i){try{var a=e.ref;if(a!==null){var l=e.stateNode;switch(e.tag){case 26:case 27:case 5:var h=l;break;default:h=l}typeof a=="function"?e.refCleanup=a(h):a.current=h}}catch(d){$t(e,i,d)}}function hn(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){$t(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){$t(e,i,h)}else a.current=null}function jg(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){$t(e,e.return,h)}}function qg(e,i,a){try{var l=e.stateNode;iS(l,e.type,a,i),l[Te]=i}catch(h){$t(e,e.return,h)}}function Fg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27||e.tag===4}function Tf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Fg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==27&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Sf(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(e,i):a.insertBefore(e,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(e,a)):(i=a,i.appendChild(e)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=nc));else if(l!==4&&l!==27&&(e=e.child,e!==null))for(Sf(e,i,a),e=e.sibling;e!==null;)Sf(e,i,a),e=e.sibling}function qu(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&l!==27&&(e=e.child,e!==null))for(qu(e,i,a),e=e.sibling;e!==null;)qu(e,i,a),e=e.sibling}var Ni=!1,se=!1,Af=!1,Gg=typeof WeakSet=="function"?WeakSet:Set,Ve=null,Kg=!1;function VT(e,i){if(e=e.containerInfo,Zf=uc,e=up(e),wh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var E=0,S=-1,C=-1,L=0,K=0,W=e,j=null;e:for(;;){for(var G;W!==a||h!==0&&W.nodeType!==3||(S=E+h),W!==d||l!==0&&W.nodeType!==3||(C=E+l),W.nodeType===3&&(E+=W.nodeValue.length),(G=W.firstChild)!==null;)j=W,W=G;for(;;){if(W===e)break e;if(j===a&&++L===h&&(S=E),j===d&&++K===l&&(C=E),(G=W.nextSibling)!==null)break;W=j,j=W.parentNode}W=G}a=S===-1||C===-1?null:{start:S,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Wf={focusedElem:e,selectionRange:a},uc=!1,Ve=i;Ve!==null;)if(i=Ve,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,Ve=e;else for(;Ve!==null;){switch(i=Ve,d=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ct=bs(a.type,h,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(ct,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(Et){$t(a,a.return,Et)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)nd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":nd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,Ve=e;break}Ve=i.return}return ct=Kg,Kg=!1,ct}function Qg(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Vi(e,a),l&4&&Qo(5,a);break;case 1:if(Vi(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(S){$t(a,a.return,S)}else{var h=bs(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(S){$t(a,a.return,S)}}l&64&&Bg(a),l&512&&Is(a,a.return);break;case 3:if(Vi(e,a),l&64&&(l=a.updateQueue,l!==null)){if(e=null,a.child!==null)switch(a.child.tag){case 27:case 5:e=a.child.stateNode;break;case 1:e=a.child.stateNode}try{zg(l,e)}catch(S){$t(a,a.return,S)}}break;case 26:Vi(e,a),l&512&&Is(a,a.return);break;case 27:case 5:Vi(e,a),i===null&&l&4&&jg(a),l&512&&Is(a,a.return);break;case 12:Vi(e,a);break;case 13:Vi(e,a),l&4&&Xg(e,a);break;case 22:if(h=a.memoizedState!==null||Ni,!h){i=i!==null&&i.memoizedState!==null||se;var d=Ni,E=se;Ni=h,(se=i)&&!E?wr(e,a,(a.subtreeFlags&8772)!==0):Vi(e,a),Ni=d,se=E}l&512&&(a.memoizedProps.mode==="manual"?Is(a,a.return):hn(a,a.return));break;default:Vi(e,a)}}function Yg(e){var i=e.alternate;i!==null&&(e.alternate=null,Yg(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&rs(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ye=null,fn=!1;function Mi(e,i,a){for(a=a.child;a!==null;)$g(e,i,a),a=a.sibling}function $g(e,i,a){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount(Ji,a)}catch{}switch(a.tag){case 26:se||hn(a,i),Mi(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:se||hn(a,i);var l=ye,h=fn;for(ye=a.stateNode,Mi(e,i,a),a=a.stateNode,i=a.attributes;i.length;)a.removeAttributeNode(i[0]);rs(a),ye=l,fn=h;break;case 5:se||hn(a,i);case 6:h=ye;var d=fn;if(ye=null,Mi(e,i,a),ye=h,fn=d,ye!==null)if(fn)try{e=ye,l=a.stateNode,e.nodeType===8?e.parentNode.removeChild(l):e.removeChild(l)}catch(E){$t(a,i,E)}else try{ye.removeChild(a.stateNode)}catch(E){$t(a,i,E)}break;case 18:ye!==null&&(fn?(i=ye,a=a.stateNode,i.nodeType===8?ed(i.parentNode,a):i.nodeType===1&&ed(i,a),hl(i)):ed(ye,a.stateNode));break;case 4:l=ye,h=fn,ye=a.stateNode.containerInfo,fn=!0,Mi(e,i,a),ye=l,fn=h;break;case 0:case 11:case 14:case 15:se||Ar(2,a,i),se||Ar(4,a,i),Mi(e,i,a);break;case 1:se||(hn(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Hg(a,i,l)),Mi(e,i,a);break;case 21:Mi(e,i,a);break;case 22:se||hn(a,i),se=(l=se)||a.memoizedState!==null,Mi(e,i,a),se=l;break;default:Mi(e,i,a)}}function Xg(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{hl(e)}catch(a){$t(i,i.return,a)}}function kT(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Gg),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Gg),i;default:throw Error(s(435,e.tag))}}function wf(e,i){var a=kT(e);i.forEach(function(l){var h=QT.bind(null,e,l);a.has(l)||(a.add(l),l.then(h,h))})}function Cn(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,E=i,S=E;t:for(;S!==null;){switch(S.tag){case 27:case 5:ye=S.stateNode,fn=!1;break t;case 3:ye=S.stateNode.containerInfo,fn=!0;break t;case 4:ye=S.stateNode.containerInfo,fn=!0;break t}S=S.return}if(ye===null)throw Error(s(160));$g(d,E,h),ye=null,fn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Zg(i,e),i=i.sibling}var xn=null;function Zg(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Cn(i,e),In(e),l&4&&(Ar(3,e,e.return),Qo(3,e),Ar(5,e,e.return));break;case 1:Cn(i,e),In(e),l&512&&(se||a===null||hn(a,a.return)),l&64&&Ni&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=xn;if(Cn(i,e),In(e),l&512&&(se||a===null||hn(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ar]||d[De]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),ze(d,l,a),d[De]=e,Jt(d),l=d;break t;case"link":var E=jy("link","href",h).get(l+(a.href||""));if(E){for(var S=0;S<E.length;S++)if(d=E[S],d.getAttribute("href")===(a.href==null?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(S,1);break e}}d=h.createElement(l),ze(d,l,a),h.head.appendChild(d);break;case"meta":if(E=jy("meta","content",h).get(l+(a.content||""))){for(S=0;S<E.length;S++)if(d=E[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(S,1);break e}}d=h.createElement(l),ze(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[De]=e,Jt(d),l=d}e.stateNode=l}else qy(h,e.type,e.stateNode);else e.stateNode=Hy(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?qy(h,e.type,e.stateNode):Hy(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&qg(e,e.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&e.alternate===null){h=e.stateNode,d=e.memoizedProps;try{for(var C=h.firstChild;C;){var L=C.nextSibling,K=C.nodeName;C[ar]||K==="HEAD"||K==="BODY"||K==="SCRIPT"||K==="STYLE"||K==="LINK"&&C.rel.toLowerCase()==="stylesheet"||h.removeChild(C),C=L}for(var W=e.type,j=h.attributes;j.length;)h.removeAttributeNode(j[0]);ze(h,W,d),h[De]=e,h[Te]=d}catch(ct){$t(e,e.return,ct)}}case 5:if(Cn(i,e),In(e),l&512&&(se||a===null||hn(a,a.return)),e.flags&32){h=e.stateNode;try{vn(h,"")}catch(ct){$t(e,e.return,ct)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,qg(e,h,a!==null?a.memoizedProps:h)),l&1024&&(Af=!0);break;case 6:if(Cn(i,e),In(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(ct){$t(e,e.return,ct)}}break;case 3:if(ac=null,h=xn,xn=rc(i.containerInfo),Cn(i,e),xn=h,In(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{hl(i.containerInfo)}catch(ct){$t(e,e.return,ct)}Af&&(Af=!1,Wg(e));break;case 4:l=xn,xn=rc(e.stateNode.containerInfo),Cn(i,e),In(e),xn=l;break;case 12:Cn(i,e),In(e);break;case 13:Cn(i,e),In(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Vf=nn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,wf(e,l)));break;case 22:if(l&512&&(se||a===null||hn(a,a.return)),C=e.memoizedState!==null,L=a!==null&&a.memoizedState!==null,K=Ni,W=se,Ni=K||C,se=W||L,Cn(i,e),se=W,Ni=K,In(e),i=e.stateNode,i._current=e,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,l&8192&&(i._visibility=C?i._visibility&-2:i._visibility|1,C&&(i=Ni||se,a===null||L||i||Ta(e)),e.memoizedProps===null||e.memoizedProps.mode!=="manual"))t:for(a=null,i=e;;){if(i.tag===5||i.tag===26||i.tag===27){if(a===null){L=a=i;try{if(h=L.stateNode,C)d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{E=L.stateNode,S=L.memoizedProps.style;var G=S!=null&&S.hasOwnProperty("display")?S.display:null;E.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(ct){$t(L,L.return,ct)}}}else if(i.tag===6){if(a===null){L=i;try{L.stateNode.nodeValue=C?"":L.memoizedProps}catch(ct){$t(L,L.return,ct)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,wf(e,a))));break;case 19:Cn(i,e),In(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,wf(e,l)));break;case 21:break;default:Cn(i,e),In(e)}}function In(e){var i=e.flags;if(i&2){try{if(e.tag!==27){t:{for(var a=e.return;a!==null;){if(Fg(a)){var l=a;break t}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var h=l.stateNode,d=Tf(e);qu(e,d,h);break;case 5:var E=l.stateNode;l.flags&32&&(vn(E,""),l.flags&=-33);var S=Tf(e);qu(e,S,E);break;case 3:case 4:var C=l.stateNode.containerInfo,L=Tf(e);Sf(e,L,C);break;default:throw Error(s(161))}}}catch(K){$t(e,e.return,K)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Wg(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Wg(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Vi(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Qg(e,i.alternate,i),i=i.sibling}function Ta(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Ar(4,i,i.return),Ta(i);break;case 1:hn(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Hg(i,i.return,a),Ta(i);break;case 26:case 27:case 5:hn(i,i.return),Ta(i);break;case 22:hn(i,i.return),i.memoizedState===null&&Ta(i);break;default:Ta(i)}e=e.sibling}}function wr(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,E=d.flags;switch(d.tag){case 0:case 11:case 15:wr(h,d,a),Qo(4,d);break;case 1:if(wr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(L){$t(l,l.return,L)}if(l=d,h=l.updateQueue,h!==null){var S=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Ug(C[h],S)}catch(L){$t(l,l.return,L)}}a&&E&64&&Bg(d),Is(d,d.return);break;case 26:case 27:case 5:wr(h,d,a),a&&l===null&&E&4&&jg(d),Is(d,d.return);break;case 12:wr(h,d,a);break;case 13:wr(h,d,a),a&&E&4&&Xg(h,d);break;case 22:d.memoizedState===null&&wr(h,d,a),Is(d,d.return);break;default:wr(h,d,a)}i=i.sibling}}function bf(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&xo(a))}function Rf(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&xo(e))}function br(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Jg(e,i,a,l),i=i.sibling}function Jg(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:br(e,i,a,l),h&2048&&Qo(9,i);break;case 3:br(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&xo(e)));break;case 12:if(h&2048){br(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,E=d.id,S=d.onPostCommit;typeof S=="function"&&S(E,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){$t(i,i.return,C)}}else br(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,i.memoizedState!==null?d._visibility&4?br(e,i,a,l):Yo(e,i):d._visibility&4?br(e,i,a,l):(d._visibility|=4,Sa(e,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&bf(i.alternate,i);break;case 24:br(e,i,a,l),h&2048&&Rf(i.alternate,i);break;default:br(e,i,a,l)}}function Sa(e,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=e,E=i,S=a,C=l,L=E.flags;switch(E.tag){case 0:case 11:case 15:Sa(d,E,S,C,h),Qo(8,E);break;case 23:break;case 22:var K=E.stateNode;E.memoizedState!==null?K._visibility&4?Sa(d,E,S,C,h):Yo(d,E):(K._visibility|=4,Sa(d,E,S,C,h)),h&&L&2048&&bf(E.alternate,E);break;case 24:Sa(d,E,S,C,h),h&&L&2048&&Rf(E.alternate,E);break;default:Sa(d,E,S,C,h)}i=i.sibling}}function Yo(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:Yo(a,l),h&2048&&bf(l.alternate,l);break;case 24:Yo(a,l),h&2048&&Rf(l.alternate,l);break;default:Yo(a,l)}i=i.sibling}}var $o=8192;function Aa(e){if(e.subtreeFlags&$o)for(e=e.child;e!==null;)ty(e),e=e.sibling}function ty(e){switch(e.tag){case 26:Aa(e),e.flags&$o&&e.memoizedState!==null&&SS(xn,e.memoizedState,e.memoizedProps);break;case 5:Aa(e);break;case 3:case 4:var i=xn;xn=rc(e.stateNode.containerInfo),Aa(e),xn=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=$o,$o=16777216,Aa(e),$o=i):Aa(e));break;default:Aa(e)}}function ey(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function Xo(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ve=l,iy(l,e)}ey(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ny(e),e=e.sibling}function ny(e){switch(e.tag){case 0:case 11:case 15:Xo(e),e.flags&2048&&Ar(9,e,e.return);break;case 3:Xo(e);break;case 12:Xo(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&4&&(e.return===null||e.return.tag!==13)?(i._visibility&=-5,Fu(e)):Xo(e);break;default:Xo(e)}}function Fu(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ve=l,iy(l,e)}ey(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Ar(8,i,i.return),Fu(i);break;case 22:a=i.stateNode,a._visibility&4&&(a._visibility&=-5,Fu(i));break;default:Fu(i)}e=e.sibling}}function iy(e,i){for(;Ve!==null;){var a=Ve;switch(a.tag){case 0:case 11:case 15:Ar(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:xo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ve=l;else t:for(a=e;Ve!==null;){l=Ve;var h=l.sibling,d=l.return;if(Yg(l),l===a){Ve=null;break t}if(h!==null){h.return=d,Ve=h;break t}Ve=d}}}function LT(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(e,i,a,l){return new LT(e,i,a,l)}function Cf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Rr(e,i){var a=e.alternate;return a===null?(a=Dn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&31457280,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function ry(e,i){e.flags&=31457282;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Gu(e,i,a,l,h,d){var E=0;if(l=e,typeof e=="function")Cf(e)&&(E=1);else if(typeof e=="string")E=ES(e,a,$e.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case g:return Ds(a.children,h,d,i);case y:E=8,h|=24;break;case T:return e=Dn(12,a,i,h|2),e.elementType=T,e.lanes=d,e;case X:return e=Dn(13,a,i,h),e.elementType=X,e.lanes=d,e;case F:return e=Dn(19,a,i,h),e.elementType=F,e.lanes=d,e;case tt:return sy(a,h,d,i);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case b:case P:E=10;break t;case I:E=9;break t;case U:E=11;break t;case Y:E=14;break t;case nt:E=16,l=null;break t}E=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return i=Dn(E,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function Ds(e,i,a,l){return e=Dn(7,e,l,i),e.lanes=a,e}function sy(e,i,a,l){e=Dn(22,e,l,i),e.elementType=tt,e.lanes=a;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=h._current;if(d===null)throw Error(s(456));if((h._pendingVisibility&2)===0){var E=mr(d,2);E!==null&&(h._pendingVisibility|=2,tn(E,d,2))}},attach:function(){var d=h._current;if(d===null)throw Error(s(456));if((h._pendingVisibility&2)!==0){var E=mr(d,2);E!==null&&(h._pendingVisibility&=-3,tn(E,d,2))}}};return e.stateNode=h,e}function If(e,i,a){return e=Dn(6,e,null,i),e.lanes=a,e}function Df(e,i,a){return i=Dn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}function ki(e){e.flags|=4}function ay(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Fy(i)){if(i=Rn.current,i!==null&&((kt&4194176)===kt?ti!==null:(kt&62914560)!==kt&&(kt&536870912)===0||i!==ti))throw ko=Vh,Ap;e.flags|=8192}}function Ku(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?nr():536870912,e.lanes|=i,ba|=i)}function Zo(e,i){if(!Ht)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function te(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&31457280,l|=h.flags&31457280,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function PT(e,i,a){var l=i.pendingProps;switch(Nh(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return te(i),null;case 1:return te(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Oi(be),di(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Oo(i)?ki(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Pn!==null&&(xf(Pn),Pn=null))),te(i),null;case 26:return a=i.memoizedState,e===null?(ki(i),a!==null?(te(i),ay(i,a)):(te(i),i.flags&=-16777217)):a?a!==e.memoizedState?(ki(i),te(i),ay(i,a)):(te(i),i.flags&=-16777217):(e.memoizedProps!==l&&ki(i),te(i),i.flags&=-16777217),null;case 27:Fs(i),a=pn.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==l&&ki(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return te(i),null}e=$e.current,Oo(i)?Tp(i):(e=Py(h,l,a),i.stateNode=e,ki(i))}return te(i),null;case 5:if(Fs(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&ki(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return te(i),null}if(e=$e.current,Oo(i))Tp(i);else{switch(h=ic(pn.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}e[De]=i,e[Te]=l;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(ze(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&ki(i)}}return te(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&ki(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(e=pn.current,Oo(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=Je,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[De]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Oy(e.nodeValue,a)),e||_s(i)}else e=ic(e).createTextNode(l),e[De]=i,i.stateNode=e}return te(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Oo(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[De]=i}else No(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;te(i),h=!1}else Pn!==null&&(xf(Pn),Pn=null),h=!0;if(!h)return i.flags&256?(Ri(i),i):(Ri(i),null)}if(Ri(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),Ku(i,i.updateQueue),te(i),null;case 4:return di(),e===null&&Yf(i.stateNode.containerInfo),te(i),null;case 10:return Oi(i.type),te(i),null;case 19:if(ie(we),h=i.memoizedState,h===null)return te(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)Zo(h,!1);else{if(ae!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=Du(e),d!==null){for(i.flags|=128,Zo(h,!1),e=d.updateQueue,i.updateQueue=e,Ku(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)ry(a,e),a=a.sibling;return Kt(we,we.current&1|2),i.child}e=e.sibling}h.tail!==null&&nn()>Qu&&(i.flags|=128,l=!0,Zo(h,!1),i.lanes=4194304)}else{if(!l)if(e=Du(d),e!==null){if(i.flags|=128,l=!0,e=e.updateQueue,i.updateQueue=e,Ku(i,e),Zo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Ht)return te(i),null}else 2*nn()-h.renderingStartTime>Qu&&a!==536870912&&(i.flags|=128,l=!0,Zo(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(e=h.last,e!==null?e.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=nn(),i.sibling=null,e=we.current,Kt(we,l?e&1|2:e&1),i):(te(i),null);case 22:case 23:return Ri(i),Lh(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(te(i),i.subtreeFlags&6&&(i.flags|=8192)):te(i),a=i.updateQueue,a!==null&&Ku(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&ie(Ts),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Oi(be),te(i),null;case 25:return null}throw Error(s(156,i.tag))}function xT(e,i){switch(Nh(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Oi(be),di(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Fs(i),null;case 13:if(Ri(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));No()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return ie(we),null;case 4:return di(),null;case 10:return Oi(i.type),null;case 22:case 23:return Ri(i),Lh(),e!==null&&ie(Ts),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Oi(be),null;case 25:return null;default:return null}}function oy(e,i){switch(Nh(i),i.tag){case 3:Oi(be),di();break;case 26:case 27:case 5:Fs(i);break;case 4:di();break;case 13:Ri(i);break;case 19:ie(we);break;case 10:Oi(i.type);break;case 22:case 23:Ri(i),Lh(),e!==null&&ie(Ts);break;case 24:Oi(be)}}var UT={getCacheForType:function(e){var i=qe(be),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},zT=typeof WeakMap=="function"?WeakMap:Map,ee=0,Xt=null,Dt=null,kt=0,Zt=0,dn=null,Li=!1,wa=!1,Of=!1,Pi=0,ae=0,Cr=0,Os=0,Nf=0,On=0,ba=0,Wo=null,ni=null,Mf=!1,Vf=0,Qu=1/0,Yu=null,Ir=null,$u=!1,Ns=null,Jo=0,kf=0,Lf=null,tl=0,Pf=null;function mn(){if((ee&2)!==0&&kt!==0)return kt&-kt;if(w.T!==null){var e=ga;return e!==0?e:Ff()}return eu()}function ly(){On===0&&(On=(kt&536870912)===0||Ht?ho():536870912);var e=Rn.current;return e!==null&&(e.flags|=32),On}function tn(e,i,a){(e===Xt&&Zt===2||e.cancelPendingCommit!==null)&&(Ra(e,0),xi(e,kt,On,!1)),ue(e,a),((ee&2)===0||e!==Xt)&&(e===Xt&&((ee&2)===0&&(Os|=a),ae===4&&xi(e,kt,On,!1)),ii(e))}function uy(e,i,a){if((ee&6)!==0)throw Error(s(327));var l=!a&&(i&60)===0&&(i&e.expiredLanes)===0||er(e,i),h=l?jT(e,i):Bf(e,i,!0),d=l;do{if(h===0){wa&&!l&&xi(e,i,0,!1);break}else if(h===6)xi(e,i,0,!Li);else{if(a=e.current.alternate,d&&!BT(a)){h=Bf(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var E=0;else E=e.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;t:{var S=e;h=Wo;var C=S.current.memoizedState.isDehydrated;if(C&&(Ra(S,E).flags|=256),E=Bf(S,E,!1),E!==2){if(Of&&!C){S.errorRecoveryDisabledLanes|=d,Os|=d,h=4;break t}d=ni,ni=h,d!==null&&xf(d)}h=E}if(d=!1,h!==2)continue}}if(h===1){Ra(e,0),xi(e,i,0,!0);break}t:{switch(l=e,h){case 0:case 1:throw Error(s(345));case 4:if((i&4194176)===i){xi(l,i,On,!Li);break t}break;case 2:ni=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=i,(i&62914560)===i&&(d=Vf+300-nn(),10<d)){if(xi(l,i,On,!Li),gn(l,0)!==0)break t;l.timeoutHandle=Vy(cy.bind(null,l,a,ni,Yu,Mf,i,On,Os,ba,Li,2,-0,0),d);break t}cy(l,a,ni,Yu,Mf,i,On,Os,ba,Li,0,-0,0)}}break}while(!0);ii(e)}function xf(e){ni===null?ni=e:ni.push.apply(ni,e)}function cy(e,i,a,l,h,d,E,S,C,L,K,W,j){var G=i.subtreeFlags;if((G&8192||(G&16785408)===16785408)&&(al={stylesheets:null,count:0,unsuspend:TS},ty(i),i=AS(),i!==null)){e.cancelPendingCommit=i(yy.bind(null,e,a,l,h,E,S,C,1,W,j)),xi(e,d,E,!L);return}yy(e,a,l,h,E,S,C,K,W,j)}function BT(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!cn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function xi(e,i,a,l){i&=~Nf,i&=~Os,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-Xe(h),E=1<<d;l[d]=-1,h&=~E}a!==0&&ir(e,a,i)}function Xu(){return(ee&6)===0?(el(0),!1):!0}function Uf(){if(Dt!==null){if(Zt===0)var e=Dt.return;else e=Dt,Di=Rs=null,qh(e),ma=null,Lo=0,e=Dt;for(;e!==null;)oy(e.alternate,e),e=e.return;Dt=null}}function Ra(e,i){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,sS(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Uf(),Xt=e,Dt=a=Rr(e.current,null),kt=i,Zt=0,dn=null,Li=!1,wa=er(e,i),Of=!1,ba=On=Nf=Os=Cr=ae=0,ni=Wo=null,Mf=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-Xe(l),d=1<<h;i|=e[h],l&=~d}return Pi=i,Eu(),a}function hy(e,i){Ct=null,w.H=ei,i===Vo?(i=Rp(),Zt=3):i===Ap?(i=Rp(),Zt=4):Zt=i===wg?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,dn=i,Dt===null&&(ae=1,Bu(e,An(i,e.current)))}function fy(){var e=w.H;return w.H=ei,e===null?ei:e}function dy(){var e=w.A;return w.A=UT,e}function zf(){ae=4,Li||(kt&4194176)!==kt&&Rn.current!==null||(wa=!0),(Cr&134217727)===0&&(Os&134217727)===0||Xt===null||xi(Xt,kt,On,!1)}function Bf(e,i,a){var l=ee;ee|=2;var h=fy(),d=dy();(Xt!==e||kt!==i)&&(Yu=null,Ra(e,i)),i=!1;var E=ae;t:do try{if(Zt!==0&&Dt!==null){var S=Dt,C=dn;switch(Zt){case 8:Uf(),E=6;break t;case 3:case 2:case 6:Rn.current===null&&(i=!0);var L=Zt;if(Zt=0,dn=null,Ca(e,S,C,L),a&&wa){E=0;break t}break;default:L=Zt,Zt=0,dn=null,Ca(e,S,C,L)}}HT(),E=ae;break}catch(K){hy(e,K)}while(!0);return i&&e.shellSuspendCounter++,Di=Rs=null,ee=l,w.H=h,w.A=d,Dt===null&&(Xt=null,kt=0,Eu()),E}function HT(){for(;Dt!==null;)my(Dt)}function jT(e,i){var a=ee;ee|=2;var l=fy(),h=dy();Xt!==e||kt!==i?(Yu=null,Qu=nn()+500,Ra(e,i)):wa=er(e,i);t:do try{if(Zt!==0&&Dt!==null){i=Dt;var d=dn;e:switch(Zt){case 1:Zt=0,dn=null,Ca(e,i,d,1);break;case 2:if(wp(d)){Zt=0,dn=null,py(i);break}i=function(){Zt===2&&Xt===e&&(Zt=7),ii(e)},d.then(i,i);break t;case 3:Zt=7;break t;case 4:Zt=5;break t;case 7:wp(d)?(Zt=0,dn=null,py(i)):(Zt=0,dn=null,Ca(e,i,d,7));break;case 5:var E=null;switch(Dt.tag){case 26:E=Dt.memoizedState;case 5:case 27:var S=Dt;if(!E||Fy(E)){Zt=0,dn=null;var C=S.sibling;if(C!==null)Dt=C;else{var L=S.return;L!==null?(Dt=L,Zu(L)):Dt=null}break e}}Zt=0,dn=null,Ca(e,i,d,5);break;case 6:Zt=0,dn=null,Ca(e,i,d,6);break;case 8:Uf(),ae=6;break t;default:throw Error(s(462))}}qT();break}catch(K){hy(e,K)}while(!0);return Di=Rs=null,w.H=l,w.A=h,ee=a,Dt!==null?0:(Xt=null,kt=0,Eu(),ae)}function qT(){for(;Dt!==null&&!dh();)my(Dt)}function my(e){var i=Pg(e.alternate,e,Pi);e.memoizedProps=e.pendingProps,i===null?Zu(e):Dt=i}function py(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=Og(a,i,i.pendingProps,i.type,void 0,kt);break;case 11:i=Og(a,i,i.pendingProps,i.type.render,i.ref,kt);break;case 5:qh(i);default:oy(a,i),i=Dt=ry(i,Pi),i=Pg(a,i,Pi)}e.memoizedProps=e.pendingProps,i===null?Zu(e):Dt=i}function Ca(e,i,a,l){Di=Rs=null,qh(i),ma=null,Lo=0;var h=i.return;try{if(NT(e,h,i,a,kt)){ae=1,Bu(e,An(a,e.current)),Dt=null;return}}catch(d){if(h!==null)throw Dt=h,d;ae=1,Bu(e,An(a,e.current)),Dt=null;return}i.flags&32768?(Ht||l===1?e=!0:wa||(kt&536870912)!==0?e=!1:(Li=e=!0,(l===2||l===3||l===6)&&(l=Rn.current,l!==null&&l.tag===13&&(l.flags|=16384))),gy(i,e)):Zu(i)}function Zu(e){var i=e;do{if((i.flags&32768)!==0){gy(i,Li);return}e=i.return;var a=PT(i.alternate,i,Pi);if(a!==null){Dt=a;return}if(i=i.sibling,i!==null){Dt=i;return}Dt=i=e}while(i!==null);ae===0&&(ae=5)}function gy(e,i){do{var a=xT(e.alternate,e);if(a!==null){a.flags&=32767,Dt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Dt=e;return}Dt=e=a}while(e!==null);ae=6,Dt=null}function yy(e,i,a,l,h,d,E,S,C,L){var K=w.T,W=at.p;try{at.p=2,w.T=null,FT(e,i,a,l,W,h,d,E,S,C,L)}finally{w.T=K,at.p=W}}function FT(e,i,a,l,h,d,E,S){do Ia();while(Ns!==null);if((ee&6)!==0)throw Error(s(327));var C=e.finishedWork;if(l=e.finishedLanes,C===null)return null;if(e.finishedWork=null,e.finishedLanes=0,C===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var L=C.lanes|C.childLanes;if(L|=Ih,Jl(e,l,L,d,E,S),e===Xt&&(Dt=Xt=null,kt=0),(C.subtreeFlags&10256)===0&&(C.flags&10256)===0||$u||($u=!0,kf=L,Lf=a,YT(mi,function(){return Ia(),null})),a=(C.flags&15990)!==0,(C.subtreeFlags&15990)!==0||a?(a=w.T,w.T=null,d=at.p,at.p=2,E=ee,ee|=4,VT(e,C),Zg(C,e),mT(Wf,e.containerInfo),uc=!!Zf,Wf=Zf=null,e.current=C,Qg(e,C.alternate,C),oo(),ee=E,at.p=d,w.T=a):e.current=C,$u?($u=!1,Ns=e,Jo=l):vy(e,L),L=e.pendingLanes,L===0&&(Ir=null),uo(C.stateNode),ii(e),i!==null)for(h=e.onRecoverableError,C=0;C<i.length;C++)L=i[C],h(L.value,{componentStack:L.stack});return(Jo&3)!==0&&Ia(),L=e.pendingLanes,(l&4194218)!==0&&(L&42)!==0?e===Pf?tl++:(tl=0,Pf=e):tl=0,el(0),null}function vy(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,xo(i)))}function Ia(){if(Ns!==null){var e=Ns,i=kf;kf=0;var a=tu(Jo),l=w.T,h=at.p;try{if(at.p=32>a?32:a,w.T=null,Ns===null)var d=!1;else{a=Lf,Lf=null;var E=Ns,S=Jo;if(Ns=null,Jo=0,(ee&6)!==0)throw Error(s(331));var C=ee;if(ee|=4,ny(E.current),Jg(E,E.current,S,a),ee=C,el(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot(Ji,E)}catch{}d=!0}return d}finally{at.p=h,w.T=l,vy(e,i)}}return!1}function _y(e,i,a){i=An(a,i),i=rf(e.stateNode,i,2),e=Sr(e,i,2),e!==null&&(ue(e,2),ii(e))}function $t(e,i,a){if(e.tag===3)_y(e,e,a);else for(;i!==null;){if(i.tag===3){_y(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ir===null||!Ir.has(l))){e=An(a,e),a=Sg(2),l=Sr(i,a,2),l!==null&&(Ag(a,l,i,e),ue(l,2),ii(l));break}}i=i.return}}function Hf(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new zT;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Of=!0,h.add(a),e=GT.bind(null,e,i,a),i.then(e,e))}function GT(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Xt===e&&(kt&a)===a&&(ae===4||ae===3&&(kt&62914560)===kt&&300>nn()-Vf?(ee&2)===0&&Ra(e,0):Nf|=a,ba===kt&&(ba=0)),ii(e)}function Ey(e,i){i===0&&(i=nr()),e=mr(e,i),e!==null&&(ue(e,i),ii(e))}function KT(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),Ey(e,a)}function QT(e,i){var a=0;switch(e.tag){case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),Ey(e,a)}function YT(e,i){return es(e,i)}var Wu=null,Da=null,jf=!1,Ju=!1,qf=!1,Ms=0;function ii(e){e!==Da&&e.next===null&&(Da===null?Wu=Da=e:Da=Da.next=e),Ju=!0,jf||(jf=!0,XT($T))}function el(e,i){if(!qf&&Ju){qf=!0;do for(var a=!1,l=Wu;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var E=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-Xe(42|e)+1)-1,d&=h&~(E&~S),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(a=!0,Ay(l,d))}else d=kt,d=gn(l,l===Xt?d:0),(d&3)===0||er(l,d)||(a=!0,Ay(l,d));l=l.next}while(a);qf=!1}}function $T(){Ju=jf=!1;var e=0;Ms!==0&&(rS()&&(e=Ms),Ms=0);for(var i=nn(),a=null,l=Wu;l!==null;){var h=l.next,d=Ty(l,i);d===0?(l.next=null,a===null?Wu=h:a.next=h,h===null&&(Da=a)):(a=l,(e!==0||(d&3)!==0)&&(Ju=!0)),l=h}el(e)}function Ty(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var E=31-Xe(d),S=1<<E,C=h[E];C===-1?((S&a)===0||(S&l)!==0)&&(h[E]=Qs(S,i)):C<=i&&(e.expiredLanes|=S),d&=~S}if(i=Xt,a=kt,a=gn(e,e===i?a:0),l=e.callbackNode,a===0||e===i&&Zt===2||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Ks(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||er(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&Ks(l),tu(a)){case 2:case 8:a=Ie;break;case 32:a=mi;break;case 268435456:a=lo;break;default:a=mi}return l=Sy.bind(null,e),a=es(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&Ks(l),e.callbackPriority=2,e.callbackNode=null,2}function Sy(e,i){var a=e.callbackNode;if(Ia()&&e.callbackNode!==a)return null;var l=kt;return l=gn(e,e===Xt?l:0),l===0?null:(uy(e,l,i),Ty(e,nn()),e.callbackNode!=null&&e.callbackNode===a?Sy.bind(null,e):null)}function Ay(e,i){if(Ia())return null;uy(e,i,!0)}function XT(e){aS(function(){(ee&6)!==0?es(Ee,e):e()})}function Ff(){return Ms===0&&(Ms=ho()),Ms}function wy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Kn(""+e)}function by(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function ZT(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=wy((h[Te]||null).action),E=l.submitter;E&&(i=(i=E[Te]||null)?wy(i.formAction):E.getAttribute("formAction"),i!==null&&(d=i,E=null));var S=new ta("action","action",null,l,h);e.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ms!==0){var C=E?by(h,E):new FormData(h);Wh(a,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(S.preventDefault(),C=E?by(h,E):new FormData(h),Wh(a,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var Gf=0;Gf<yp.length;Gf++){var Kf=yp[Gf],WT=Kf.toLowerCase(),JT=Kf[0].toUpperCase()+Kf.slice(1);Ln(WT,"on"+JT)}Ln(fp,"onAnimationEnd"),Ln(dp,"onAnimationIteration"),Ln(mp,"onAnimationStart"),Ln("dblclick","onDoubleClick"),Ln("focusin","onFocus"),Ln("focusout","onBlur"),Ln(gT,"onTransitionRun"),Ln(yT,"onTransitionStart"),Ln(vT,"onTransitionCancel"),Ln(pp,"onTransitionEnd"),rn("onMouseEnter",["mouseout","mouseover"]),rn("onMouseLeave",["mouseout","mouseover"]),rn("onPointerEnter",["pointerout","pointerover"]),rn("onPointerLeave",["pointerout","pointerover"]),ln("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ln("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ln("onBeforeInput",["compositionend","keypress","textInput","paste"]),ln("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ln("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ln("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(nl));function Ry(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var E=l.length-1;0<=E;E--){var S=l[E],C=S.instance,L=S.currentTarget;if(S=S.listener,C!==d&&h.isPropagationStopped())break t;d=S,h.currentTarget=L;try{d(h)}catch(K){zu(K)}h.currentTarget=null,d=C}else for(E=0;E<l.length;E++){if(S=l[E],C=S.instance,L=S.currentTarget,S=S.listener,C!==d&&h.isPropagationStopped())break t;d=S,h.currentTarget=L;try{d(h)}catch(K){zu(K)}h.currentTarget=null,d=C}}}}function Nt(e,i){var a=i[is];a===void 0&&(a=i[is]=new Set);var l=e+"__bubble";a.has(l)||(Cy(i,e,2,!1),a.add(l))}function Qf(e,i,a){var l=0;i&&(l|=4),Cy(a,e,l,i)}var tc="_reactListening"+Math.random().toString(36).slice(2);function Yf(e){if(!e[tc]){e[tc]=!0,mo.forEach(function(a){a!=="selectionchange"&&(tS.has(a)||Qf(a,!1,e),Qf(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[tc]||(i[tc]=!0,Qf("selectionchange",!1,i))}}function Cy(e,i,a,l){switch(Xy(i)){case 2:var h=RS;break;case 8:h=CS;break;default:h=od}a=h.bind(null,i,a,e),h=void 0,!En||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function $f(e,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var S=l.stateNode.containerInfo;if(S===h||S.nodeType===8&&S.parentNode===h)break;if(E===4)for(E=l.return;E!==null;){var C=E.tag;if((C===3||C===4)&&(C=E.stateNode.containerInfo,C===h||C.nodeType===8&&C.parentNode===h))return;E=E.return}for(;S!==null;){if(E=kn(S),E===null)return;if(C=E.tag,C===5||C===6||C===26||C===27){l=d=E;continue t}S=S.parentNode}}l=l.return}su(function(){var L=d,K=Js(a),W=[];t:{var j=gp.get(e);if(j!==void 0){var G=ta,ct=e;switch(e){case"keypress":if(Yn(a)===0)break t;case"keydown":case"keyup":G=aa;break;case"focusin":ct="focus",G=ia;break;case"focusout":ct="blur",G=ia;break;case"beforeblur":case"afterblur":G=ia;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Tn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Eh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=du;break;case fp:case dp:case mp:G=ra;break;case pp:G=pu;break;case"scroll":case"scrollend":G=au;break;case"wheel":G=oa;break;case"copy":case"cut":case"paste":G=sa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Ro;break;case"toggle":case"beforetoggle":G=yu}var Et=(i&4)!==0,oe=!Et&&(e==="scroll"||e==="scrollend"),x=Et?j!==null?j+"Capture":null:j;Et=[];for(var M=L,H;M!==null;){var $=M;if(H=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||H===null||x===null||($=ls(M,x),$!=null&&Et.push(il(M,$,H))),oe)break;M=M.return}0<Et.length&&(j=new G(j,ct,null,a,K),W.push({event:j,listeners:Et}))}}if((i&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",G=e==="mouseout"||e==="pointerout",j&&a!==_n&&(ct=a.relatedTarget||a.fromElement)&&(kn(ct)||ct[pi]))break t;if((G||j)&&(j=K.window===K?K:(j=K.ownerDocument)?j.defaultView||j.parentWindow:window,G?(ct=a.relatedTarget||a.toElement,G=L,ct=ct?kn(ct):null,ct!==null&&(oe=dt(ct),Et=ct.tag,ct!==oe||Et!==5&&Et!==27&&Et!==6)&&(ct=null)):(G=null,ct=L),G!==ct)){if(Et=Tn,$="onMouseLeave",x="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(Et=Ro,$="onPointerLeave",x="onPointerEnter",M="pointer"),oe=G==null?j:or(G),H=ct==null?j:or(ct),j=new Et($,M+"leave",G,a,K),j.target=oe,j.relatedTarget=H,$=null,kn(K)===L&&(Et=new Et(x,M+"enter",ct,a,K),Et.target=H,Et.relatedTarget=oe,$=Et),oe=$,G&&ct)e:{for(Et=G,x=ct,M=0,H=Et;H;H=Oa(H))M++;for(H=0,$=x;$;$=Oa($))H++;for(;0<M-H;)Et=Oa(Et),M--;for(;0<H-M;)x=Oa(x),H--;for(;M--;){if(Et===x||x!==null&&Et===x.alternate)break e;Et=Oa(Et),x=Oa(x)}Et=null}else Et=null;G!==null&&Iy(W,j,G,Et,!1),ct!==null&&oe!==null&&Iy(W,oe,ct,Et,!0)}}t:{if(j=L?or(L):window,G=j.nodeName&&j.nodeName.toLowerCase(),G==="select"||G==="input"&&j.type==="file")var lt=ep;else if(Ae(j))if(np)lt=fT;else{lt=cT;var It=uT}else G=j.nodeName,!G||G.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?L&&_o(L.elementType)&&(lt=ep):lt=hT;if(lt&&(lt=lt(e,L))){Ai(W,lt,a,K);break t}It&&It(e,j,L),e==="focusout"&&L&&j.type==="number"&&L.memoizedProps.value!=null&&Ws(j,"number",j.value)}switch(It=L?or(L):window,e){case"focusin":(Ae(It)||It.contentEditable==="true")&&(la=It,bh=L,Do=null);break;case"focusout":Do=bh=la=null;break;case"mousedown":Rh=!0;break;case"contextmenu":case"mouseup":case"dragend":Rh=!1,cp(W,a,K);break;case"selectionchange":if(pT)break;case"keydown":case"keyup":cp(W,a,K)}var ft;if(Zn)t:{switch(e){case"compositionstart":var pt="onCompositionStart";break t;case"compositionend":pt="onCompositionEnd";break t;case"compositionupdate":pt="onCompositionUpdate";break t}pt=void 0}else Mt?q(e,a)&&(pt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(pt="onCompositionStart");pt&&(v&&a.locale!=="ko"&&(Mt||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&Mt&&(ft=To()):(Qn=K,dr="value"in Qn?Qn.value:Qn.textContent,Mt=!0)),It=ec(L,pt),0<It.length&&(pt=new wo(pt,e,null,a,K),W.push({event:pt,listeners:It}),ft?pt.data=ft:(ft=et(a),ft!==null&&(pt.data=ft)))),(ft=p?Se(e,a):Vt(e,a))&&(pt=ec(L,"onBeforeInput"),0<pt.length&&(It=new wo("onBeforeInput","beforeinput",null,a,K),W.push({event:It,listeners:pt}),It.data=ft)),ZT(W,e,L,a,K)}Ry(W,i)})}function il(e,i,a){return{instance:e,listener:i,currentTarget:a}}function ec(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ls(e,a),h!=null&&l.unshift(il(e,h,d)),h=ls(e,i),h!=null&&l.push(il(e,h,d))),e=e.return}return l}function Oa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Iy(e,i,a,l,h){for(var d=i._reactName,E=[];a!==null&&a!==l;){var S=a,C=S.alternate,L=S.stateNode;if(S=S.tag,C!==null&&C===l)break;S!==5&&S!==26&&S!==27||L===null||(C=L,h?(L=ls(a,d),L!=null&&E.unshift(il(a,L,C))):h||(L=ls(a,d),L!=null&&E.push(il(a,L,C)))),a=a.return}E.length!==0&&e.push({event:i,listeners:E})}var eS=/\r\n?/g,nS=/\u0000|\uFFFD/g;function Dy(e){return(typeof e=="string"?e:""+e).replace(eS,`
`).replace(nS,"")}function Oy(e,i){return i=Dy(i),Dy(e)===i}function nc(){}function Yt(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||vn(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&vn(e,""+l);break;case"className":cr(e,"class",l);break;case"tabIndex":cr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":cr(e,a,l);break;case"style":ru(e,l,d);break;case"data":if(i!=="object"){cr(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Kn(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Yt(e,i,"name",h.name,h,null),Yt(e,i,"formEncType",h.formEncType,h,null),Yt(e,i,"formMethod",h.formMethod,h,null),Yt(e,i,"formTarget",h.formTarget,h,null)):(Yt(e,i,"encType",h.encType,h,null),Yt(e,i,"method",h.method,h,null),Yt(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Kn(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=nc);break;case"onScroll":l!=null&&Nt("scroll",e);break;case"onScrollEnd":l!=null&&Nt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Kn(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Nt("beforetoggle",e),Nt("toggle",e),ur(e,"popover",l);break;case"xlinkActuate":yn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":yn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":yn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":yn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":yn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":yn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":yn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":yn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":yn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ur(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=vh.get(a)||a,ur(e,a,l))}}function Xf(e,i,a,l,h,d){switch(a){case"style":ru(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?vn(e,l):(typeof l=="number"||typeof l=="bigint")&&vn(e,""+l);break;case"onScroll":l!=null&&Nt("scroll",e);break;case"onScrollEnd":l!=null&&Nt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=nc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xs.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[Te]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):ur(e,a,l)}}}function ze(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",e),Nt("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var E=a[d];if(E!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Yt(e,i,d,E,a,null)}}h&&Yt(e,i,"srcSet",a.srcSet,a,null),l&&Yt(e,i,"src",a.src,a,null);return;case"input":Nt("invalid",e);var S=d=E=h=null,C=null,L=null;for(l in a)if(a.hasOwnProperty(l)){var K=a[l];if(K!=null)switch(l){case"name":h=K;break;case"type":E=K;break;case"checked":C=K;break;case"defaultChecked":L=K;break;case"value":d=K;break;case"defaultValue":S=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:Yt(e,i,l,K,a,null)}}as(e,d,S,C,L,E,h,!1),ss(e);return;case"select":Nt("invalid",e),l=E=d=null;for(h in a)if(a.hasOwnProperty(h)&&(S=a[h],S!=null))switch(h){case"value":d=S;break;case"defaultValue":E=S;break;case"multiple":l=S;default:Yt(e,i,h,S,a,null)}i=d,a=E,e.multiple=!!l,i!=null?Bt(e,!!l,i,!1):a!=null&&Bt(e,!!l,a,!0);return;case"textarea":Nt("invalid",e),d=h=l=null;for(E in a)if(a.hasOwnProperty(E)&&(S=a[E],S!=null))switch(E){case"value":l=S;break;case"defaultValue":h=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:Yt(e,i,E,S,a,null)}fr(e,l,h,d),ss(e);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Yt(e,i,C,l,a,null)}return;case"dialog":Nt("cancel",e),Nt("close",e);break;case"iframe":case"object":Nt("load",e);break;case"video":case"audio":for(l=0;l<nl.length;l++)Nt(nl[l],e);break;case"image":Nt("error",e),Nt("load",e);break;case"details":Nt("toggle",e);break;case"embed":case"source":case"link":Nt("error",e),Nt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in a)if(a.hasOwnProperty(L)&&(l=a[L],l!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Yt(e,i,L,l,a,null)}return;default:if(_o(i)){for(K in a)a.hasOwnProperty(K)&&(l=a[K],l!==void 0&&Xf(e,i,K,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&Yt(e,i,S,l,a,null))}function iS(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,E=null,S=null,C=null,L=null,K=null;for(G in a){var W=a[G];if(a.hasOwnProperty(G)&&W!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":C=W;default:l.hasOwnProperty(G)||Yt(e,i,G,null,l,W)}}for(var j in l){var G=l[j];if(W=a[j],l.hasOwnProperty(j)&&(G!=null||W!=null))switch(j){case"type":d=G;break;case"name":h=G;break;case"checked":L=G;break;case"defaultChecked":K=G;break;case"value":E=G;break;case"defaultValue":S=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:G!==W&&Yt(e,i,j,G,l,W)}}hr(e,E,S,C,L,K,d,h);return;case"select":G=E=S=j=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":G=C;default:l.hasOwnProperty(d)||Yt(e,i,d,null,l,C)}for(h in l)if(d=l[h],C=a[h],l.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":j=d;break;case"defaultValue":S=d;break;case"multiple":E=d;default:d!==C&&Yt(e,i,h,d,l,C)}i=S,a=E,l=G,j!=null?Bt(e,!!a,j,!1):!!l!=!!a&&(i!=null?Bt(e,!!a,i,!0):Bt(e,!!a,a?[]:"",!1));return;case"textarea":G=j=null;for(S in a)if(h=a[S],a.hasOwnProperty(S)&&h!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Yt(e,i,S,null,l,h)}for(E in l)if(h=l[E],d=a[E],l.hasOwnProperty(E)&&(h!=null||d!=null))switch(E){case"value":j=h;break;case"defaultValue":G=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Yt(e,i,E,h,l,d)}os(e,j,G);return;case"option":for(var ct in a)if(j=a[ct],a.hasOwnProperty(ct)&&j!=null&&!l.hasOwnProperty(ct))switch(ct){case"selected":e.selected=!1;break;default:Yt(e,i,ct,null,l,j)}for(C in l)if(j=l[C],G=a[C],l.hasOwnProperty(C)&&j!==G&&(j!=null||G!=null))switch(C){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Yt(e,i,C,j,l,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Et in a)j=a[Et],a.hasOwnProperty(Et)&&j!=null&&!l.hasOwnProperty(Et)&&Yt(e,i,Et,null,l,j);for(L in l)if(j=l[L],G=a[L],l.hasOwnProperty(L)&&j!==G&&(j!=null||G!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,i));break;default:Yt(e,i,L,j,l,G)}return;default:if(_o(i)){for(var oe in a)j=a[oe],a.hasOwnProperty(oe)&&j!==void 0&&!l.hasOwnProperty(oe)&&Xf(e,i,oe,void 0,l,j);for(K in l)j=l[K],G=a[K],!l.hasOwnProperty(K)||j===G||j===void 0&&G===void 0||Xf(e,i,K,j,l,G);return}}for(var x in a)j=a[x],a.hasOwnProperty(x)&&j!=null&&!l.hasOwnProperty(x)&&Yt(e,i,x,null,l,j);for(W in l)j=l[W],G=a[W],!l.hasOwnProperty(W)||j===G||j==null&&G==null||Yt(e,i,W,j,l,G)}var Zf=null,Wf=null;function ic(e){return e.nodeType===9?e:e.ownerDocument}function Ny(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function My(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Jf(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var td=null;function rS(){var e=window.event;return e&&e.type==="popstate"?e===td?!1:(td=e,!0):(td=null,!1)}var Vy=typeof setTimeout=="function"?setTimeout:void 0,sS=typeof clearTimeout=="function"?clearTimeout:void 0,ky=typeof Promise=="function"?Promise:void 0,aS=typeof queueMicrotask=="function"?queueMicrotask:typeof ky<"u"?function(e){return ky.resolve(null).then(e).catch(oS)}:Vy;function oS(e){setTimeout(function(){throw e})}function ed(e,i){var a=i,l=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(l===0){e.removeChild(h),hl(i);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=h}while(a);hl(i)}function nd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":nd(a),rs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function lS(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ar])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Un(e.nextSibling),e===null)break}return null}function uS(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Un(e.nextSibling),e===null))return null;return e}function Un(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}function Ly(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function Py(e,i,a){switch(i=ic(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}var Nn=new Map,xy=new Set;function rc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.ownerDocument}var Ui=at.d;at.d={f:cS,r:hS,D:fS,C:dS,L:mS,m:pS,X:yS,S:gS,M:vS};function cS(){var e=Ui.f(),i=Xu();return e||i}function hS(e){var i=gi(e);i!==null&&i.tag===5&&i.type==="form"?cg(i):Ui.r(e)}var Na=typeof document>"u"?null:document;function Uy(e,i,a){var l=Na;if(l&&typeof i=="string"&&i){var h=re(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),xy.has(h)||(xy.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),ze(i,"link",e),Jt(i),l.head.appendChild(i)))}}function fS(e){Ui.D(e),Uy("dns-prefetch",e,null)}function dS(e,i){Ui.C(e,i),Uy("preconnect",e,i)}function mS(e,i,a){Ui.L(e,i,a);var l=Na;if(l&&e&&i){var h='link[rel="preload"][as="'+re(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+re(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+re(a.imageSizes)+'"]')):h+='[href="'+re(e)+'"]';var d=h;switch(i){case"style":d=Ma(e);break;case"script":d=Va(e)}Nn.has(d)||(e=D({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Nn.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(rl(d))||i==="script"&&l.querySelector(sl(d))||(i=l.createElement("link"),ze(i,"link",e),Jt(i),l.head.appendChild(i)))}}function pS(e,i){Ui.m(e,i);var a=Na;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+re(l)+'"][href="'+re(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Va(e)}if(!Nn.has(d)&&(e=D({rel:"modulepreload",href:e},i),Nn.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(sl(d)))return}l=a.createElement("link"),ze(l,"link",e),Jt(l),a.head.appendChild(l)}}}function gS(e,i,a){Ui.S(e,i,a);var l=Na;if(l&&e){var h=lr(l).hoistableStyles,d=Ma(e);i=i||"default";var E=h.get(d);if(!E){var S={loading:0,preload:null};if(E=l.querySelector(rl(d)))S.loading=5;else{e=D({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Nn.get(d))&&id(e,a);var C=E=l.createElement("link");Jt(C),ze(C,"link",e),C._p=new Promise(function(L,K){C.onload=L,C.onerror=K}),C.addEventListener("load",function(){S.loading|=1}),C.addEventListener("error",function(){S.loading|=2}),S.loading|=4,sc(E,i,l)}E={type:"stylesheet",instance:E,count:1,state:S},h.set(d,E)}}}function yS(e,i){Ui.X(e,i);var a=Na;if(a&&e){var l=lr(a).hoistableScripts,h=Va(e),d=l.get(h);d||(d=a.querySelector(sl(h)),d||(e=D({src:e,async:!0},i),(i=Nn.get(h))&&rd(e,i),d=a.createElement("script"),Jt(d),ze(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function vS(e,i){Ui.M(e,i);var a=Na;if(a&&e){var l=lr(a).hoistableScripts,h=Va(e),d=l.get(h);d||(d=a.querySelector(sl(h)),d||(e=D({src:e,async:!0,type:"module"},i),(i=Nn.get(h))&&rd(e,i),d=a.createElement("script"),Jt(d),ze(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function zy(e,i,a,l){var h=(h=pn.current)?rc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ma(a.href),a=lr(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ma(a.href);var d=lr(h).hoistableStyles,E=d.get(e);if(E||(h=h.ownerDocument||h,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,E),(d=h.querySelector(rl(e)))&&!d._p&&(E.instance=d,E.state.loading=5),Nn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Nn.set(e,a),d||_S(h,e,a,E.state))),i&&l===null)throw Error(s(528,""));return E}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Va(a),a=lr(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Ma(e){return'href="'+re(e)+'"'}function rl(e){return'link[rel="stylesheet"]['+e+"]"}function By(e){return D({},e,{"data-precedence":e.precedence,precedence:null})}function _S(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),ze(i,"link",a),Jt(i),e.head.appendChild(i))}function Va(e){return'[src="'+re(e)+'"]'}function sl(e){return"script[async]"+e}function Hy(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+re(a.href)+'"]');if(l)return i.instance=l,Jt(l),l;var h=D({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Jt(l),ze(l,"style",h),sc(l,a.precedence,e),i.instance=l;case"stylesheet":h=Ma(a.href);var d=e.querySelector(rl(h));if(d)return i.state.loading|=4,i.instance=d,Jt(d),d;l=By(a),(h=Nn.get(h))&&id(l,h),d=(e.ownerDocument||e).createElement("link"),Jt(d);var E=d;return E._p=new Promise(function(S,C){E.onload=S,E.onerror=C}),ze(d,"link",l),i.state.loading|=4,sc(d,a.precedence,e),i.instance=d;case"script":return d=Va(a.src),(h=e.querySelector(sl(d)))?(i.instance=h,Jt(h),h):(l=a,(h=Nn.get(d))&&(l=D({},a),rd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),Jt(h),ze(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,sc(l,a.precedence,e));return i.instance}function sc(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,E=0;E<l.length;E++){var S=l[E];if(S.dataset.precedence===i)d=S;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function id(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function rd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var ac=null;function jy(e,i,a){if(ac===null){var l=new Map,h=ac=new Map;h.set(a,l)}else h=ac,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[ar]||d[De]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(i)||"";E=e+E;var S=l.get(E);S?S.push(d):l.set(E,[d])}}return l}function qy(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function ES(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Fy(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var al=null;function TS(){}function SS(e,i,a){if(al===null)throw Error(s(475));var l=al;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Ma(a.href),d=e.querySelector(rl(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=oc.bind(l),e.then(l,l)),i.state.loading|=4,i.instance=d,Jt(d);return}d=e.ownerDocument||e,a=By(a),(h=Nn.get(h))&&id(a,h),d=d.createElement("link"),Jt(d);var E=d;E._p=new Promise(function(S,C){E.onload=S,E.onerror=C}),ze(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=oc.bind(l),e.addEventListener("load",i),e.addEventListener("error",i))}}function AS(){if(al===null)throw Error(s(475));var e=al;return e.stylesheets&&e.count===0&&sd(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&sd(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function oc(){if(this.count--,this.count===0){if(this.stylesheets)sd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var lc=null;function sd(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,lc=new Map,i.forEach(wS,e),lc=null,oc.call(e))}function wS(e,i){if(!(i.state.loading&4)){var a=lc.get(e);if(a)var l=a.get(null);else{a=new Map,lc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var E=h[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}h=i.instance,E=h.getAttribute("data-precedence"),d=a.get(E)||l,d===l&&a.set(null,h),a.set(E,h),this.count++,l=oc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var ol={$$typeof:P,Provider:null,Consumer:null,_currentValue:Rt,_currentValue2:Rt,_threadCount:0};function bS(e,i,a,l,h,d,E,S){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ys(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ys(0),this.hiddenUpdates=Ys(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function Gy(e,i,a,l,h,d,E,S,C,L,K,W){return e=new bS(e,i,a,E,S,C,L,W),i=1,d===!0&&(i|=24),d=Dn(3,null,null,i),e.current=d,d.stateNode=e,i=Ph(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},yf(d),e}function Ky(e){return e?(e=ha,e):ha}function Qy(e,i,a,l,h,d){h=Ky(h),l.context===null?l.context=h:l.pendingContext=h,l=Tr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Sr(e,l,i),a!==null&&(tn(a,e,i),Fo(a,e,i))}function Yy(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function ad(e,i){Yy(e,i),(e=e.alternate)&&Yy(e,i)}function $y(e){if(e.tag===13){var i=mr(e,67108864);i!==null&&tn(i,e,67108864),ad(e,67108864)}}var uc=!0;function RS(e,i,a,l){var h=w.T;w.T=null;var d=at.p;try{at.p=2,od(e,i,a,l)}finally{at.p=d,w.T=h}}function CS(e,i,a,l){var h=w.T;w.T=null;var d=at.p;try{at.p=8,od(e,i,a,l)}finally{at.p=d,w.T=h}}function od(e,i,a,l){if(uc){var h=ld(l);if(h===null)$f(e,i,l,cc,a),Zy(e,l);else if(DS(h,e,i,a,l))l.stopPropagation();else if(Zy(e,l),i&4&&-1<IS.indexOf(e)){for(;h!==null;){var d=gi(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=Vn(d.pendingLanes);if(E!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;E;){var C=1<<31-Xe(E);S.entanglements[1]|=C,E&=~C}ii(d),(ee&6)===0&&(Qu=nn()+500,el(0))}}break;case 13:S=mr(d,2),S!==null&&tn(S,d,2),Xu(),ad(d,2)}if(d=ld(l),d===null&&$f(e,i,l,cc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else $f(e,i,l,null,a)}}function ld(e){return e=Js(e),ud(e)}var cc=null;function ud(e){if(cc=null,e=kn(e),e!==null){var i=dt(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=Ft(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return cc=e,null}function Xy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($l()){case Ee:return 2;case Ie:return 8;case mi:case Xl:return 32;case lo:return 268435456;default:return 32}default:return 32}}var cd=!1,Dr=null,Or=null,Nr=null,ll=new Map,ul=new Map,Mr=[],IS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Zy(e,i){switch(e){case"focusin":case"focusout":Dr=null;break;case"dragenter":case"dragleave":Or=null;break;case"mouseover":case"mouseout":Nr=null;break;case"pointerover":case"pointerout":ll.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ul.delete(i.pointerId)}}function cl(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=gi(i),i!==null&&$y(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function DS(e,i,a,l,h){switch(i){case"focusin":return Dr=cl(Dr,e,i,a,l,h),!0;case"dragenter":return Or=cl(Or,e,i,a,l,h),!0;case"mouseover":return Nr=cl(Nr,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return ll.set(d,cl(ll.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,ul.set(d,cl(ul.get(d)||null,e,i,a,l,h)),!0}return!1}function Wy(e){var i=kn(e.target);if(i!==null){var a=dt(i);if(a!==null){if(i=a.tag,i===13){if(i=Ft(a),i!==null){e.blockedOn=i,sr(e.priority,function(){if(a.tag===13){var l=mn(),h=mr(a,l);h!==null&&tn(h,a,l),ad(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=ld(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);_n=l,a.target.dispatchEvent(l),_n=null}else return i=gi(a),i!==null&&$y(i),e.blockedOn=a,!1;i.shift()}return!0}function Jy(e,i,a){hc(e)&&a.delete(i)}function OS(){cd=!1,Dr!==null&&hc(Dr)&&(Dr=null),Or!==null&&hc(Or)&&(Or=null),Nr!==null&&hc(Nr)&&(Nr=null),ll.forEach(Jy),ul.forEach(Jy)}function fc(e,i){e.blockedOn===i&&(e.blockedOn=null,cd||(cd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,OS)))}var dc=null;function tv(e){dc!==e&&(dc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){dc===e&&(dc=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(ud(l||a)===null)continue;break}var d=gi(a);d!==null&&(e.splice(i,3),i-=3,Wh(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function hl(e){function i(C){return fc(C,e)}Dr!==null&&fc(Dr,e),Or!==null&&fc(Or,e),Nr!==null&&fc(Nr,e),ll.forEach(i),ul.forEach(i);for(var a=0;a<Mr.length;a++){var l=Mr[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Mr.length&&(a=Mr[0],a.blockedOn===null);)Wy(a),a.blockedOn===null&&Mr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],E=h[Te]||null;if(typeof d=="function")E||tv(a);else if(E){var S=null;if(d&&d.hasAttribute("formAction")){if(h=d,E=d[Te]||null)S=E.formAction;else if(ud(h)!==null)continue}else S=E.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),tv(a)}}}function hd(e){this._internalRoot=e}mc.prototype.render=hd.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=mn();Qy(a,l,e,i,null,null)},mc.prototype.unmount=hd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;e.tag===0&&Ia(),Qy(e.current,2,null,e,null,null),Xu(),i[pi]=null}};function mc(e){this._internalRoot=e}mc.prototype.unstable_scheduleHydration=function(e){if(e){var i=eu();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Mr.length&&i!==0&&i<Mr[a].priority;a++);Mr.splice(a,0,e),a===0&&Wy(e)}};var ev=t.version;if(ev!=="19.0.0")throw Error(s(527,ev,"19.0.0"));at.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=J(i),e=e!==null?ht(e):null,e=e===null?null:e.stateNode,e};var NS={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:w,findFiberByHostInstance:kn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pc.isDisabled&&pc.supportsFiber)try{Ji=pc.inject(NS),je=pc}catch{}}return dl.createRoot=function(e,i){if(!o(e))throw Error(s(299));var a=!1,l="",h=vg,d=_g,E=Eg,S=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(S=i.unstable_transitionCallbacks)),i=Gy(e,1,!1,null,null,a,l,h,d,E,S,null),e[pi]=i.current,Yf(e.nodeType===8?e.parentNode:e),new hd(i)},dl.hydrateRoot=function(e,i,a){if(!o(e))throw Error(s(299));var l=!1,h="",d=vg,E=_g,S=Eg,C=null,L=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(L=a.formState)),i=Gy(e,1,!0,i,a??null,l,h,d,E,S,C,L),i.context=Ky(null),a=i.current,l=mn(),h=Tr(l),h.callback=null,Sr(a,h,l),i.current.lanes=l,ue(i,l),ii(i),e[pi]=i.current,Yf(e),new mc(i)},dl.version="19.0.0",dl}var hv;function jS(){if(hv)return dd.exports;hv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),dd.exports=HS(),dd.exports}var qS=jS();const FS=VS(qS);var Q=fm(),ml={},fv;function GS(){if(fv)return ml;fv=1,Object.defineProperty(ml,"__esModule",{value:!0}),ml.parse=f,ml.serialize=y;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const I=function(){};return I.prototype=Object.create(null),I})();function f(I,P){const U=new u,X=I.length;if(X<2)return U;const F=(P==null?void 0:P.decode)||T;let Y=0;do{const nt=I.indexOf("=",Y);if(nt===-1)break;const tt=I.indexOf(";",Y),mt=tt===-1?X:tt;if(nt>mt){Y=I.lastIndexOf(";",nt-1)+1;continue}const ut=m(I,Y,nt),St=g(I,nt,ut),V=I.slice(ut,St);if(U[V]===void 0){let R=m(I,nt+1,mt),w=g(I,mt,R);const D=F(I.slice(R,w));U[V]=D}Y=mt+1}while(Y<X);return U}function m(I,P,U){do{const X=I.charCodeAt(P);if(X!==32&&X!==9)return P}while(++P<U);return U}function g(I,P,U){for(;P>U;){const X=I.charCodeAt(--P);if(X!==32&&X!==9)return P+1}return U}function y(I,P,U){const X=(U==null?void 0:U.encode)||encodeURIComponent;if(!r.test(I))throw new TypeError(`argument name is invalid: ${I}`);const F=X(P);if(!t.test(F))throw new TypeError(`argument val is invalid: ${P}`);let Y=I+"="+F;if(!U)return Y;if(U.maxAge!==void 0){if(!Number.isInteger(U.maxAge))throw new TypeError(`option maxAge is invalid: ${U.maxAge}`);Y+="; Max-Age="+U.maxAge}if(U.domain){if(!n.test(U.domain))throw new TypeError(`option domain is invalid: ${U.domain}`);Y+="; Domain="+U.domain}if(U.path){if(!s.test(U.path))throw new TypeError(`option path is invalid: ${U.path}`);Y+="; Path="+U.path}if(U.expires){if(!b(U.expires)||!Number.isFinite(U.expires.valueOf()))throw new TypeError(`option expires is invalid: ${U.expires}`);Y+="; Expires="+U.expires.toUTCString()}if(U.httpOnly&&(Y+="; HttpOnly"),U.secure&&(Y+="; Secure"),U.partitioned&&(Y+="; Partitioned"),U.priority)switch(typeof U.priority=="string"?U.priority.toLowerCase():void 0){case"low":Y+="; Priority=Low";break;case"medium":Y+="; Priority=Medium";break;case"high":Y+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${U.priority}`)}if(U.sameSite)switch(typeof U.sameSite=="string"?U.sameSite.toLowerCase():U.sameSite){case!0:case"strict":Y+="; SameSite=Strict";break;case"lax":Y+="; SameSite=Lax";break;case"none":Y+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${U.sameSite}`)}return Y}function T(I){if(I.indexOf("%")===-1)return I;try{return decodeURIComponent(I)}catch{return I}}function b(I){return o.call(I)==="[object Date]"}return ml}GS();/**
 * react-router v7.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var dv="popstate";function KS(r={}){function t(s,o){let{pathname:u,search:f,hash:m}=s.location;return Pd("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Cl(o)}return YS(t,n,null,r)}function Wt(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function zn(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function QS(){return Math.random().toString(36).substring(2,10)}function mv(r,t){return{usr:r.state,key:r.key,idx:t}}function Pd(r,t,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?Wa(t):t,state:n,key:t&&t.key||s||QS()}}function Cl({pathname:r="/",search:t="",hash:n=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Wa(r){let t={};if(r){let n=r.indexOf("#");n>=0&&(t.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(t.search=r.substring(s),r=r.substring(0,s)),r&&(t.pathname=r)}return t}function YS(r,t,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",g=null,y=T();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function T(){return(f.state||{idx:null}).idx}function b(){m="POP";let F=T(),Y=F==null?null:F-y;y=F,g&&g({action:m,location:X.location,delta:Y})}function I(F,Y){m="PUSH";let nt=Pd(X.location,F,Y);y=T()+1;let tt=mv(nt,y),mt=X.createHref(nt);try{f.pushState(tt,"",mt)}catch(ut){if(ut instanceof DOMException&&ut.name==="DataCloneError")throw ut;o.location.assign(mt)}u&&g&&g({action:m,location:X.location,delta:1})}function P(F,Y){m="REPLACE";let nt=Pd(X.location,F,Y);y=T();let tt=mv(nt,y),mt=X.createHref(nt);f.replaceState(tt,"",mt),u&&g&&g({action:m,location:X.location,delta:0})}function U(F){let Y=o.location.origin!=="null"?o.location.origin:o.location.href,nt=typeof F=="string"?F:Cl(F);return nt=nt.replace(/ $/,"%20"),Wt(Y,`No window.location.(origin|href) available to create URL for href: ${nt}`),new URL(nt,Y)}let X={get action(){return m},get location(){return r(o,f)},listen(F){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(dv,b),g=F,()=>{o.removeEventListener(dv,b),g=null}},createHref(F){return t(o,F)},createURL:U,encodeLocation(F){let Y=U(F);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:I,replace:P,go(F){return f.go(F)}};return X}function K_(r,t,n="/"){return $S(r,t,n,!1)}function $S(r,t,n,s){let o=typeof t=="string"?Wa(t):t,u=Gi(o.pathname||"/",n);if(u==null)return null;let f=Q_(r);XS(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let y=oA(u);m=sA(f[g],y,s)}return m}function Q_(r,t=[],n=[],s=""){let o=(u,f,m)=>{let g={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};g.relativePath.startsWith("/")&&(Wt(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length));let y=ji([s,g.relativePath]),T=n.concat(g);u.children&&u.children.length>0&&(Wt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),Q_(u.children,t,T,y)),!(u.path==null&&!u.index)&&t.push({path:y,score:iA(y,u.index),routesMeta:T})};return r.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let g of Y_(u.path))o(u,f,g)}),t}function Y_(r){let t=r.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=Y_(s.join("/")),m=[];return m.push(...f.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...f),m.map(g=>r.startsWith("/")&&g===""?"/":g)}function XS(r){r.sort((t,n)=>t.score!==n.score?n.score-t.score:rA(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var ZS=/^:[\w-]+$/,WS=3,JS=2,tA=1,eA=10,nA=-2,pv=r=>r==="*";function iA(r,t){let n=r.split("/"),s=n.length;return n.some(pv)&&(s+=nA),t&&(s+=JS),n.filter(o=>!pv(o)).reduce((o,u)=>o+(ZS.test(u)?WS:u===""?tA:eA),s)}function rA(r,t){return r.length===t.length&&r.slice(0,-1).every((s,o)=>s===t[o])?r[r.length-1]-t[t.length-1]:0}function sA(r,t,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let g=s[m],y=m===s.length-1,T=u==="/"?t:t.slice(u.length)||"/",b=kc({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},T),I=g.route;if(!b&&y&&n&&!s[s.length-1].route.index&&(b=kc({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},T)),!b)return null;Object.assign(o,b.params),f.push({params:o,pathname:ji([u,b.pathname]),pathnameBase:hA(ji([u,b.pathnameBase])),route:I}),b.pathnameBase!=="/"&&(u=ji([u,b.pathnameBase]))}return f}function kc(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=aA(r.path,r.caseSensitive,r.end),o=t.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:T,isOptional:b},I)=>{if(T==="*"){let U=m[I]||"";f=u.slice(0,u.length-U.length).replace(/(.)\/+$/,"$1")}const P=m[I];return b&&!P?y[T]=void 0:y[T]=(P||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function aA(r,t=!1,n=!0){zn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function oA(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return zn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function Gi(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function lA(r,t="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?Wa(r):r;return{pathname:n?n.startsWith("/")?n:uA(n,t):t,search:fA(s),hash:dA(o)}}function uA(r,t){let n=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function vd(r,t,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function cA(r){return r.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function dm(r){let t=cA(r);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function mm(r,t,n,s=!1){let o;typeof r=="string"?o=Wa(r):(o={...r},Wt(!o.pathname||!o.pathname.includes("?"),vd("?","pathname","search",o)),Wt(!o.pathname||!o.pathname.includes("#"),vd("#","pathname","hash",o)),Wt(!o.search||!o.search.includes("#"),vd("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let b=t.length-1;if(!s&&f.startsWith("..")){let I=f.split("/");for(;I[0]==="..";)I.shift(),b-=1;o.pathname=I.join("/")}m=b>=0?t[b]:"/"}let g=lA(o,m),y=f&&f!=="/"&&f.endsWith("/"),T=(u||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||T)&&(g.pathname+="/"),g}var ji=r=>r.join("/").replace(/\/\/+/g,"/"),hA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),fA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,dA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function mA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var $_=["POST","PUT","PATCH","DELETE"];new Set($_);var pA=["GET",...$_];new Set(pA);var Ja=Q.createContext(null);Ja.displayName="DataRouter";var Xc=Q.createContext(null);Xc.displayName="DataRouterState";var X_=Q.createContext({isTransitioning:!1});X_.displayName="ViewTransition";var gA=Q.createContext(new Map);gA.displayName="Fetchers";var yA=Q.createContext(null);yA.displayName="Await";var Hn=Q.createContext(null);Hn.displayName="Navigation";var Pl=Q.createContext(null);Pl.displayName="Location";var hi=Q.createContext({outlet:null,matches:[],isDataRoute:!1});hi.displayName="Route";var pm=Q.createContext(null);pm.displayName="RouteError";function vA(r,{relative:t}={}){Wt(to(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=Q.useContext(Hn),{hash:o,pathname:u,search:f}=Ul(r,{relative:t}),m=u;return n!=="/"&&(m=u==="/"?n:ji([n,u])),s.createHref({pathname:m,search:f,hash:o})}function to(){return Q.useContext(Pl)!=null}function Wr(){return Wt(to(),"useLocation() may be used only in the context of a <Router> component."),Q.useContext(Pl).location}var Z_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function W_(r){Q.useContext(Hn).static||Q.useLayoutEffect(r)}function xl(){let{isDataRoute:r}=Q.useContext(hi);return r?NA():_A()}function _A(){Wt(to(),"useNavigate() may be used only in the context of a <Router> component.");let r=Q.useContext(Ja),{basename:t,navigator:n}=Q.useContext(Hn),{matches:s}=Q.useContext(hi),{pathname:o}=Wr(),u=JSON.stringify(dm(s)),f=Q.useRef(!1);return W_(()=>{f.current=!0}),Q.useCallback((g,y={})=>{if(zn(f.current,Z_),!f.current)return;if(typeof g=="number"){n.go(g);return}let T=mm(g,JSON.parse(u),o,y.relative==="path");r==null&&t!=="/"&&(T.pathname=T.pathname==="/"?t:ji([t,T.pathname])),(y.replace?n.replace:n.push)(T,y.state,y)},[t,n,u,o,r])}Q.createContext(null);function Ul(r,{relative:t}={}){let{matches:n}=Q.useContext(hi),{pathname:s}=Wr(),o=JSON.stringify(dm(n));return Q.useMemo(()=>mm(r,JSON.parse(o),s,t==="path"),[r,o,s,t])}function EA(r,t){return J_(r,t)}function J_(r,t,n,s){var nt;Wt(to(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=Q.useContext(Hn),{matches:f}=Q.useContext(hi),m=f[f.length-1],g=m?m.params:{},y=m?m.pathname:"/",T=m?m.pathnameBase:"/",b=m&&m.route;{let tt=b&&b.path||"";tE(y,!b||tt.endsWith("*")||tt.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${tt}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${tt}"> to <Route path="${tt==="/"?"*":`${tt}/*`}">.`)}let I=Wr(),P;if(t){let tt=typeof t=="string"?Wa(t):t;Wt(T==="/"||((nt=tt.pathname)==null?void 0:nt.startsWith(T)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${tt.pathname}" was given in the \`location\` prop.`),P=tt}else P=I;let U=P.pathname||"/",X=U;if(T!=="/"){let tt=T.replace(/^\//,"").split("/");X="/"+U.replace(/^\//,"").split("/").slice(tt.length).join("/")}let F=!u&&n&&n.matches&&n.matches.length>0?n.matches:K_(r,{pathname:X});zn(b||F!=null,`No routes matched location "${P.pathname}${P.search}${P.hash}" `),zn(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${P.pathname}${P.search}${P.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Y=bA(F&&F.map(tt=>Object.assign({},tt,{params:Object.assign({},g,tt.params),pathname:ji([T,o.encodeLocation?o.encodeLocation(tt.pathname).pathname:tt.pathname]),pathnameBase:tt.pathnameBase==="/"?T:ji([T,o.encodeLocation?o.encodeLocation(tt.pathnameBase).pathname:tt.pathnameBase])})),f,n,s);return t&&Y?Q.createElement(Pl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...P},navigationType:"POP"}},Y):Y}function TA(){let r=OA(),t=mA(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=Q.createElement(Q.Fragment,null,Q.createElement("p",null," Hey developer "),Q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Q.createElement("code",{style:u},"ErrorBoundary")," or"," ",Q.createElement("code",{style:u},"errorElement")," prop on your route.")),Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},t),n?Q.createElement("pre",{style:o},n):null,f)}var SA=Q.createElement(TA,null),AA=class extends Q.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){console.error("React Router caught the following error during render",r,t)}render(){return this.state.error!==void 0?Q.createElement(hi.Provider,{value:this.props.routeContext},Q.createElement(pm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function wA({routeContext:r,match:t,children:n}){let s=Q.useContext(Ja);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),Q.createElement(hi.Provider,{value:r},n)}function bA(r,t=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let g=o.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);Wt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let f=!1,m=-1;if(n)for(let g=0;g<o.length;g++){let y=o[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=g),y.route.id){let{loaderData:T,errors:b}=n,I=y.route.loader&&!T.hasOwnProperty(y.route.id)&&(!b||b[y.route.id]===void 0);if(y.route.lazy||I){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((g,y,T)=>{let b,I=!1,P=null,U=null;n&&(b=u&&y.route.id?u[y.route.id]:void 0,P=y.route.errorElement||SA,f&&(m<0&&T===0?(tE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,U=null):m===T&&(I=!0,U=y.route.hydrateFallbackElement||null)));let X=t.concat(o.slice(0,T+1)),F=()=>{let Y;return b?Y=P:I?Y=U:y.route.Component?Y=Q.createElement(y.route.Component,null):y.route.element?Y=y.route.element:Y=g,Q.createElement(wA,{match:y,routeContext:{outlet:g,matches:X,isDataRoute:n!=null},children:Y})};return n&&(y.route.ErrorBoundary||y.route.errorElement||T===0)?Q.createElement(AA,{location:n.location,revalidation:n.revalidation,component:P,error:b,children:F(),routeContext:{outlet:null,matches:X,isDataRoute:!0}}):F()},null)}function gm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function RA(r){let t=Q.useContext(Ja);return Wt(t,gm(r)),t}function CA(r){let t=Q.useContext(Xc);return Wt(t,gm(r)),t}function IA(r){let t=Q.useContext(hi);return Wt(t,gm(r)),t}function ym(r){let t=IA(r),n=t.matches[t.matches.length-1];return Wt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function DA(){return ym("useRouteId")}function OA(){var s;let r=Q.useContext(pm),t=CA("useRouteError"),n=ym("useRouteError");return r!==void 0?r:(s=t.errors)==null?void 0:s[n]}function NA(){let{router:r}=RA("useNavigate"),t=ym("useNavigate"),n=Q.useRef(!1);return W_(()=>{n.current=!0}),Q.useCallback(async(o,u={})=>{zn(n.current,Z_),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:t,...u}))},[r,t])}var gv={};function tE(r,t,n){!t&&!gv[r]&&(gv[r]=!0,zn(!1,n))}Q.memo(MA);function MA({routes:r,future:t,state:n}){return J_(r,void 0,n,t)}function _d({to:r,replace:t,state:n,relative:s}){Wt(to(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=Q.useContext(Hn);zn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=Q.useContext(hi),{pathname:f}=Wr(),m=xl(),g=mm(r,dm(u),f,s==="path"),y=JSON.stringify(g);return Q.useEffect(()=>{m(JSON.parse(y),{replace:t,state:n,relative:s})},[m,y,s,t,n]),null}function Ac(r){Wt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function VA({basename:r="/",children:t=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){Wt(!to(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=Q.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=Wa(n));let{pathname:g="/",search:y="",hash:T="",state:b=null,key:I="default"}=n,P=Q.useMemo(()=>{let U=Gi(g,f);return U==null?null:{location:{pathname:U,search:y,hash:T,state:b,key:I},navigationType:s}},[f,g,y,T,b,I,s]);return zn(P!=null,`<Router basename="${f}"> is not able to match the URL "${g}${y}${T}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:Q.createElement(Hn.Provider,{value:m},Q.createElement(Pl.Provider,{children:t,value:P}))}function kA({children:r,location:t}){return EA(xd(r),t)}function xd(r,t=[]){let n=[];return Q.Children.forEach(r,(s,o)=>{if(!Q.isValidElement(s))return;let u=[...t,o];if(s.type===Q.Fragment){n.push.apply(n,xd(s.props.children,u));return}Wt(s.type===Ac,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Wt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=xd(s.props.children,u)),n.push(f)}),n}var wc="get",bc="application/x-www-form-urlencoded";function Zc(r){return r!=null&&typeof r.tagName=="string"}function LA(r){return Zc(r)&&r.tagName.toLowerCase()==="button"}function PA(r){return Zc(r)&&r.tagName.toLowerCase()==="form"}function xA(r){return Zc(r)&&r.tagName.toLowerCase()==="input"}function UA(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function zA(r,t){return r.button===0&&(!t||t==="_self")&&!UA(r)}var gc=null;function BA(){if(gc===null)try{new FormData(document.createElement("form"),0),gc=!1}catch{gc=!0}return gc}var HA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ed(r){return r!=null&&!HA.has(r)?(zn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${bc}"`),null):r}function jA(r,t){let n,s,o,u,f;if(PA(r)){let m=r.getAttribute("action");s=m?Gi(m,t):null,n=r.getAttribute("method")||wc,o=Ed(r.getAttribute("enctype"))||bc,u=new FormData(r)}else if(LA(r)||xA(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||m.getAttribute("action");if(s=g?Gi(g,t):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||wc,o=Ed(r.getAttribute("formenctype"))||Ed(m.getAttribute("enctype"))||bc,u=new FormData(m,r),!BA()){let{name:y,type:T,value:b}=r;if(T==="image"){let I=y?`${y}.`:"";u.append(`${I}x`,"0"),u.append(`${I}y`,"0")}else y&&u.append(y,b)}}else{if(Zc(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=wc,s=null,o=bc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function vm(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}async function qA(r,t){if(r.id in t)return t[r.id];try{let n=await import(r.module);return t[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function FA(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function GA(r,t,n){let s=await Promise.all(r.map(async o=>{let u=t.routes[o.route.id];if(u){let f=await qA(u,n);return f.links?f.links():[]}return[]}));return $A(s.flat(1).filter(FA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function yv(r,t,n,s,o,u){let f=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,m=(g,y)=>{var T;return n[y].pathname!==g.pathname||((T=n[y].route.path)==null?void 0:T.endsWith("*"))&&n[y].params["*"]!==g.params["*"]};return u==="assets"?t.filter((g,y)=>f(g,y)||m(g,y)):u==="data"?t.filter((g,y)=>{var b;let T=s.routes[g.route.id];if(!T||!T.hasLoader)return!1;if(f(g,y)||m(g,y))return!0;if(g.route.shouldRevalidate){let I=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((b=n[0])==null?void 0:b.params)||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof I=="boolean")return I}return!0}):[]}function KA(r,t,{includeHydrateFallback:n}={}){return QA(r.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function QA(r){return[...new Set(r)]}function YA(r){let t={},n=Object.keys(r).sort();for(let s of n)t[s]=r[s];return t}function $A(r,t){let n=new Set;return new Set(t),r.reduce((s,o)=>{let u=JSON.stringify(YA(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function XA(r,t){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":t&&Gi(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function eE(){let r=Q.useContext(Ja);return vm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function ZA(){let r=Q.useContext(Xc);return vm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var _m=Q.createContext(void 0);_m.displayName="FrameworkContext";function nE(){let r=Q.useContext(_m);return vm(r,"You must render this element inside a <HydratedRouter> element"),r}function WA(r,t){let n=Q.useContext(_m),[s,o]=Q.useState(!1),[u,f]=Q.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:y,onMouseLeave:T,onTouchStart:b}=t,I=Q.useRef(null);Q.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let X=Y=>{Y.forEach(nt=>{f(nt.isIntersecting)})},F=new IntersectionObserver(X,{threshold:.5});return I.current&&F.observe(I.current),()=>{F.disconnect()}}},[r]),Q.useEffect(()=>{if(s){let X=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(X)}}},[s]);let P=()=>{o(!0)},U=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,I,{}]:[u,I,{onFocus:pl(m,P),onBlur:pl(g,U),onMouseEnter:pl(y,P),onMouseLeave:pl(T,U),onTouchStart:pl(b,P)}]:[!1,I,{}]}function pl(r,t){return n=>{r&&r(n),n.defaultPrevented||t(n)}}function JA({page:r,...t}){let{router:n}=eE(),s=Q.useMemo(()=>K_(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?Q.createElement(ew,{page:r,matches:s,...t}):null}function tw(r){let{manifest:t,routeModules:n}=nE(),[s,o]=Q.useState([]);return Q.useEffect(()=>{let u=!1;return GA(r,t,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,t,n]),s}function ew({page:r,matches:t,...n}){let s=Wr(),{manifest:o,routeModules:u}=nE(),{basename:f}=eE(),{loaderData:m,matches:g}=ZA(),y=Q.useMemo(()=>yv(r,t,g,o,s,"data"),[r,t,g,o,s]),T=Q.useMemo(()=>yv(r,t,g,o,s,"assets"),[r,t,g,o,s]),b=Q.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let U=new Set,X=!1;if(t.forEach(Y=>{var tt;let nt=o.routes[Y.route.id];!nt||!nt.hasLoader||(!y.some(mt=>mt.route.id===Y.route.id)&&Y.route.id in m&&((tt=u[Y.route.id])!=null&&tt.shouldRevalidate)||nt.hasClientLoader?X=!0:U.add(Y.route.id))}),U.size===0)return[];let F=XA(r,f);return X&&U.size>0&&F.searchParams.set("_routes",t.filter(Y=>U.has(Y.route.id)).map(Y=>Y.route.id).join(",")),[F.pathname+F.search]},[f,m,s,o,y,t,r,u]),I=Q.useMemo(()=>KA(T,o),[T,o]),P=tw(T);return Q.createElement(Q.Fragment,null,b.map(U=>Q.createElement("link",{key:U,rel:"prefetch",as:"fetch",href:U,...n})),I.map(U=>Q.createElement("link",{key:U,rel:"modulepreload",href:U,...n})),P.map(({key:U,link:X})=>Q.createElement("link",{key:U,...X})))}function nw(...r){return t=>{r.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var iE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{iE&&(window.__reactRouterVersion="7.3.0")}catch{}function iw({basename:r,children:t,window:n}){let s=Q.useRef();s.current==null&&(s.current=KS({window:n,v5Compat:!0}));let o=s.current,[u,f]=Q.useState({action:o.action,location:o.location}),m=Q.useCallback(g=>{Q.startTransition(()=>f(g))},[f]);return Q.useLayoutEffect(()=>o.listen(m),[o,m]),Q.createElement(VA,{basename:r,children:t,location:u.location,navigationType:u.action,navigator:o})}var rE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sE=Q.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:g,to:y,preventScrollReset:T,viewTransition:b,...I},P){let{basename:U}=Q.useContext(Hn),X=typeof y=="string"&&rE.test(y),F,Y=!1;if(typeof y=="string"&&X&&(F=y,iE))try{let w=new URL(window.location.href),D=y.startsWith("//")?new URL(w.protocol+y):new URL(y),k=Gi(D.pathname,U);D.origin===w.origin&&k!=null?y=k+D.search+D.hash:Y=!0}catch{zn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let nt=vA(y,{relative:o}),[tt,mt,ut]=WA(s,I),St=ow(y,{replace:f,state:m,target:g,preventScrollReset:T,relative:o,viewTransition:b});function V(w){t&&t(w),w.defaultPrevented||St(w)}let R=Q.createElement("a",{...I,...ut,href:F||nt,onClick:Y||u?t:V,ref:nw(P,mt),target:g,"data-discover":!X&&n==="render"?"true":void 0});return tt&&!X?Q.createElement(Q.Fragment,null,R,Q.createElement(JA,{page:nt})):R});sE.displayName="Link";var rw=Q.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:g,...y},T){let b=Ul(f,{relative:y.relative}),I=Wr(),P=Q.useContext(Xc),{navigator:U,basename:X}=Q.useContext(Hn),F=P!=null&&fw(b)&&m===!0,Y=U.encodeLocation?U.encodeLocation(b).pathname:b.pathname,nt=I.pathname,tt=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;n||(nt=nt.toLowerCase(),tt=tt?tt.toLowerCase():null,Y=Y.toLowerCase()),tt&&X&&(tt=Gi(tt,X)||tt);const mt=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let ut=nt===Y||!o&&nt.startsWith(Y)&&nt.charAt(mt)==="/",St=tt!=null&&(tt===Y||!o&&tt.startsWith(Y)&&tt.charAt(Y.length)==="/"),V={isActive:ut,isPending:St,isTransitioning:F},R=ut?t:void 0,w;typeof s=="function"?w=s(V):w=[s,ut?"active":null,St?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let D=typeof u=="function"?u(V):u;return Q.createElement(sE,{...y,"aria-current":R,className:w,ref:T,style:D,to:f,viewTransition:m},typeof g=="function"?g(V):g)});rw.displayName="NavLink";var sw=Q.forwardRef(({discover:r="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:o,state:u,method:f=wc,action:m,onSubmit:g,relative:y,preventScrollReset:T,viewTransition:b,...I},P)=>{let U=cw(),X=hw(m,{relative:y}),F=f.toLowerCase()==="get"?"get":"post",Y=typeof m=="string"&&rE.test(m),nt=tt=>{if(g&&g(tt),tt.defaultPrevented)return;tt.preventDefault();let mt=tt.nativeEvent.submitter,ut=(mt==null?void 0:mt.getAttribute("formmethod"))||f;U(mt||tt.currentTarget,{fetcherKey:t,method:ut,navigate:n,replace:o,state:u,relative:y,preventScrollReset:T,viewTransition:b})};return Q.createElement("form",{ref:P,method:F,action:X,onSubmit:s?g:nt,...I,"data-discover":!Y&&r==="render"?"true":void 0})});sw.displayName="Form";function aw(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function aE(r){let t=Q.useContext(Ja);return Wt(t,aw(r)),t}function ow(r,{target:t,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=xl(),g=Wr(),y=Ul(r,{relative:u});return Q.useCallback(T=>{if(zA(T,t)){T.preventDefault();let b=n!==void 0?n:Cl(g)===Cl(y);m(r,{replace:b,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[g,m,y,n,s,t,r,o,u,f])}var lw=0,uw=()=>`__${String(++lw)}__`;function cw(){let{router:r}=aE("useSubmit"),{basename:t}=Q.useContext(Hn),n=DA();return Q.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:g,body:y}=jA(s,t);if(o.navigate===!1){let T=o.fetcherKey||uw();await r.fetch(T,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,t,n])}function hw(r,{relative:t}={}){let{basename:n}=Q.useContext(Hn),s=Q.useContext(hi);Wt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Ul(r||".",{relative:t})},f=Wr();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(T=>T==="")){m.delete("index"),g.filter(b=>b).forEach(b=>m.append("index",b));let T=m.toString();u.search=T?`?${T}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:ji([n,u.pathname])),Cl(u)}function fw(r,t={}){let n=Q.useContext(X_);Wt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=aE("useViewTransitionState"),o=Ul(r,{relative:t.relative});if(!n.isTransitioning)return!1;let u=Gi(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=Gi(n.nextLocation.pathname,s)||n.nextLocation.pathname;return kc(o.pathname,f)!=null||kc(o.pathname,u)!=null}new TextEncoder;const dw=()=>{};var vv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},mw=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(g>>10)),t[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],f=r[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},lE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,T=u>>2,b=(u&3)<<4|m>>4;let I=(m&15)<<2|y>>6,P=y&63;g||(P=64,f||(I=64)),s.push(n[T],n[b],n[I],n[P])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(oE(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):mw(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const b=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||b==null)throw new pw;const I=u<<2|m>>4;if(s.push(I),y!==64){const P=m<<4&240|y>>2;if(s.push(P),b!==64){const U=y<<6&192|b;s.push(U)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class pw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gw=function(r){const t=oE(r);return lE.encodeByteArray(t,!0)},Lc=function(r){return gw(r).replace(/\./g,"")},uE=function(r){try{return lE.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw=()=>yw().__FIREBASE_DEFAULTS__,_w=()=>{if(typeof process>"u"||typeof vv>"u")return;const r=vv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Ew=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&uE(r[1]);return t&&JSON.parse(t)},Wc=()=>{try{return dw()||vw()||_w()||Ew()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},cE=r=>{var t,n;return(n=(t=Wc())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[r]},Tw=r=>{const t=cE(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},hE=()=>{var r;return(r=Wc())===null||r===void 0?void 0:r.config},fE=r=>{var t;return(t=Wc())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aw(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Lc(JSON.stringify(n)),Lc(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ye(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ww(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ye())}function bw(){var r;const t=(r=Wc())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Rw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Cw(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Iw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Dw(){const r=Ye();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Ow(){return!bw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Nw(){try{return typeof indexedDB=="object"}catch{return!1}}function Mw(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;t(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw="FirebaseError";class $i extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=Vw,Object.setPrototypeOf(this,$i.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zl.prototype.create)}}class zl{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?kw(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new $i(o,m,s)}}function kw(r,t){return r.replace(Lw,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const Lw=/\{\$([^}]+)}/g;function Pw(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function xs(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=t[o];if(_v(u)&&_v(f)){if(!xs(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function _v(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bl(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function yl(r){const t={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function vl(r){const t=r.indexOf("?");if(!t)return"";const n=r.indexOf("#",t);return r.substring(t,n>0?n:void 0)}function xw(r,t){const n=new Uw(r,t);return n.subscribe.bind(n)}class Uw{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");zw(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=Td),o.error===void 0&&(o.error=Td),o.complete===void 0&&(o.complete=Td);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zw(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function Td(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xi(r){return r&&r._delegate?r._delegate:r}class Us{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new Sw;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(jw(t))try{this.getOrInitializeService({instanceIdentifier:Vs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=Vs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Vs){return this.instances.has(t)}getOptions(t=Vs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(t,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(t),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&t(f,o),()=>{u.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Hw(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Vs){return this.component?this.component.multipleInstances?t:Vs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Hw(r){return r===Vs?void 0:r}function jw(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Bw(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ot||(Ot={}));const Fw={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},Gw=Ot.INFO,Kw={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},Qw=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=Kw[t];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Em{constructor(t){this.name=t,this._logLevel=Gw,this._logHandler=Qw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ot))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Fw[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...t),this._logHandler(this,Ot.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...t),this._logHandler(this,Ot.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...t),this._logHandler(this,Ot.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...t),this._logHandler(this,Ot.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...t),this._logHandler(this,Ot.ERROR,...t)}}const Yw=(r,t)=>t.some(n=>r instanceof n);let Ev,Tv;function $w(){return Ev||(Ev=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Xw(){return Tv||(Tv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const dE=new WeakMap,Ud=new WeakMap,mE=new WeakMap,Sd=new WeakMap,Tm=new WeakMap;function Zw(r){const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(jr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&dE.set(n,r)}).catch(()=>{}),Tm.set(t,r),t}function Ww(r){if(Ud.has(r))return;const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Ud.set(r,t)}let zd={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return Ud.get(r);if(t==="objectStoreNames")return r.objectStoreNames||mE.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return jr(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function Jw(r){zd=r(zd)}function tb(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(Ad(this),t,...n);return mE.set(s,t.sort?t.sort():[t]),jr(s)}:Xw().includes(r)?function(...t){return r.apply(Ad(this),t),jr(dE.get(this))}:function(...t){return jr(r.apply(Ad(this),t))}}function eb(r){return typeof r=="function"?tb(r):(r instanceof IDBTransaction&&Ww(r),Yw(r,$w())?new Proxy(r,zd):r)}function jr(r){if(r instanceof IDBRequest)return Zw(r);if(Sd.has(r))return Sd.get(r);const t=eb(r);return t!==r&&(Sd.set(r,t),Tm.set(t,r)),t}const Ad=r=>Tm.get(r);function nb(r,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,t),m=jr(f);return s&&f.addEventListener("upgradeneeded",g=>{s(jr(f.result),g.oldVersion,g.newVersion,jr(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const ib=["get","getKey","getAll","getAllKeys","count"],rb=["put","add","delete","clear"],wd=new Map;function Sv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(wd.get(t))return wd.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=rb.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||ib.includes(n)))return;const u=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&g.done]))[0]};return wd.set(t,u),u}Jw(r=>({...r,get:(t,n,s)=>Sv(t,n)||r.get(t,n,s),has:(t,n)=>!!Sv(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ab(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function ab(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Bd="@firebase/app",Av="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki=new Em("@firebase/app"),ob="@firebase/app-compat",lb="@firebase/analytics-compat",ub="@firebase/analytics",cb="@firebase/app-check-compat",hb="@firebase/app-check",fb="@firebase/auth",db="@firebase/auth-compat",mb="@firebase/database",pb="@firebase/data-connect",gb="@firebase/database-compat",yb="@firebase/functions",vb="@firebase/functions-compat",_b="@firebase/installations",Eb="@firebase/installations-compat",Tb="@firebase/messaging",Sb="@firebase/messaging-compat",Ab="@firebase/performance",wb="@firebase/performance-compat",bb="@firebase/remote-config",Rb="@firebase/remote-config-compat",Cb="@firebase/storage",Ib="@firebase/storage-compat",Db="@firebase/firestore",Ob="@firebase/vertexai",Nb="@firebase/firestore-compat",Mb="firebase",Vb="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hd="[DEFAULT]",kb={[Bd]:"fire-core",[ob]:"fire-core-compat",[ub]:"fire-analytics",[lb]:"fire-analytics-compat",[hb]:"fire-app-check",[cb]:"fire-app-check-compat",[fb]:"fire-auth",[db]:"fire-auth-compat",[mb]:"fire-rtdb",[pb]:"fire-data-connect",[gb]:"fire-rtdb-compat",[yb]:"fire-fn",[vb]:"fire-fn-compat",[_b]:"fire-iid",[Eb]:"fire-iid-compat",[Tb]:"fire-fcm",[Sb]:"fire-fcm-compat",[Ab]:"fire-perf",[wb]:"fire-perf-compat",[bb]:"fire-rc",[Rb]:"fire-rc-compat",[Cb]:"fire-gcs",[Ib]:"fire-gcs-compat",[Db]:"fire-fst",[Nb]:"fire-fst-compat",[Ob]:"fire-vertex","fire-js":"fire-js",[Mb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pc=new Map,Lb=new Map,jd=new Map;function wv(r,t){try{r.container.addComponent(t)}catch(n){Ki.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Fa(r){const t=r.name;if(jd.has(t))return Ki.debug(`There were multiple attempts to register component ${t}.`),!1;jd.set(t,r);for(const n of Pc.values())wv(n,r);for(const n of Lb.values())wv(n,r);return!0}function Sm(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function Mn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qr=new zl("app","Firebase",Pb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Us("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw qr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo=Vb;function pE(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s=Object.assign({name:Hd,automaticDataCollectionEnabled:!1},t),o=s.name;if(typeof o!="string"||!o)throw qr.create("bad-app-name",{appName:String(o)});if(n||(n=hE()),!n)throw qr.create("no-options");const u=Pc.get(o);if(u){if(xs(n,u.options)&&xs(s,u.config))return u;throw qr.create("duplicate-app",{appName:o})}const f=new qw(o);for(const g of jd.values())f.addComponent(g);const m=new xb(n,s,f);return Pc.set(o,m),m}function gE(r=Hd){const t=Pc.get(r);if(!t&&r===Hd&&hE())return pE();if(!t)throw qr.create("no-app",{appName:r});return t}function Fr(r,t,n){var s;let o=(s=kb[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=t.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${t}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ki.warn(m.join(" "));return}Fa(new Us(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub="firebase-heartbeat-database",zb=1,Il="firebase-heartbeat-store";let bd=null;function yE(){return bd||(bd=nb(Ub,zb,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Il)}catch(n){console.warn(n)}}}}).catch(r=>{throw qr.create("idb-open",{originalErrorMessage:r.message})})),bd}async function Bb(r){try{const n=(await yE()).transaction(Il),s=await n.objectStore(Il).get(vE(r));return await n.done,s}catch(t){if(t instanceof $i)Ki.warn(t.message);else{const n=qr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Ki.warn(n.message)}}}async function bv(r,t){try{const s=(await yE()).transaction(Il,"readwrite");await s.objectStore(Il).put(t,vE(r)),await s.done}catch(n){if(n instanceof $i)Ki.warn(n.message);else{const s=qr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ki.warn(s.message)}}}function vE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb=1024,jb=30;class qb{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Gb(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Rv();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>jb){const f=Kb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Ki.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Rv(),{heartbeatsToSend:s,unsentEntries:o}=Fb(this._heartbeatsCache.heartbeats),u=Lc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Ki.warn(n),""}}}function Rv(){return new Date().toISOString().substring(0,10)}function Fb(r,t=Hb){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Cv(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Cv(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Gb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Nw()?Mw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Bb(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return bv(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return bv(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function Cv(r){return Lc(JSON.stringify({version:2,heartbeats:r})).length}function Kb(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qb(r){Fa(new Us("platform-logger",t=>new sb(t),"PRIVATE")),Fa(new Us("heartbeat",t=>new qb(t),"PRIVATE")),Fr(Bd,Av,r),Fr(Bd,Av,"esm2017"),Fr("fire-js","")}Qb("");var Yb="firebase",$b="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fr(Yb,$b,"app");var Iv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Gr,_E;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(V,R){function w(){}w.prototype=R.prototype,V.D=R.prototype,V.prototype=new w,V.prototype.constructor=V,V.C=function(D,k,B){for(var O=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)O[_e-2]=arguments[_e];return R.prototype[k].apply(D,O)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(V,R,w){w||(w=0);var D=Array(16);if(typeof R=="string")for(var k=0;16>k;++k)D[k]=R.charCodeAt(w++)|R.charCodeAt(w++)<<8|R.charCodeAt(w++)<<16|R.charCodeAt(w++)<<24;else for(k=0;16>k;++k)D[k]=R[w++]|R[w++]<<8|R[w++]<<16|R[w++]<<24;R=V.g[0],w=V.g[1],k=V.g[2];var B=V.g[3],O=R+(B^w&(k^B))+D[0]+3614090360&4294967295;R=w+(O<<7&4294967295|O>>>25),O=B+(k^R&(w^k))+D[1]+3905402710&4294967295,B=R+(O<<12&4294967295|O>>>20),O=k+(w^B&(R^w))+D[2]+606105819&4294967295,k=B+(O<<17&4294967295|O>>>15),O=w+(R^k&(B^R))+D[3]+3250441966&4294967295,w=k+(O<<22&4294967295|O>>>10),O=R+(B^w&(k^B))+D[4]+4118548399&4294967295,R=w+(O<<7&4294967295|O>>>25),O=B+(k^R&(w^k))+D[5]+1200080426&4294967295,B=R+(O<<12&4294967295|O>>>20),O=k+(w^B&(R^w))+D[6]+2821735955&4294967295,k=B+(O<<17&4294967295|O>>>15),O=w+(R^k&(B^R))+D[7]+4249261313&4294967295,w=k+(O<<22&4294967295|O>>>10),O=R+(B^w&(k^B))+D[8]+1770035416&4294967295,R=w+(O<<7&4294967295|O>>>25),O=B+(k^R&(w^k))+D[9]+2336552879&4294967295,B=R+(O<<12&4294967295|O>>>20),O=k+(w^B&(R^w))+D[10]+4294925233&4294967295,k=B+(O<<17&4294967295|O>>>15),O=w+(R^k&(B^R))+D[11]+2304563134&4294967295,w=k+(O<<22&4294967295|O>>>10),O=R+(B^w&(k^B))+D[12]+1804603682&4294967295,R=w+(O<<7&4294967295|O>>>25),O=B+(k^R&(w^k))+D[13]+4254626195&4294967295,B=R+(O<<12&4294967295|O>>>20),O=k+(w^B&(R^w))+D[14]+2792965006&4294967295,k=B+(O<<17&4294967295|O>>>15),O=w+(R^k&(B^R))+D[15]+1236535329&4294967295,w=k+(O<<22&4294967295|O>>>10),O=R+(k^B&(w^k))+D[1]+4129170786&4294967295,R=w+(O<<5&4294967295|O>>>27),O=B+(w^k&(R^w))+D[6]+3225465664&4294967295,B=R+(O<<9&4294967295|O>>>23),O=k+(R^w&(B^R))+D[11]+643717713&4294967295,k=B+(O<<14&4294967295|O>>>18),O=w+(B^R&(k^B))+D[0]+3921069994&4294967295,w=k+(O<<20&4294967295|O>>>12),O=R+(k^B&(w^k))+D[5]+3593408605&4294967295,R=w+(O<<5&4294967295|O>>>27),O=B+(w^k&(R^w))+D[10]+38016083&4294967295,B=R+(O<<9&4294967295|O>>>23),O=k+(R^w&(B^R))+D[15]+3634488961&4294967295,k=B+(O<<14&4294967295|O>>>18),O=w+(B^R&(k^B))+D[4]+3889429448&4294967295,w=k+(O<<20&4294967295|O>>>12),O=R+(k^B&(w^k))+D[9]+568446438&4294967295,R=w+(O<<5&4294967295|O>>>27),O=B+(w^k&(R^w))+D[14]+3275163606&4294967295,B=R+(O<<9&4294967295|O>>>23),O=k+(R^w&(B^R))+D[3]+4107603335&4294967295,k=B+(O<<14&4294967295|O>>>18),O=w+(B^R&(k^B))+D[8]+1163531501&4294967295,w=k+(O<<20&4294967295|O>>>12),O=R+(k^B&(w^k))+D[13]+2850285829&4294967295,R=w+(O<<5&4294967295|O>>>27),O=B+(w^k&(R^w))+D[2]+4243563512&4294967295,B=R+(O<<9&4294967295|O>>>23),O=k+(R^w&(B^R))+D[7]+1735328473&4294967295,k=B+(O<<14&4294967295|O>>>18),O=w+(B^R&(k^B))+D[12]+2368359562&4294967295,w=k+(O<<20&4294967295|O>>>12),O=R+(w^k^B)+D[5]+4294588738&4294967295,R=w+(O<<4&4294967295|O>>>28),O=B+(R^w^k)+D[8]+2272392833&4294967295,B=R+(O<<11&4294967295|O>>>21),O=k+(B^R^w)+D[11]+1839030562&4294967295,k=B+(O<<16&4294967295|O>>>16),O=w+(k^B^R)+D[14]+4259657740&4294967295,w=k+(O<<23&4294967295|O>>>9),O=R+(w^k^B)+D[1]+2763975236&4294967295,R=w+(O<<4&4294967295|O>>>28),O=B+(R^w^k)+D[4]+1272893353&4294967295,B=R+(O<<11&4294967295|O>>>21),O=k+(B^R^w)+D[7]+4139469664&4294967295,k=B+(O<<16&4294967295|O>>>16),O=w+(k^B^R)+D[10]+3200236656&4294967295,w=k+(O<<23&4294967295|O>>>9),O=R+(w^k^B)+D[13]+681279174&4294967295,R=w+(O<<4&4294967295|O>>>28),O=B+(R^w^k)+D[0]+3936430074&4294967295,B=R+(O<<11&4294967295|O>>>21),O=k+(B^R^w)+D[3]+3572445317&4294967295,k=B+(O<<16&4294967295|O>>>16),O=w+(k^B^R)+D[6]+76029189&4294967295,w=k+(O<<23&4294967295|O>>>9),O=R+(w^k^B)+D[9]+3654602809&4294967295,R=w+(O<<4&4294967295|O>>>28),O=B+(R^w^k)+D[12]+3873151461&4294967295,B=R+(O<<11&4294967295|O>>>21),O=k+(B^R^w)+D[15]+530742520&4294967295,k=B+(O<<16&4294967295|O>>>16),O=w+(k^B^R)+D[2]+3299628645&4294967295,w=k+(O<<23&4294967295|O>>>9),O=R+(k^(w|~B))+D[0]+4096336452&4294967295,R=w+(O<<6&4294967295|O>>>26),O=B+(w^(R|~k))+D[7]+1126891415&4294967295,B=R+(O<<10&4294967295|O>>>22),O=k+(R^(B|~w))+D[14]+2878612391&4294967295,k=B+(O<<15&4294967295|O>>>17),O=w+(B^(k|~R))+D[5]+4237533241&4294967295,w=k+(O<<21&4294967295|O>>>11),O=R+(k^(w|~B))+D[12]+1700485571&4294967295,R=w+(O<<6&4294967295|O>>>26),O=B+(w^(R|~k))+D[3]+2399980690&4294967295,B=R+(O<<10&4294967295|O>>>22),O=k+(R^(B|~w))+D[10]+4293915773&4294967295,k=B+(O<<15&4294967295|O>>>17),O=w+(B^(k|~R))+D[1]+2240044497&4294967295,w=k+(O<<21&4294967295|O>>>11),O=R+(k^(w|~B))+D[8]+1873313359&4294967295,R=w+(O<<6&4294967295|O>>>26),O=B+(w^(R|~k))+D[15]+4264355552&4294967295,B=R+(O<<10&4294967295|O>>>22),O=k+(R^(B|~w))+D[6]+2734768916&4294967295,k=B+(O<<15&4294967295|O>>>17),O=w+(B^(k|~R))+D[13]+1309151649&4294967295,w=k+(O<<21&4294967295|O>>>11),O=R+(k^(w|~B))+D[4]+4149444226&4294967295,R=w+(O<<6&4294967295|O>>>26),O=B+(w^(R|~k))+D[11]+3174756917&4294967295,B=R+(O<<10&4294967295|O>>>22),O=k+(R^(B|~w))+D[2]+718787259&4294967295,k=B+(O<<15&4294967295|O>>>17),O=w+(B^(k|~R))+D[9]+3951481745&4294967295,V.g[0]=V.g[0]+R&4294967295,V.g[1]=V.g[1]+(k+(O<<21&4294967295|O>>>11))&4294967295,V.g[2]=V.g[2]+k&4294967295,V.g[3]=V.g[3]+B&4294967295}s.prototype.u=function(V,R){R===void 0&&(R=V.length);for(var w=R-this.blockSize,D=this.B,k=this.h,B=0;B<R;){if(k==0)for(;B<=w;)o(this,V,B),B+=this.blockSize;if(typeof V=="string"){for(;B<R;)if(D[k++]=V.charCodeAt(B++),k==this.blockSize){o(this,D),k=0;break}}else for(;B<R;)if(D[k++]=V[B++],k==this.blockSize){o(this,D),k=0;break}}this.h=k,this.o+=R},s.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var R=1;R<V.length-8;++R)V[R]=0;var w=8*this.o;for(R=V.length-8;R<V.length;++R)V[R]=w&255,w/=256;for(this.u(V),V=Array(16),R=w=0;4>R;++R)for(var D=0;32>D;D+=8)V[w++]=this.g[R]>>>D&255;return V};function u(V,R){var w=m;return Object.prototype.hasOwnProperty.call(w,V)?w[V]:w[V]=R(V)}function f(V,R){this.h=R;for(var w=[],D=!0,k=V.length-1;0<=k;k--){var B=V[k]|0;D&&B==R||(w[k]=B,D=!1)}this.g=w}var m={};function g(V){return-128<=V&&128>V?u(V,function(R){return new f([R|0],0>R?-1:0)}):new f([V|0],0>V?-1:0)}function y(V){if(isNaN(V)||!isFinite(V))return b;if(0>V)return F(y(-V));for(var R=[],w=1,D=0;V>=w;D++)R[D]=V/w|0,w*=4294967296;return new f(R,0)}function T(V,R){if(V.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(V.charAt(0)=="-")return F(T(V.substring(1),R));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=y(Math.pow(R,8)),D=b,k=0;k<V.length;k+=8){var B=Math.min(8,V.length-k),O=parseInt(V.substring(k,k+B),R);8>B?(B=y(Math.pow(R,B)),D=D.j(B).add(y(O))):(D=D.j(w),D=D.add(y(O)))}return D}var b=g(0),I=g(1),P=g(16777216);r=f.prototype,r.m=function(){if(X(this))return-F(this).m();for(var V=0,R=1,w=0;w<this.g.length;w++){var D=this.i(w);V+=(0<=D?D:4294967296+D)*R,R*=4294967296}return V},r.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(U(this))return"0";if(X(this))return"-"+F(this).toString(V);for(var R=y(Math.pow(V,6)),w=this,D="";;){var k=mt(w,R).g;w=Y(w,k.j(R));var B=((0<w.g.length?w.g[0]:w.h)>>>0).toString(V);if(w=k,U(w))return B+D;for(;6>B.length;)B="0"+B;D=B+D}},r.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function U(V){if(V.h!=0)return!1;for(var R=0;R<V.g.length;R++)if(V.g[R]!=0)return!1;return!0}function X(V){return V.h==-1}r.l=function(V){return V=Y(this,V),X(V)?-1:U(V)?0:1};function F(V){for(var R=V.g.length,w=[],D=0;D<R;D++)w[D]=~V.g[D];return new f(w,~V.h).add(I)}r.abs=function(){return X(this)?F(this):this},r.add=function(V){for(var R=Math.max(this.g.length,V.g.length),w=[],D=0,k=0;k<=R;k++){var B=D+(this.i(k)&65535)+(V.i(k)&65535),O=(B>>>16)+(this.i(k)>>>16)+(V.i(k)>>>16);D=O>>>16,B&=65535,O&=65535,w[k]=O<<16|B}return new f(w,w[w.length-1]&-2147483648?-1:0)};function Y(V,R){return V.add(F(R))}r.j=function(V){if(U(this)||U(V))return b;if(X(this))return X(V)?F(this).j(F(V)):F(F(this).j(V));if(X(V))return F(this.j(F(V)));if(0>this.l(P)&&0>V.l(P))return y(this.m()*V.m());for(var R=this.g.length+V.g.length,w=[],D=0;D<2*R;D++)w[D]=0;for(D=0;D<this.g.length;D++)for(var k=0;k<V.g.length;k++){var B=this.i(D)>>>16,O=this.i(D)&65535,_e=V.i(k)>>>16,de=V.i(k)&65535;w[2*D+2*k]+=O*de,nt(w,2*D+2*k),w[2*D+2*k+1]+=B*de,nt(w,2*D+2*k+1),w[2*D+2*k+1]+=O*_e,nt(w,2*D+2*k+1),w[2*D+2*k+2]+=B*_e,nt(w,2*D+2*k+2)}for(D=0;D<R;D++)w[D]=w[2*D+1]<<16|w[2*D];for(D=R;D<2*R;D++)w[D]=0;return new f(w,0)};function nt(V,R){for(;(V[R]&65535)!=V[R];)V[R+1]+=V[R]>>>16,V[R]&=65535,R++}function tt(V,R){this.g=V,this.h=R}function mt(V,R){if(U(R))throw Error("division by zero");if(U(V))return new tt(b,b);if(X(V))return R=mt(F(V),R),new tt(F(R.g),F(R.h));if(X(R))return R=mt(V,F(R)),new tt(F(R.g),R.h);if(30<V.g.length){if(X(V)||X(R))throw Error("slowDivide_ only works with positive integers.");for(var w=I,D=R;0>=D.l(V);)w=ut(w),D=ut(D);var k=St(w,1),B=St(D,1);for(D=St(D,2),w=St(w,2);!U(D);){var O=B.add(D);0>=O.l(V)&&(k=k.add(w),B=O),D=St(D,1),w=St(w,1)}return R=Y(V,k.j(R)),new tt(k,R)}for(k=b;0<=V.l(R);){for(w=Math.max(1,Math.floor(V.m()/R.m())),D=Math.ceil(Math.log(w)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),B=y(w),O=B.j(R);X(O)||0<O.l(V);)w-=D,B=y(w),O=B.j(R);U(B)&&(B=I),k=k.add(B),V=Y(V,O)}return new tt(k,V)}r.A=function(V){return mt(this,V).h},r.and=function(V){for(var R=Math.max(this.g.length,V.g.length),w=[],D=0;D<R;D++)w[D]=this.i(D)&V.i(D);return new f(w,this.h&V.h)},r.or=function(V){for(var R=Math.max(this.g.length,V.g.length),w=[],D=0;D<R;D++)w[D]=this.i(D)|V.i(D);return new f(w,this.h|V.h)},r.xor=function(V){for(var R=Math.max(this.g.length,V.g.length),w=[],D=0;D<R;D++)w[D]=this.i(D)^V.i(D);return new f(w,this.h^V.h)};function ut(V){for(var R=V.g.length+1,w=[],D=0;D<R;D++)w[D]=V.i(D)<<1|V.i(D-1)>>>31;return new f(w,V.h)}function St(V,R){var w=R>>5;R%=32;for(var D=V.g.length-w,k=[],B=0;B<D;B++)k[B]=0<R?V.i(B+w)>>>R|V.i(B+w+1)<<32-R:V.i(B+w);return new f(k,V.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,_E=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=T,Gr=f}).apply(typeof Iv<"u"?Iv:typeof self<"u"?self:typeof window<"u"?window:{});var yc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var EE,_l,TE,Rc,qd,SE,AE,wE;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,v){return c==Array.prototype||c==Object.prototype||(c[p]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof yc=="object"&&yc];for(var p=0;p<c.length;++p){var v=c[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,p){if(p)t:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var z=c[A];if(!(z in v))break t;v=v[z]}c=c[c.length-1],A=v[c],p=p(A),p!=A&&p!=null&&t(v,c,{configurable:!0,writable:!0,value:p})}}function u(c,p){c instanceof String&&(c+="");var v=0,A=!1,z={next:function(){if(!A&&v<c.length){var q=v++;return{value:p(q,c[q]),done:!1}}return A=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(c){return c||function(){return u(this,function(p,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function g(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function y(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function T(c,p,v){return c.call.apply(c.bind,arguments)}function b(c,p,v){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,A),c.apply(p,z)}}return function(){return c.apply(p,arguments)}}function I(c,p,v){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:b,I.apply(null,arguments)}function P(c,p){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function U(c,p){function v(){}v.prototype=p.prototype,c.aa=p.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(A,z,q){for(var et=Array(arguments.length-2),Mt=2;Mt<arguments.length;Mt++)et[Mt-2]=arguments[Mt];return p.prototype[z].apply(A,et)}}function X(c){const p=c.length;if(0<p){const v=Array(p);for(let A=0;A<p;A++)v[A]=c[A];return v}return[]}function F(c,p){for(let v=1;v<arguments.length;v++){const A=arguments[v];if(g(A)){const z=c.length||0,q=A.length||0;c.length=z+q;for(let et=0;et<q;et++)c[z+et]=A[et]}else c.push(A)}}class Y{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function nt(c){return/^[\s\xa0]*$/.test(c)}function tt(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function mt(c){return mt[" "](c),c}mt[" "]=function(){};var ut=tt().indexOf("Gecko")!=-1&&!(tt().toLowerCase().indexOf("webkit")!=-1&&tt().indexOf("Edge")==-1)&&!(tt().indexOf("Trident")!=-1||tt().indexOf("MSIE")!=-1)&&tt().indexOf("Edge")==-1;function St(c,p,v){for(const A in c)p.call(v,c[A],A,c)}function V(c,p){for(const v in c)p.call(void 0,c[v],v,c)}function R(c){const p={};for(const v in c)p[v]=c[v];return p}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,p){let v,A;for(let z=1;z<arguments.length;z++){A=arguments[z];for(v in A)c[v]=A[v];for(let q=0;q<w.length;q++)v=w[q],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function k(c){var p=1;c=c.split(":");const v=[];for(;0<p&&c.length;)v.push(c.shift()),p--;return c.length&&v.push(c.join(":")),v}function B(c){m.setTimeout(()=>{throw c},0)}function O(){var c=Ft;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class _e{constructor(){this.h=this.g=null}add(p,v){const A=de.get();A.set(p,v),this.h?this.h.next=A:this.g=A,this.h=A}}var de=new Y(()=>new rt,c=>c.reset());class rt{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let _t,dt=!1,Ft=new _e,N=()=>{const c=m.Promise.resolve(void 0);_t=()=>{c.then(J)}};var J=()=>{for(var c;c=O();){try{c.h.call(c.g)}catch(v){B(v)}var p=de;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}dt=!1};function ht(){this.s=this.s,this.C=this.C}ht.prototype.s=!1,ht.prototype.ma=function(){this.s||(this.s=!0,this.N())},ht.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function st(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}st.prototype.h=function(){this.defaultPrevented=!0};var at=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,p),m.removeEventListener("test",v,p)}catch{}return c}();function Rt(c,p){if(st.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(ut){t:{try{mt(p.nodeName);var z=!0;break t}catch{}z=!1}z||(p=null)}}else v=="mouseover"?p=c.fromElement:v=="mouseout"&&(p=c.toElement);this.relatedTarget=p,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:At[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Rt.aa.h.call(this)}}U(Rt,st);var At={2:"touch",3:"pen",4:"mouse"};Rt.prototype.h=function(){Rt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var me="closure_listenable_"+(1e6*Math.random()|0),zt=0;function ie(c,p,v,A,z){this.listener=c,this.proxy=null,this.src=p,this.type=v,this.capture=!!A,this.ha=z,this.key=++zt,this.da=this.fa=!1}function Kt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function $e(c){this.src=c,this.g={},this.h=0}$e.prototype.add=function(c,p,v,A,z){var q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);var et=pn(c,p,A,z);return-1<et?(p=c[et],v||(p.fa=!1)):(p=new ie(p,this.src,q,!!A,z),p.fa=v,c.push(p)),p};function fi(c,p){var v=p.type;if(v in c.g){var A=c.g[v],z=Array.prototype.indexOf.call(A,p,void 0),q;(q=0<=z)&&Array.prototype.splice.call(A,z,1),q&&(Kt(p),c.g[v].length==0&&(delete c.g[v],c.h--))}}function pn(c,p,v,A){for(var z=0;z<c.length;++z){var q=c[z];if(!q.da&&q.listener==p&&q.capture==!!v&&q.ha==A)return z}return-1}var Zi="closure_lm_"+(1e6*Math.random()|0),Wi={};function di(c,p,v,A,z){if(Array.isArray(p)){for(var q=0;q<p.length;q++)di(c,p[q],v,A,z);return null}return v=$l(v),c&&c[me]?c.K(p,v,y(A)?!!A.capture:!1,z):ao(c,p,v,!1,A,z)}function ao(c,p,v,A,z,q){if(!p)throw Error("Invalid event type");var et=y(z)?!!z.capture:!!z,Mt=oo(c);if(Mt||(c[Zi]=Mt=new $e(c)),v=Mt.add(p,v,A,et,q),v.proxy)return v;if(A=Fs(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)at||(z=et),z===void 0&&(z=!1),c.addEventListener(p.toString(),A,z);else if(c.attachEvent)c.attachEvent(Ks(p.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Fs(){function c(v){return p.call(c.src,c.listener,v)}const p=dh;return c}function Gs(c,p,v,A,z){if(Array.isArray(p))for(var q=0;q<p.length;q++)Gs(c,p[q],v,A,z);else A=y(A)?!!A.capture:!!A,v=$l(v),c&&c[me]?(c=c.i,p=String(p).toString(),p in c.g&&(q=c.g[p],v=pn(q,v,A,z),-1<v&&(Kt(q[v]),Array.prototype.splice.call(q,v,1),q.length==0&&(delete c.g[p],c.h--)))):c&&(c=oo(c))&&(p=c.g[p.toString()],c=-1,p&&(c=pn(p,v,A,z)),(v=-1<c?p[c]:null)&&es(v))}function es(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[me])fi(p.i,c);else{var v=c.type,A=c.proxy;p.removeEventListener?p.removeEventListener(v,A,c.capture):p.detachEvent?p.detachEvent(Ks(v),A):p.addListener&&p.removeListener&&p.removeListener(A),(v=oo(p))?(fi(v,c),v.h==0&&(v.src=null,p[Zi]=null)):Kt(c)}}}function Ks(c){return c in Wi?Wi[c]:Wi[c]="on"+c}function dh(c,p){if(c.da)c=!0;else{p=new Rt(p,this);var v=c.listener,A=c.ha||c.src;c.fa&&es(c),c=v.call(A,p)}return c}function oo(c){return c=c[Zi],c instanceof $e?c:null}var nn="__closure_events_fn_"+(1e9*Math.random()>>>0);function $l(c){return typeof c=="function"?c:(c[nn]||(c[nn]=function(p){return c.handleEvent(p)}),c[nn])}function Ee(){ht.call(this),this.i=new $e(this),this.M=this,this.F=null}U(Ee,ht),Ee.prototype[me]=!0,Ee.prototype.removeEventListener=function(c,p,v,A){Gs(this,c,p,v,A)};function Ie(c,p){var v,A=c.F;if(A)for(v=[];A;A=A.F)v.push(A);if(c=c.M,A=p.type||p,typeof p=="string")p=new st(p,c);else if(p instanceof st)p.target=p.target||c;else{var z=p;p=new st(A,c),D(p,z)}if(z=!0,v)for(var q=v.length-1;0<=q;q--){var et=p.g=v[q];z=mi(et,A,!0,p)&&z}if(et=p.g=c,z=mi(et,A,!0,p)&&z,z=mi(et,A,!1,p)&&z,v)for(q=0;q<v.length;q++)et=p.g=v[q],z=mi(et,A,!1,p)&&z}Ee.prototype.N=function(){if(Ee.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var v=c.g[p],A=0;A<v.length;A++)Kt(v[A]);delete c.g[p],c.h--}}this.F=null},Ee.prototype.K=function(c,p,v,A){return this.i.add(String(c),p,!1,v,A)},Ee.prototype.L=function(c,p,v,A){return this.i.add(String(c),p,!0,v,A)};function mi(c,p,v,A){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var z=!0,q=0;q<p.length;++q){var et=p[q];if(et&&!et.da&&et.capture==v){var Mt=et.listener,Se=et.ha||et.src;et.fa&&fi(c.i,et),z=Mt.call(Se,A)!==!1&&z}}return z&&!A.defaultPrevented}function Xl(c,p,v){if(typeof c=="function")v&&(c=I(c,v));else if(c&&typeof c.handleEvent=="function")c=I(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:m.setTimeout(c,p||0)}function lo(c){c.g=Xl(()=>{c.g=null,c.i&&(c.i=!1,lo(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class mh extends ht{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:lo(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ns(c){ht.call(this),this.h=c,this.g={}}U(ns,ht);var Ji=[];function je(c){St(c.g,function(p,v){this.g.hasOwnProperty(v)&&es(p)},c),c.g={}}ns.prototype.N=function(){ns.aa.N.call(this),je(this)},ns.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var uo=m.JSON.stringify,jn=m.JSON.parse,Xe=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function co(){}co.prototype.h=null;function Zl(c){return c.h||(c.h=c.i())}function Wl(){}var qn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function tr(){st.call(this,"d")}U(tr,st);function Vn(){st.call(this,"c")}U(Vn,st);var gn={},er=null;function Qs(){return er=er||new Ee}gn.La="serverreachability";function ho(c){st.call(this,gn.La,c)}U(ho,st);function nr(c){const p=Qs();Ie(p,new ho(p))}gn.STAT_EVENT="statevent";function Ys(c,p){st.call(this,gn.STAT_EVENT,c),this.stat=p}U(Ys,st);function ue(c){const p=Qs();Ie(p,new Ys(p,c))}gn.Ma="timingevent";function Jl(c,p){st.call(this,gn.Ma,c),this.size=p}U(Jl,st);function ir(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},p)}function rr(){this.g=!0}rr.prototype.xa=function(){this.g=!1};function tu(c,p,v,A,z,q){c.info(function(){if(c.g)if(q)for(var et="",Mt=q.split("&"),Se=0;Se<Mt.length;Se++){var Vt=Mt[Se].split("=");if(1<Vt.length){var Ne=Vt[0];Vt=Vt[1];var Ae=Ne.split("_");et=2<=Ae.length&&Ae[1]=="type"?et+(Ne+"="+Vt+"&"):et+(Ne+"=redacted&")}}else et=null;else et=q;return"XMLHTTP REQ ("+A+") [attempt "+z+"]: "+p+`
`+v+`
`+et})}function eu(c,p,v,A,z,q,et){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+z+"]: "+p+`
`+v+`
`+q+" "+et})}function sr(c,p,v,A){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+De(c,v)+(A?" "+A:"")})}function Fn(c,p){c.info(function(){return"TIMEOUT: "+p})}rr.prototype.info=function(){};function De(c,p){if(!c.g)return p;if(!p)return null;try{var v=JSON.parse(p);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var A=v[c];if(!(2>A.length)){var z=A[1];if(Array.isArray(z)&&!(1>z.length)){var q=z[0];if(q!="noop"&&q!="stop"&&q!="close")for(var et=1;et<z.length;et++)z[et]=""}}}}return uo(v)}catch{return p}}var Te={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},pi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},is;function $s(){}U($s,co),$s.prototype.g=function(){return new XMLHttpRequest},$s.prototype.i=function(){return{}},is=new $s;function Gn(c,p,v,A){this.j=c,this.i=p,this.l=v,this.R=A||1,this.U=new ns(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new fo}function fo(){this.i=null,this.g="",this.h=!1}var ar={},rs={};function kn(c,p,v){c.L=1,c.v=os(re(p)),c.m=v,c.P=!0,gi(c,null)}function gi(c,p){c.F=Date.now(),Jt(c),c.A=re(c.v);var v=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),_i(v.i,"t",A),c.C=0,v=c.j.J,c.h=new fo,c.g=pu(c.j,v?p:null,!c.m),0<c.O&&(c.M=new mh(I(c.Y,c,c.g),c.O)),p=c.U,v=c.g,A=c.ca;var z="readystatechange";Array.isArray(z)||(z&&(Ji[0]=z.toString()),z=Ji);for(var q=0;q<z.length;q++){var et=di(v,z[q],A||p.handleEvent,!1,p.h||p);if(!et)break;p.g[et.key]=et}p=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),nr(),tu(c.i,c.u,c.A,c.l,c.R,c.m)}Gn.prototype.ca=function(c){c=c.target;const p=this.M;p&&Tn(c)==3?p.j():this.Y(c)},Gn.prototype.Y=function(c){try{if(c==this.g)t:{const Ae=Tn(this.g);var p=this.g.Ba();const Ai=this.g.Z();if(!(3>Ae)&&(Ae!=3||this.g&&(this.h.h||this.g.oa()||ou(this.g)))){this.J||Ae!=4||p==7||(p==8||0>=Ai?nr(3):nr(2)),Xs(this);var v=this.g.Z();this.X=v;e:if(or(this)){var A=ou(this.g);c="";var z=A.length,q=Tn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){rn(this),ln(this);var et="";break e}this.h.i=new m.TextDecoder}for(p=0;p<z;p++)this.h.h=!0,c+=this.h.i.decode(A[p],{stream:!(q&&p==z-1)});A.length=0,this.h.g+=c,this.C=0,et=this.h.g}else et=this.g.oa();if(this.o=v==200,eu(this.i,this.u,this.A,this.l,this.R,Ae,v),this.o){if(this.T&&!this.K){e:{if(this.g){var Mt,Se=this.g;if((Mt=Se.g?Se.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!nt(Mt)){var Vt=Mt;break e}}Vt=null}if(v=Vt)sr(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,un(this,v);else{this.o=!1,this.s=3,ue(12),rn(this),ln(this);break t}}if(this.P){v=!0;let Pe;for(;!this.J&&this.C<et.length;)if(Pe=lr(this,et),Pe==rs){Ae==4&&(this.s=4,ue(14),v=!1),sr(this.i,this.l,null,"[Incomplete Response]");break}else if(Pe==ar){this.s=4,ue(15),sr(this.i,this.l,et,"[Invalid Chunk]"),v=!1;break}else sr(this.i,this.l,Pe,null),un(this,Pe);if(or(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ae!=4||et.length!=0||this.h.h||(this.s=1,ue(16),v=!1),this.o=this.o&&v,!v)sr(this.i,this.l,et,"[Invalid Chunked Response]"),rn(this),ln(this);else if(0<et.length&&!this.W){this.W=!0;var Ne=this.j;Ne.g==this&&Ne.ba&&!Ne.M&&(Ne.j.info("Great, no buffering proxy detected. Bytes received: "+et.length),ms(Ne),Ne.M=!0,ue(11))}}else sr(this.i,this.l,et,null),un(this,et);Ae==4&&rn(this),this.o&&!this.J&&(Ae==4?fu(this.j,this):(this.o=!1,Jt(this)))}else Eh(this.g),v==400&&0<et.indexOf("Unknown SID")?(this.s=3,ue(12)):(this.s=0,ue(13)),rn(this),ln(this)}}}catch{}finally{}};function or(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function lr(c,p){var v=c.C,A=p.indexOf(`
`,v);return A==-1?rs:(v=Number(p.substring(v,A)),isNaN(v)?ar:(A+=1,A+v>p.length?rs:(p=p.slice(A,A+v),c.C=A+v,p)))}Gn.prototype.cancel=function(){this.J=!0,rn(this)};function Jt(c){c.S=Date.now()+c.I,mo(c,c.I)}function mo(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ir(I(c.ba,c),p)}function Xs(c){c.B&&(m.clearTimeout(c.B),c.B=null)}Gn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Fn(this.i,this.A),this.L!=2&&(nr(),ue(17)),rn(this),this.s=2,ln(this)):mo(this,this.S-c)};function ln(c){c.j.G==0||c.J||fu(c.j,c)}function rn(c){Xs(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,je(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function un(c,p){try{var v=c.j;if(v.G!=0&&(v.g==c||ur(v.h,c))){if(!c.K&&ur(v.h,c)&&v.G==3){try{var A=v.Da.g.parse(p)}catch{A=null}if(Array.isArray(A)&&A.length==3){var z=A;if(z[0]==0){t:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)aa(v),ra(v);else break t;bo(v),ue(18)}}else v.za=z[1],0<v.za-v.T&&37500>z[2]&&v.F&&v.v==0&&!v.C&&(v.C=ir(I(v.Za,v),6e3));if(1>=nu(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Si(v,11)}else if((c.K||v.g==c)&&aa(v),!nt(p))for(z=v.Da.g.parse(p),p=0;p<z.length;p++){let Vt=z[p];if(v.T=Vt[0],Vt=Vt[1],v.G==2)if(Vt[0]=="c"){v.K=Vt[1],v.ia=Vt[2];const Ne=Vt[3];Ne!=null&&(v.la=Ne,v.j.info("VER="+v.la));const Ae=Vt[4];Ae!=null&&(v.Aa=Ae,v.j.info("SVER="+v.Aa));const Ai=Vt[5];Ai!=null&&typeof Ai=="number"&&0<Ai&&(A=1.5*Ai,v.L=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Pe=c.g;if(Pe){const Wn=Pe.g?Pe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wn){var q=A.h;q.g||Wn.indexOf("spdy")==-1&&Wn.indexOf("quic")==-1&&Wn.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(cr(q,q.h),q.h=null))}if(A.D){const Co=Pe.g?Pe.g.getResponseHeader("X-HTTP-Session-Id"):null;Co&&(A.ya=Co,Bt(A.I,A.D,Co))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),A=v;var et=c;if(A.qa=mu(A,A.J?A.ia:null,A.W),et.K){yn(A.h,et);var Mt=et,Se=A.L;Se&&(Mt.I=Se),Mt.B&&(Xs(Mt),Jt(Mt)),A.g=et}else cu(A);0<v.i.length&&sa(v)}else Vt[0]!="stop"&&Vt[0]!="close"||Si(v,7);else v.G==3&&(Vt[0]=="stop"||Vt[0]=="close"?Vt[0]=="stop"?Si(v,7):Ao(v):Vt[0]!="noop"&&v.l&&v.l.ta(Vt),v.v=0)}}nr(4)}catch{}}var ph=class{constructor(c,p){this.g=c,this.map=p}};function po(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function go(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function nu(c){return c.h?1:c.g?c.g.size:0}function ur(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function cr(c,p){c.g?c.g.add(p):c.h=p}function yn(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}po.prototype.cancel=function(){if(this.i=Ze(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ze(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const v of c.g.values())p=p.concat(v.D);return p}return X(c.i)}function iu(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(g(c)){for(var p=[],v=c.length,A=0;A<v;A++)p.push(c[A]);return p}p=[],v=0;for(A in c)p[v++]=c[A];return p}function gh(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(g(c)||typeof c=="string"){var p=[];c=c.length;for(var v=0;v<c;v++)p.push(v);return p}p=[],v=0;for(const A in c)p[v++]=A;return p}}}function ss(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(g(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var v=gh(c),A=iu(c),z=A.length,q=0;q<z;q++)p.call(void 0,A[q],v&&v[q],c)}var yo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zs(c,p){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var A=c[v].indexOf("="),z=null;if(0<=A){var q=c[v].substring(0,A);z=c[v].substring(A+1)}else q=c[v];p(q,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function yi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof yi){this.h=c.h,hr(this,c.j),this.o=c.o,this.g=c.g,as(this,c.s),this.l=c.l;var p=c.i,v=new Kn;v.i=p.i,p.g&&(v.g=new Map(p.g),v.h=p.h),Ws(this,v),this.m=c.m}else c&&(p=String(c).match(yo))?(this.h=!1,hr(this,p[1]||"",!0),this.o=fr(p[2]||""),this.g=fr(p[3]||"",!0),as(this,p[4]),this.l=fr(p[5]||"",!0),Ws(this,p[6]||"",!0),this.m=fr(p[7]||"")):(this.h=!1,this.i=new Kn(null,this.h))}yi.prototype.toString=function(){var c=[],p=this.j;p&&c.push(vn(p,vo,!0),":");var v=this.g;return(v||p=="file")&&(c.push("//"),(p=this.o)&&c.push(vn(p,vo,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(vn(v,v.charAt(0)=="/"?_o:ru,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",vn(v,_h)),c.join("")};function re(c){return new yi(c)}function hr(c,p,v){c.j=v?fr(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function as(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function Ws(c,p,v){p instanceof Kn?(c.i=p,Eo(c.i,c.h)):(v||(p=vn(p,vh)),c.i=new Kn(p,c.h))}function Bt(c,p,v){c.i.set(p,v)}function os(c){return Bt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function fr(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function vn(c,p,v){return typeof c=="string"?(c=encodeURI(c).replace(p,yh),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function yh(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var vo=/[#\/\?@]/g,ru=/[#\?:]/g,_o=/[#\?]/g,vh=/[#\?@]/g,_h=/#/g;function Kn(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function _n(c){c.g||(c.g=new Map,c.h=0,c.i&&Zs(c.i,function(p,v){c.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}r=Kn.prototype,r.add=function(c,p){_n(this),this.i=null,c=Ei(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(p),this.h+=1,this};function Js(c,p){_n(c),p=Ei(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function vi(c,p){return _n(c),p=Ei(c,p),c.g.has(p)}r.forEach=function(c,p){_n(this),this.g.forEach(function(v,A){v.forEach(function(z){c.call(p,z,A,this)},this)},this)},r.na=function(){_n(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),v=[];for(let A=0;A<p.length;A++){const z=c[A];for(let q=0;q<z.length;q++)v.push(p[A])}return v},r.V=function(c){_n(this);let p=[];if(typeof c=="string")vi(this,c)&&(p=p.concat(this.g.get(Ei(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)p=p.concat(c[v])}return p},r.set=function(c,p){return _n(this),this.i=null,c=Ei(this,c),vi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},r.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function _i(c,p,v){Js(c,p),0<v.length&&(c.i=null,c.g.set(Ei(c,p),X(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var v=0;v<p.length;v++){var A=p[v];const q=encodeURIComponent(String(A)),et=this.V(A);for(A=0;A<et.length;A++){var z=q;et[A]!==""&&(z+="="+encodeURIComponent(String(et[A]))),c.push(z)}}return this.i=c.join("&")};function Ei(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function Eo(c,p){p&&!c.j&&(_n(c),c.i=null,c.g.forEach(function(v,A){var z=A.toLowerCase();A!=z&&(Js(this,A),_i(this,z,v))},c)),c.j=p}function su(c,p){const v=new rr;if(m.Image){const A=new Image;A.onload=P(En,v,"TestLoadImage: loaded",!0,p,A),A.onerror=P(En,v,"TestLoadImage: error",!1,p,A),A.onabort=P(En,v,"TestLoadImage: abort",!1,p,A),A.ontimeout=P(En,v,"TestLoadImage: timeout",!1,p,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else p(!1)}function ls(c,p){const v=new rr,A=new AbortController,z=setTimeout(()=>{A.abort(),En(v,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:A.signal}).then(q=>{clearTimeout(z),q.ok?En(v,"TestPingServer: ok",!0,p):En(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(z),En(v,"TestPingServer: error",!1,p)})}function En(c,p,v,A,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),A(v)}catch{}}function us(){this.g=new Xe}function Qn(c,p,v){const A=v||"";try{ss(c,function(z,q){let et=z;y(z)&&(et=uo(z)),p.push(A+q+"="+encodeURIComponent(et))})}catch(z){throw p.push(A+"type="+encodeURIComponent("_badmap")),z}}function dr(c){this.l=c.Ub||null,this.j=c.eb||!1}U(dr,co),dr.prototype.g=function(){return new Ti(this.l,this.j)},dr.prototype.i=function(c){return function(){return c}}({});function Ti(c,p){Ee.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}U(Ti,Ee),r=Ti.prototype,r.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,$n(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||m).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Yn(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,$n(this)),this.g&&(this.readyState=3,$n(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;To(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function To(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?Yn(this):$n(this),this.readyState==3&&To(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,Yn(this))},r.Qa=function(c){this.g&&(this.response=c,Yn(this))},r.ga=function(){this.g&&Yn(this)};function Yn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,$n(c)}r.setRequestHeader=function(c,p){this.u.append(c,p)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=p.next();return c.join(`\r
`)};function $n(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ti.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function So(c){let p="";return St(c,function(v,A){p+=A,p+=":",p+=v,p+=`\r
`}),p}function Oe(c,p,v){t:{for(A in v){var A=!1;break t}A=!0}A||(v=So(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):Bt(c,p,v))}function Gt(c){Ee.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}U(Gt,Ee);var ta=/^https?$/i,cs=["POST","PUT"];r=Gt.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,p,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():is.g(),this.v=this.o?Zl(this.o):Zl(is),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(q){au(this,q);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var z in A)v.set(z,A[z]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const q of A.keys())v.set(q,A.get(q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),z=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(cs,p,void 0))||A||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,et]of v)this.g.setRequestHeader(q,et);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{hs(this),this.u=!0,this.g.send(c),this.u=!1}catch(q){au(this,q)}};function au(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,ea(c),Xn(c)}function ea(c){c.A||(c.A=!0,Ie(c,"complete"),Ie(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ie(this,"complete"),Ie(this,"abort"),Xn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xn(this,!0)),Gt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?na(this):this.bb())},r.bb=function(){na(this)};function na(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Tn(c)!=4||c.Z()!=2)){if(c.u&&Tn(c)==4)Xl(c.Ea,0,c);else if(Ie(c,"readystatechange"),Tn(c)==4){c.h=!1;try{const et=c.Z();t:switch(et){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break t;default:p=!1}var v;if(!(v=p)){var A;if(A=et===0){var z=String(c.D).match(yo)[1]||null;!z&&m.self&&m.self.location&&(z=m.self.location.protocol.slice(0,-1)),A=!ta.test(z?z.toLowerCase():"")}v=A}if(v)Ie(c,"complete"),Ie(c,"success");else{c.m=6;try{var q=2<Tn(c)?c.g.statusText:""}catch{q=""}c.l=q+" ["+c.Z()+"]",ea(c)}}finally{Xn(c)}}}}function Xn(c,p){if(c.g){hs(c);const v=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||Ie(c,"ready");try{v.onreadystatechange=A}catch{}}}function hs(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Tn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Tn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),jn(p)}};function ou(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Eh(c){const p={};c=(c.g&&2<=Tn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(nt(c[A]))continue;var v=k(c[A]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=p[z]||[];p[z]=q,q.push(v)}V(p,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function fs(c,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||p}function ia(c){this.Aa=0,this.i=[],this.j=new rr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=fs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=fs("baseRetryDelayMs",5e3,c),this.cb=fs("retryDelaySeedMs",1e4,c),this.Wa=fs("forwardChannelMaxRetries",2,c),this.wa=fs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new po(c&&c.concurrentRequestLimit),this.Da=new us,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=ia.prototype,r.la=8,r.G=1,r.connect=function(c,p,v,A){ue(0),this.W=c,this.H=p||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.I=mu(this,null,this.W),sa(this)};function Ao(c){if(lu(c),c.G==3){var p=c.U++,v=re(c.I);if(Bt(v,"SID",c.K),Bt(v,"RID",p),Bt(v,"TYPE","terminate"),ds(c,v),p=new Gn(c,c.j,p),p.L=2,p.v=os(re(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(p.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=p.v,v=!0),v||(p.g=pu(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Jt(p)}du(c)}function ra(c){c.g&&(ms(c),c.g.cancel(),c.g=null)}function lu(c){ra(c),c.u&&(m.clearTimeout(c.u),c.u=null),aa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function sa(c){if(!go(c.h)&&!c.s){c.s=!0;var p=c.Ga;_t||N(),dt||(_t(),dt=!0),Ft.add(p,c),c.B=0}}function Th(c,p){return nu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ir(I(c.Ga,c,p),Ro(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const z=new Gn(this,this.j,c);let q=this.o;if(this.S&&(q?(q=R(q),D(q,this.S)):q=this.S),this.m!==null||this.O||(z.H=q,q=null),this.P)t:{for(var p=0,v=0;v<this.i.length;v++){e:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(p+=A,4096<p){p=v;break t}if(p===4096||v===this.i.length-1){p=v+1;break t}}p=1e3}else p=1e3;p=uu(this,z,p),v=re(this.I),Bt(v,"RID",c),Bt(v,"CVER",22),this.D&&Bt(v,"X-HTTP-Session-Id",this.D),ds(this,v),q&&(this.O?p="headers="+encodeURIComponent(String(So(q)))+"&"+p:this.m&&Oe(v,this.m,q)),cr(this.h,z),this.Ua&&Bt(v,"TYPE","init"),this.P?(Bt(v,"$req",p),Bt(v,"SID","null"),z.T=!0,kn(z,v,null)):kn(z,v,p),this.G=2}}else this.G==3&&(c?wo(this,c):this.i.length==0||go(this.h)||wo(this))};function wo(c,p){var v;p?v=p.l:v=c.U++;const A=re(c.I);Bt(A,"SID",c.K),Bt(A,"RID",v),Bt(A,"AID",c.T),ds(c,A),c.m&&c.o&&Oe(A,c.m,c.o),v=new Gn(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),p&&(c.i=p.D.concat(c.i)),p=uu(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),cr(c.h,v),kn(v,A,p)}function ds(c,p){c.H&&St(c.H,function(v,A){Bt(p,A,v)}),c.l&&ss({},function(v,A){Bt(p,A,v)})}function uu(c,p,v){v=Math.min(c.i.length,v);var A=c.l?I(c.l.Na,c.l,c):null;t:{var z=c.i;let q=-1;for(;;){const et=["count="+v];q==-1?0<v?(q=z[0].g,et.push("ofs="+q)):q=0:et.push("ofs="+q);let Mt=!0;for(let Se=0;Se<v;Se++){let Vt=z[Se].g;const Ne=z[Se].map;if(Vt-=q,0>Vt)q=Math.max(0,z[Se].g-100),Mt=!1;else try{Qn(Ne,et,"req"+Vt+"_")}catch{A&&A(Ne)}}if(Mt){A=et.join("&");break t}}}return c=c.i.splice(0,v),p.D=c,A}function cu(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;_t||N(),dt||(_t(),dt=!0),Ft.add(p,c),c.v=0}}function bo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ir(I(c.Fa,c),Ro(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,hu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ir(I(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ue(10),ra(this),hu(this))};function ms(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function hu(c){c.g=new Gn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=re(c.qa);Bt(p,"RID","rpc"),Bt(p,"SID",c.K),Bt(p,"AID",c.T),Bt(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&Bt(p,"TO",c.ja),Bt(p,"TYPE","xmlhttp"),ds(c,p),c.m&&c.o&&Oe(p,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=os(re(p)),v.m=null,v.P=!0,gi(v,c)}r.Za=function(){this.C!=null&&(this.C=null,ra(this),bo(this),ue(19))};function aa(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function fu(c,p){var v=null;if(c.g==p){aa(c),ms(c),c.g=null;var A=2}else if(ur(c.h,p))v=p.D,yn(c.h,p),A=1;else return;if(c.G!=0){if(p.o)if(A==1){v=p.m?p.m.length:0,p=Date.now()-p.F;var z=c.B;A=Qs(),Ie(A,new Jl(A,v)),sa(c)}else cu(c);else if(z=p.s,z==3||z==0&&0<p.X||!(A==1&&Th(c,p)||A==2&&bo(c)))switch(v&&0<v.length&&(p=c.h,p.i=p.i.concat(v)),z){case 1:Si(c,5);break;case 4:Si(c,10);break;case 3:Si(c,6);break;default:Si(c,2)}}}function Ro(c,p){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*p}function Si(c,p){if(c.j.info("Error code "+p),p==2){var v=I(c.fb,c),A=c.Xa;const z=!A;A=new yi(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||hr(A,"https"),os(A),z?su(A.toString(),v):ls(A.toString(),v)}else ue(2);c.G=0,c.l&&c.l.sa(p),du(c),lu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ue(2)):(this.j.info("Failed to ping google.com"),ue(1))};function du(c){if(c.G=0,c.ka=[],c.l){const p=Ze(c.h);(p.length!=0||c.i.length!=0)&&(F(c.ka,p),F(c.ka,c.i),c.h.i.length=0,X(c.i),c.i.length=0),c.l.ra()}}function mu(c,p,v){var A=v instanceof yi?re(v):new yi(v);if(A.g!="")p&&(A.g=p+"."+A.g),as(A,A.s);else{var z=m.location;A=z.protocol,p=p?p+"."+z.hostname:z.hostname,z=+z.port;var q=new yi(null);A&&hr(q,A),p&&(q.g=p),z&&as(q,z),v&&(q.l=v),A=q}return v=c.D,p=c.ya,v&&p&&Bt(A,v,p),Bt(A,"VER",c.la),ds(c,A),A}function pu(c,p,v){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new Gt(new dr({eb:v})):new Gt(c.pa),p.Ha(c.J),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function gu(){}r=gu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function oa(){}oa.prototype.g=function(c,p){return new We(c,p)};function We(c,p){Ee.call(this),this.g=new ia(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!nt(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!nt(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new Zn(this)}U(We,Ee),We.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},We.prototype.close=function(){Ao(this.g)},We.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=uo(c),c=v);p.i.push(new ph(p.Ya++,c)),p.G==3&&sa(p)},We.prototype.N=function(){this.g.l=null,delete this.j,Ao(this.g),delete this.g,We.aa.N.call(this)};function yu(c){tr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){t:{for(const v in p){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}U(yu,tr);function vu(){Vn.call(this),this.status=1}U(vu,Vn);function Zn(c){this.g=c}U(Zn,gu),Zn.prototype.ua=function(){Ie(this.g,"a")},Zn.prototype.ta=function(c){Ie(this.g,new yu(c))},Zn.prototype.sa=function(c){Ie(this.g,new vu)},Zn.prototype.ra=function(){Ie(this.g,"b")},oa.prototype.createWebChannel=oa.prototype.g,We.prototype.send=We.prototype.o,We.prototype.open=We.prototype.m,We.prototype.close=We.prototype.close,wE=function(){return new oa},AE=function(){return Qs()},SE=gn,qd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Te.NO_ERROR=0,Te.TIMEOUT=8,Te.HTTP_ERROR=6,Rc=Te,pi.COMPLETE="complete",TE=pi,Wl.EventType=qn,qn.OPEN="a",qn.CLOSE="b",qn.ERROR="c",qn.MESSAGE="d",Ee.prototype.listen=Ee.prototype.K,_l=Wl,Gt.prototype.listenOnce=Gt.prototype.L,Gt.prototype.getLastError=Gt.prototype.Ka,Gt.prototype.getLastErrorCode=Gt.prototype.Ba,Gt.prototype.getStatus=Gt.prototype.Z,Gt.prototype.getResponseJson=Gt.prototype.Oa,Gt.prototype.getResponseText=Gt.prototype.oa,Gt.prototype.send=Gt.prototype.ea,Gt.prototype.setWithCredentials=Gt.prototype.Ha,EE=Gt}).apply(typeof yc<"u"?yc:typeof self<"u"?self:typeof window<"u"?window:{});const Dv="@firebase/firestore",Ov="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ke.UNAUTHENTICATED=new Ke(null),Ke.GOOGLE_CREDENTIALS=new Ke("google-credentials-uid"),Ke.FIRST_PARTY=new Ke("first-party-uid"),Ke.MOCK_USER=new Ke("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let no="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs=new Em("@firebase/firestore");function ka(){return zs.logLevel}function ot(r,...t){if(zs.logLevel<=Ot.DEBUG){const n=t.map(Am);zs.debug(`Firestore (${no}): ${r}`,...n)}}function Qi(r,...t){if(zs.logLevel<=Ot.ERROR){const n=t.map(Am);zs.error(`Firestore (${no}): ${r}`,...n)}}function Ga(r,...t){if(zs.logLevel<=Ot.WARN){const n=t.map(Am);zs.warn(`Firestore (${no}): ${r}`,...n)}}function Am(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(r="Unexpected state"){const t=`FIRESTORE (${no}) INTERNAL ASSERTION FAILED: `+r;throw Qi(t),new Error(t)}function ne(r,t){r||bt()}function xt(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const it={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class gt extends $i{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Xb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Ke.UNAUTHENTICATED))}shutdown(){}}class Zb{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Wb{constructor(t){this.t=t,this.currentUser=Ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){ne(this.o===void 0);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new Ls;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ls,t.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const g=u;t.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},m=g=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ls)}},0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ne(typeof s.accessToken=="string"),new bE(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ne(t===null||typeof t=="string"),new Ke(t)}}class Jb{constructor(t,n,s){this.l=t,this.h=n,this.P=s,this.type="FirstParty",this.user=Ke.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class tR{constructor(t,n,s){this.l=t,this.h=n,this.P=s}getToken(){return Promise.resolve(new Jb(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Ke.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Nv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eR{constructor(t,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Mn(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,n){ne(this.o===void 0);const s=u=>{u.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,ot("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>s(u))};const o=u=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Nv(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(ne(typeof n.token=="string"),this.R=n.token,new Nv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=nR(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function Pt(r,t){return r<t?-1:r>t?1:0}function Ka(r,t,n){return r.length===t.length&&r.every((s,o)=>n(s,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv=-62135596800,Vv=1e6;class on{static now(){return on.fromMillis(Date.now())}static fromDate(t){return on.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*Vv);return new on(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new gt(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new gt(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Mv)throw new gt(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new gt(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Vv}_compareTo(t){return this.seconds===t.seconds?Pt(this.nanoseconds,t.nanoseconds):Pt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-Mv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{static fromTimestamp(t){return new Tt(t)}static min(){return new Tt(new on(0,0))}static max(){return new Tt(new on(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv="__name__";class ri{constructor(t,n,s){n===void 0?n=0:n>t.length&&bt(),s===void 0?s=t.length-n:s>t.length-n&&bt(),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return ri.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof ri?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=ri.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return Math.sign(t.length-n.length)}static compareSegments(t,n){const s=ri.isNumericId(t),o=ri.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?ri.extractNumericId(t).compare(ri.extractNumericId(n)):t<n?-1:t>n?1:0}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Gr.fromString(t.substring(4,t.length-2))}}class le extends ri{construct(t,n,s){return new le(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new gt(it.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new le(n)}static emptyPath(){return new le([])}}const iR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends ri{construct(t,n,s){return new en(t,n,s)}static isValidIdentifier(t){return iR.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===kv}static keyField(){return new en([kv])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new gt(it.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new gt(it.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new gt(it.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new gt(it.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new en(n)}static emptyPath(){return new en([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(t){this.path=t}static fromPath(t){return new yt(le.fromString(t))}static fromName(t){return new yt(le.fromString(t).popFirst(5))}static empty(){return new yt(le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&le.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return le.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new le(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dl=-1;function rR(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Tt.fromTimestamp(s===1e9?new on(n+1,0):new on(n,s));return new Kr(o,yt.empty(),t)}function sR(r){return new Kr(r.readTime,r.key,Dl)}class Kr{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Kr(Tt.min(),yt.empty(),Dl)}static max(){return new Kr(Tt.max(),yt.empty(),Dl)}}function aR(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=yt.comparator(r.documentKey,t.documentKey),n!==0?n:Pt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jc(r){if(r.code!==it.FAILED_PRECONDITION||r.message!==oR)throw r;ot("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&bt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new Z((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof Z?n:Z.resolve(n)}catch(n){return Z.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):Z.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):Z.reject(n)}static resolve(t){return new Z((n,s)=>{n(t)})}static reject(t){return new Z((n,s)=>{s(t)})}static waitFor(t){return new Z((n,s)=>{let o=0,u=0,f=!1;t.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},g=>s(g))}),f=!0,u===o&&n()})}static or(t){let n=Z.resolve(!1);for(const s of t)n=n.next(o=>o?Z.resolve(o):s());return n}static forEach(t,n){const s=[];return t.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(t,n){return new Z((s,o)=>{const u=t.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const y=g;n(t[y]).next(T=>{f[y]=T,++m,m===u&&s(f)},T=>o(T))}})}static doWhile(t,n){return new Z((s,o)=>{const u=()=>{t()===!0?n().next(()=>{u()},o):s()};u()})}}function uR(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function io(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}th.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR=-1;function eh(r){return r==null}function Fd(r){return r===0&&1/r==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE="";function hR(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=Lv(t)),t=fR(r.get(n),t);return Lv(t)}function fR(r,t){let n=t;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case CE:n+="";break;default:n+=u}}return n}function Lv(r){return r+CE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pv(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function Hl(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function dR(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(t,n){this.comparator=t,this.root=n||Be.EMPTY}insert(t,n){return new fe(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Be.BLACK,null,null))}remove(t){return new fe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Be.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new vc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new vc(this.root,t,this.comparator,!1)}getReverseIterator(){return new vc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new vc(this.root,t,this.comparator,!0)}}class vc{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Be{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??Be.RED,this.left=o??Be.EMPTY,this.right=u??Be.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new Be(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Be.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return Be.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Be.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Be.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw bt();const t=this.left.check();if(t!==this.right.check())throw bt();return t+(this.isRed()?0:1)}}Be.EMPTY=null,Be.RED=!0,Be.BLACK=!1;Be.EMPTY=new class{constructor(){this.size=0}get key(){throw bt()}get value(){throw bt()}get color(){throw bt()}get left(){throw bt()}get right(){throw bt()}copy(t,n,s,o,u){return this}insert(t,n,s){return new Be(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(t){this.comparator=t,this.data=new fe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new xv(this.data.getIterator())}getIteratorFrom(t){return new xv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof Ce)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Ce(this.comparator);return n.data=t,n}}class xv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(t){this.fields=t,t.sort(en.comparator)}static empty(){return new Br([])}unionWith(t){let n=new Ce(en.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Br(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Ka(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new IE("Invalid base64 string: "+u):u}}(t);return new He(n)}static fromUint8Array(t){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(t);return new He(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Pt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}He.EMPTY_BYTE_STRING=new He("");const mR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qr(r){if(ne(!!r),typeof r=="string"){let t=0;const n=mR.exec(r);if(ne(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:he(r.seconds),nanos:he(r.nanos)}}function he(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Yr(r){return typeof r=="string"?He.fromBase64String(r):He.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE="server_timestamp",OE="__type__",NE="__previous_value__",ME="__local_write_time__";function wm(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[OE])===null||n===void 0?void 0:n.stringValue)===DE}function nh(r){const t=r.mapValue.fields[NE];return wm(t)?nh(t):t}function Ol(r){const t=Qr(r.mapValue.fields[ME].timestampValue);return new on(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(t,n,s,o,u,f,m,g,y){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y}}const xc="(default)";class Nl{constructor(t,n){this.projectId=t,this.database=n||xc}static empty(){return new Nl("","")}get isDefaultDatabase(){return this.database===xc}isEqual(t){return t instanceof Nl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR="__type__",yR="__max__",_c={mapValue:{}},vR="__vector__",Gd="value";function $r(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?wm(r)?4:ER(r)?9007199254740991:_R(r)?10:11:bt()}function ui(r,t){if(r===t)return!0;const n=$r(r);if(n!==$r(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Ol(r).isEqual(Ol(t));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Qr(o.timestampValue),m=Qr(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(o,u){return Yr(o.bytesValue).isEqual(Yr(u.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(o,u){return he(o.geoPointValue.latitude)===he(u.geoPointValue.latitude)&&he(o.geoPointValue.longitude)===he(u.geoPointValue.longitude)}(r,t);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return he(o.integerValue)===he(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=he(o.doubleValue),m=he(u.doubleValue);return f===m?Fd(f)===Fd(m):isNaN(f)&&isNaN(m)}return!1}(r,t);case 9:return Ka(r.arrayValue.values||[],t.arrayValue.values||[],ui);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(Pv(f)!==Pv(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!ui(f[g],m[g])))return!1;return!0}(r,t);default:return bt()}}function Ml(r,t){return(r.values||[]).find(n=>ui(n,t))!==void 0}function Qa(r,t){if(r===t)return 0;const n=$r(r),s=$r(t);if(n!==s)return Pt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pt(r.booleanValue,t.booleanValue);case 2:return function(u,f){const m=he(u.integerValue||u.doubleValue),g=he(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(r,t);case 3:return Uv(r.timestampValue,t.timestampValue);case 4:return Uv(Ol(r),Ol(t));case 5:return Pt(r.stringValue,t.stringValue);case 6:return function(u,f){const m=Yr(u),g=Yr(f);return m.compareTo(g)}(r.bytesValue,t.bytesValue);case 7:return function(u,f){const m=u.split("/"),g=f.split("/");for(let y=0;y<m.length&&y<g.length;y++){const T=Pt(m[y],g[y]);if(T!==0)return T}return Pt(m.length,g.length)}(r.referenceValue,t.referenceValue);case 8:return function(u,f){const m=Pt(he(u.latitude),he(f.latitude));return m!==0?m:Pt(he(u.longitude),he(f.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return zv(r.arrayValue,t.arrayValue);case 10:return function(u,f){var m,g,y,T;const b=u.fields||{},I=f.fields||{},P=(m=b[Gd])===null||m===void 0?void 0:m.arrayValue,U=(g=I[Gd])===null||g===void 0?void 0:g.arrayValue,X=Pt(((y=P==null?void 0:P.values)===null||y===void 0?void 0:y.length)||0,((T=U==null?void 0:U.values)===null||T===void 0?void 0:T.length)||0);return X!==0?X:zv(P,U)}(r.mapValue,t.mapValue);case 11:return function(u,f){if(u===_c.mapValue&&f===_c.mapValue)return 0;if(u===_c.mapValue)return 1;if(f===_c.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),y=f.fields||{},T=Object.keys(y);g.sort(),T.sort();for(let b=0;b<g.length&&b<T.length;++b){const I=Pt(g[b],T[b]);if(I!==0)return I;const P=Qa(m[g[b]],y[T[b]]);if(P!==0)return P}return Pt(g.length,T.length)}(r.mapValue,t.mapValue);default:throw bt()}}function Uv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Pt(r,t);const n=Qr(r),s=Qr(t),o=Pt(n.seconds,s.seconds);return o!==0?o:Pt(n.nanos,s.nanos)}function zv(r,t){const n=r.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Qa(n[o],s[o]);if(u)return u}return Pt(n.length,s.length)}function Ya(r){return Kd(r)}function Kd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=Qr(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Yr(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return yt.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Kd(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Kd(n.fields[f])}`;return o+"}"}(r.mapValue):bt()}function Cc(r){switch($r(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=nh(r);return t?16+Cc(t):16;case 5:return 2*r.stringValue.length;case 6:return Yr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Cc(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Hl(s.fields,(u,f)=>{o+=u.length+Cc(f)}),o}(r.mapValue);default:throw bt()}}function Qd(r){return!!r&&"integerValue"in r}function bm(r){return!!r&&"arrayValue"in r}function Bv(r){return!!r&&"nullValue"in r}function Hv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Rd(r){return!!r&&"mapValue"in r}function _R(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[gR])===null||n===void 0?void 0:n.stringValue)===vR}function Sl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return Hl(r.mapValue.fields,(n,s)=>t.mapValue.fields[n]=Sl(s)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Sl(r.arrayValue.values[n]);return t}return Object.assign({},r)}function ER(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===yR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(t){this.value=t}static empty(){return new si({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Rd(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Sl(n)}setAll(t){let n=en.emptyPath(),s={},o=[];t.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Sl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());Rd(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return ui(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];Rd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){Hl(n,(o,u)=>t[o]=u);for(const o of s)delete t[o]}clone(){return new si(Sl(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(t,n,s,o,u,f,m){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new Qe(t,0,Tt.min(),Tt.min(),Tt.min(),si.empty(),0)}static newFoundDocument(t,n,s,o){return new Qe(t,1,n,Tt.min(),s,o,0)}static newNoDocument(t,n){return new Qe(t,2,n,Tt.min(),Tt.min(),si.empty(),0)}static newUnknownDocument(t,n){return new Qe(t,3,n,Tt.min(),Tt.min(),si.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=si.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=si.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Qe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Qe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(t,n){this.position=t,this.inclusive=n}}function jv(r,t,n){let s=0;for(let o=0;o<r.position.length;o++){const u=t[o],f=r.position[o];if(u.field.isKeyField()?s=yt.comparator(yt.fromName(f.referenceValue),n.key):s=Qa(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function qv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!ui(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(t,n="asc"){this.field=t,this.dir=n}}function TR(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{}class Re extends VE{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new AR(t,n,s):n==="array-contains"?new RR(t,s):n==="in"?new CR(t,s):n==="not-in"?new IR(t,s):n==="array-contains-any"?new DR(t,s):new Re(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new wR(t,s):new bR(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Qa(n,this.value)):n!==null&&$r(this.value)===$r(n)&&this.matchesComparison(Qa(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return bt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ci extends VE{constructor(t,n){super(),this.filters=t,this.op=n,this.ce=null}static create(t,n){return new ci(t,n)}matches(t){return kE(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function kE(r){return r.op==="and"}function LE(r){return SR(r)&&kE(r)}function SR(r){for(const t of r.filters)if(t instanceof ci)return!1;return!0}function Yd(r){if(r instanceof Re)return r.field.canonicalString()+r.op.toString()+Ya(r.value);if(LE(r))return r.filters.map(t=>Yd(t)).join(",");{const t=r.filters.map(n=>Yd(n)).join(",");return`${r.op}(${t})`}}function PE(r,t){return r instanceof Re?function(s,o){return o instanceof Re&&s.op===o.op&&s.field.isEqual(o.field)&&ui(s.value,o.value)}(r,t):r instanceof ci?function(s,o){return o instanceof ci&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&PE(f,o.filters[m]),!0):!1}(r,t):void bt()}function xE(r){return r instanceof Re?function(n){return`${n.field.canonicalString()} ${n.op} ${Ya(n.value)}`}(r):r instanceof ci?function(n){return n.op.toString()+" {"+n.getFilters().map(xE).join(" ,")+"}"}(r):"Filter"}class AR extends Re{constructor(t,n,s){super(t,n,s),this.key=yt.fromName(s.referenceValue)}matches(t){const n=yt.comparator(t.key,this.key);return this.matchesComparison(n)}}class wR extends Re{constructor(t,n){super(t,"in",n),this.keys=UE("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class bR extends Re{constructor(t,n){super(t,"not-in",n),this.keys=UE("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function UE(r,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>yt.fromName(s.referenceValue))}class RR extends Re{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return bm(n)&&Ml(n.arrayValue,this.value)}}class CR extends Re{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Ml(this.value.arrayValue,n)}}class IR extends Re{constructor(t,n){super(t,"not-in",n)}matches(t){if(Ml(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Ml(this.value.arrayValue,n)}}class DR extends Re{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!bm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Ml(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(t,n=null,s=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.le=null}}function Fv(r,t=null,n=[],s=[],o=null,u=null,f=null){return new OR(r,t,n,s,o,u,f)}function Rm(r){const t=xt(r);if(t.le===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>Yd(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),eh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>Ya(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>Ya(s)).join(",")),t.le=n}return t.le}function Cm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!TR(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!PE(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!qv(r.startAt,t.startAt)&&qv(r.endAt,t.endAt)}function $d(r){return yt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(t,n=null,s=[],o=[],u=null,f="F",m=null,g=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function NR(r,t,n,s,o,u,f,m){return new ih(r,t,n,s,o,u,f,m)}function Im(r){return new ih(r)}function Gv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function MR(r){return r.collectionGroup!==null}function Al(r){const t=xt(r);if(t.he===null){t.he=[];const n=new Set;for(const u of t.explicitOrderBy)t.he.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ce(en.comparator);return f.filters.forEach(g=>{g.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(t).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||t.he.push(new zc(u,s))}),n.has(en.keyField().canonicalString())||t.he.push(new zc(en.keyField(),s))}return t.he}function ai(r){const t=xt(r);return t.Pe||(t.Pe=VR(t,Al(r))),t.Pe}function VR(r,t){if(r.limitType==="F")return Fv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new zc(o.field,u)});const n=r.endAt?new Uc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Uc(r.startAt.position,r.startAt.inclusive):null;return Fv(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function Xd(r,t,n){return new ih(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function rh(r,t){return Cm(ai(r),ai(t))&&r.limitType===t.limitType}function zE(r){return`${Rm(ai(r))}|lt:${r.limitType}`}function La(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>xE(o)).join(", ")}]`),eh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>Ya(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>Ya(o)).join(",")),`Target(${s})`}(ai(r))}; limitType=${r.limitType})`}function sh(r,t){return t.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):yt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,t)&&function(s,o){for(const u of Al(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,t)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,t)&&function(s,o){return!(s.startAt&&!function(f,m,g){const y=jv(f,m,g);return f.inclusive?y<=0:y<0}(s.startAt,Al(s),o)||s.endAt&&!function(f,m,g){const y=jv(f,m,g);return f.inclusive?y>=0:y>0}(s.endAt,Al(s),o))}(r,t)}function kR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function BE(r){return(t,n)=>{let s=!1;for(const o of Al(r)){const u=LR(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function LR(r,t,n){const s=r.field.isKeyField()?yt.comparator(t.key,n.key):function(u,f,m){const g=f.data.field(u),y=m.data.field(u);return g!==null&&y!==null?Qa(g,y):bt()}(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return bt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Hl(this.inner,(n,s)=>{for(const[o,u]of s)t(o,u)})}isEmpty(){return dR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR=new fe(yt.comparator);function Xr(){return PR}const HE=new fe(yt.comparator);function El(...r){let t=HE;for(const n of r)t=t.insert(n.key,n);return t}function xR(r){let t=HE;return r.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function ks(){return wl()}function jE(){return wl()}function wl(){return new js(r=>r.toString(),(r,t)=>r.isEqual(t))}const UR=new Ce(yt.comparator);function Ut(...r){let t=UR;for(const n of r)t=t.add(n);return t}const zR=new Ce(Pt);function BR(){return zR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fd(t)?"-0":t}}function jR(r){return{integerValue:""+r}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(){this._=void 0}}function qR(r,t,n){return r instanceof Zd?function(o,u){const f={fields:{[OE]:{stringValue:DE},[ME]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&wm(u)&&(u=nh(u)),u&&(f.fields[NE]=u),{mapValue:f}}(n,t):r instanceof Bc?qE(r,t):r instanceof Hc?FE(r,t):function(o,u){const f=GR(o,u),m=Kv(f)+Kv(o.Ie);return Qd(f)&&Qd(o.Ie)?jR(m):HR(o.serializer,m)}(r,t)}function FR(r,t,n){return r instanceof Bc?qE(r,t):r instanceof Hc?FE(r,t):n}function GR(r,t){return r instanceof Wd?function(s){return Qd(s)||function(u){return!!u&&"doubleValue"in u}(s)}(t)?t:{integerValue:0}:null}class Zd extends ah{}class Bc extends ah{constructor(t){super(),this.elements=t}}function qE(r,t){const n=GE(t);for(const s of r.elements)n.some(o=>ui(o,s))||n.push(s);return{arrayValue:{values:n}}}class Hc extends ah{constructor(t){super(),this.elements=t}}function FE(r,t){let n=GE(t);for(const s of r.elements)n=n.filter(o=>!ui(o,s));return{arrayValue:{values:n}}}class Wd extends ah{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function Kv(r){return he(r.integerValue||r.doubleValue)}function GE(r){return bm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function KR(r,t){return r.field.isEqual(t.field)&&function(s,o){return s instanceof Bc&&o instanceof Bc||s instanceof Hc&&o instanceof Hc?Ka(s.elements,o.elements,ui):s instanceof Wd&&o instanceof Wd?ui(s.Ie,o.Ie):s instanceof Zd&&o instanceof Zd}(r.transform,t.transform)}class Ps{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Ps}static exists(t){return new Ps(void 0,t)}static updateTime(t){return new Ps(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ic(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Dm{}function KE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new YR(r.key,Ps.none()):new Om(r.key,r.data,Ps.none());{const n=r.data,s=si.empty();let o=new Ce(en.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new oh(r.key,s,new Br(o.toArray()),Ps.none())}}function QR(r,t,n){r instanceof Om?function(o,u,f){const m=o.value.clone(),g=Yv(o.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,t,n):r instanceof oh?function(o,u,f){if(!Ic(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=Yv(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(QE(o)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()}(r,t,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,n)}function bl(r,t,n,s){return r instanceof Om?function(u,f,m,g){if(!Ic(u.precondition,f))return m;const y=u.value.clone(),T=$v(u.fieldTransforms,g,f);return y.setAll(T),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(r,t,n,s):r instanceof oh?function(u,f,m,g){if(!Ic(u.precondition,f))return m;const y=$v(u.fieldTransforms,g,f),T=f.data;return T.setAll(QE(u)),T.setAll(y),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(b=>b.field))}(r,t,n,s):function(u,f,m){return Ic(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,t,n)}function Qv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ka(s,o,(u,f)=>KR(u,f))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Om extends Dm{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class oh extends Dm{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function QE(r){const t=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}}),t}function Yv(r,t,n){const s=new Map;ne(r.length===n.length);for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=t.data.field(u.field);s.set(u.field,FR(f,m,n[o]))}return s}function $v(r,t,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,qR(u,f,t))}return s}class YR extends Dm{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&QR(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=bl(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=bl(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=jE();return this.mutations.forEach(o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const g=KE(f,m);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(Tt.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Ut())}isEqual(t){return this.batchId===t.batchId&&Ka(this.mutations,t.mutations,(n,s)=>Qv(n,s))&&Ka(this.baseMutations,t.baseMutations,(n,s)=>Qv(n,s))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ve,Lt;function YE(r){if(r===void 0)return Qi("GRPC error has no .code"),it.UNKNOWN;switch(r){case ve.OK:return it.OK;case ve.CANCELLED:return it.CANCELLED;case ve.UNKNOWN:return it.UNKNOWN;case ve.DEADLINE_EXCEEDED:return it.DEADLINE_EXCEEDED;case ve.RESOURCE_EXHAUSTED:return it.RESOURCE_EXHAUSTED;case ve.INTERNAL:return it.INTERNAL;case ve.UNAVAILABLE:return it.UNAVAILABLE;case ve.UNAUTHENTICATED:return it.UNAUTHENTICATED;case ve.INVALID_ARGUMENT:return it.INVALID_ARGUMENT;case ve.NOT_FOUND:return it.NOT_FOUND;case ve.ALREADY_EXISTS:return it.ALREADY_EXISTS;case ve.PERMISSION_DENIED:return it.PERMISSION_DENIED;case ve.FAILED_PRECONDITION:return it.FAILED_PRECONDITION;case ve.ABORTED:return it.ABORTED;case ve.OUT_OF_RANGE:return it.OUT_OF_RANGE;case ve.UNIMPLEMENTED:return it.UNIMPLEMENTED;case ve.DATA_LOSS:return it.DATA_LOSS;default:return bt()}}(Lt=ve||(ve={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR=new Gr([4294967295,4294967295],0);function Xv(r){const t=WR().encode(r),n=new _E;return n.update(t),new Uint8Array(n.digest())}function Zv(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Gr([n,s],0),new Gr([o,u],0)]}class Nm{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Tl(`Invalid padding: ${n}`);if(s<0)throw new Tl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Tl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Tl(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*t.length-n,this.de=Gr.fromNumber(this.Ee)}Ae(t,n,s){let o=t.add(n.multiply(Gr.fromNumber(s)));return o.compare(JR)===1&&(o=new Gr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const n=Xv(t),[s,o]=Zv(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);if(!this.Re(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new Nm(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(t){if(this.Ee===0)return;const n=Xv(t),[s,o]=Zv(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);this.Ve(f)}}Ve(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Tl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,jl.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new lh(Tt.min(),o,new fe(Pt),Xr(),Ut())}}class jl{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new jl(s,n,Ut(),Ut(),Ut())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(t,n,s,o){this.me=t,this.removedTargetIds=n,this.key=s,this.fe=o}}class $E{constructor(t,n){this.targetId=t,this.ge=n}}class XE{constructor(t,n,s=He.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class Wv{constructor(){this.pe=0,this.ye=Jv(),this.we=He.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.we=t)}Fe(){let t=Ut(),n=Ut(),s=Ut();return this.ye.forEach((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:bt()}}),new jl(this.we,this.be,t,n,s)}Me(){this.Se=!1,this.ye=Jv()}xe(t,n){this.Se=!0,this.ye=this.ye.insert(t,n)}Oe(t){this.Se=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,ne(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class t1{constructor(t){this.ke=t,this.qe=new Map,this.Qe=Xr(),this.$e=Ec(),this.Ke=Ec(),this.Ue=new fe(Pt)}We(t){for(const n of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(n,t.fe):this.ze(n,t.key,t.fe);for(const n of t.removedTargetIds)this.ze(n,t.key,t.fe)}je(t){this.forEachTarget(t,n=>{const s=this.He(n);switch(t.state){case 0:this.Je(n)&&s.Ce(t.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(t.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(t.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(t.resumeToken));break;default:bt()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.qe.forEach((s,o)=>{this.Je(o)&&n(o)})}Ze(t){const n=t.targetId,s=t.ge.count,o=this.Xe(n);if(o){const u=o.target;if($d(u))if(s===0){const f=new yt(u.path);this.ze(n,f,Qe.newNoDocument(f,Tt.min()))}else ne(s===1);else{const f=this.et(n);if(f!==s){const m=this.tt(t),g=m?this.nt(m,t,f):1;if(g!==0){this.Ye(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,y)}}}}}tt(t){const n=t.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Yr(s).toUint8Array()}catch(g){if(g instanceof IE)return Ga("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new Nm(f,o,u)}catch(g){return Ga(g instanceof Tl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.Ee===0?null:m}nt(t,n,s){return n.ge.count===s-this.st(t,n.targetId)?0:2}st(t,n){const s=this.ke.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ke.it(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.ze(n,u,null),o++)}),o}ot(t){const n=new Map;this.qe.forEach((u,f)=>{const m=this.Xe(f);if(m){if(u.current&&$d(m.target)){const g=new yt(m.target.path);this._t(g).has(f)||this.ut(f,g)||this.ze(f,g,Qe.newNoDocument(g,t))}u.ve&&(n.set(f,u.Fe()),u.Me())}});let s=Ut();this.Ke.forEach((u,f)=>{let m=!0;f.forEachWhile(g=>{const y=this.Xe(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(t));const o=new lh(t,n,this.Ue,this.Qe,s);return this.Qe=Xr(),this.$e=Ec(),this.Ke=Ec(),this.Ue=new fe(Pt),o}Ge(t,n){if(!this.Je(t))return;const s=this.ut(t,n.key)?2:0;this.He(t).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(t)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(t))}ze(t,n,s){if(!this.Je(t))return;const o=this.He(t);this.ut(t,n)?o.xe(n,1):o.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(t)),this.Ke=this.Ke.insert(n,this.ct(n).add(t)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(t){this.qe.delete(t)}et(t){const n=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let n=this.qe.get(t);return n||(n=new Wv,this.qe.set(t,n)),n}ct(t){let n=this.Ke.get(t);return n||(n=new Ce(Pt),this.Ke=this.Ke.insert(t,n)),n}_t(t){let n=this.$e.get(t);return n||(n=new Ce(Pt),this.$e=this.$e.insert(t,n)),n}Je(t){const n=this.Xe(t)!==null;return n||ot("WatchChangeAggregator","Detected inactive target",t),n}Xe(t){const n=this.qe.get(t);return n&&n.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new Wv),this.ke.getRemoteKeysForTarget(t).forEach(n=>{this.ze(t,n,null)})}ut(t,n){return this.ke.getRemoteKeysForTarget(t).has(n)}}function Ec(){return new fe(yt.comparator)}function Jv(){return new fe(yt.comparator)}const e1={asc:"ASCENDING",desc:"DESCENDING"},n1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},i1={and:"AND",or:"OR"};class r1{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Jd(r,t){return r.useProto3Json||eh(t)?t:{value:t}}function s1(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function a1(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function za(r){return ne(!!r),Tt.fromTimestamp(function(n){const s=Qr(n);return new on(s.seconds,s.nanos)}(r))}function o1(r,t){return tm(r,t).canonicalString()}function tm(r,t){const n=function(o){return new le(["projects",o.projectId,"databases",o.database])}(r).child("documents");return t===void 0?n:n.child(t)}function ZE(r){const t=le.fromString(r);return ne(n0(t)),t}function Cd(r,t){const n=ZE(t);if(n.get(1)!==r.databaseId.projectId)throw new gt(it.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new gt(it.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new yt(JE(n))}function WE(r,t){return o1(r.databaseId,t)}function l1(r){const t=ZE(r);return t.length===4?le.emptyPath():JE(t)}function t_(r){return new le(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function JE(r){return ne(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function u1(r,t){let n;if("targetChange"in t){t.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:bt()}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=function(y,T){return y.useProto3Json?(ne(T===void 0||typeof T=="string"),He.fromBase64String(T||"")):(ne(T===void 0||T instanceof Buffer||T instanceof Uint8Array),He.fromUint8Array(T||new Uint8Array))}(r,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&function(y){const T=y.code===void 0?it.UNKNOWN:YE(y.code);return new gt(T,y.message||"")}(f);n=new XE(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=Cd(r,s.document.name),u=za(s.document.updateTime),f=s.document.createTime?za(s.document.createTime):Tt.min(),m=new si({mapValue:{fields:s.document.fields}}),g=Qe.newFoundDocument(o,u,f,m),y=s.targetIds||[],T=s.removedTargetIds||[];n=new Dc(y,T,g.key,g)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=Cd(r,s.document),u=s.readTime?za(s.readTime):Tt.min(),f=Qe.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Dc([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=Cd(r,s.document),u=s.removedTargetIds||[];n=new Dc([],u,o,null)}else{if(!("filter"in t))return bt();{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new ZR(o,u),m=s.targetId;n=new $E(m,f)}}return n}function c1(r,t){return{documents:[WE(r,t.path)]}}function h1(r,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=WE(r,o);const u=function(y){if(y.length!==0)return e0(ci.create(y,"and"))}(t.filters);u&&(n.structuredQuery.where=u);const f=function(y){if(y.length!==0)return y.map(T=>function(I){return{field:Pa(I.field),direction:m1(I.dir)}}(T))}(t.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Jd(r,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(t.endAt)),{ht:n,parent:o}}function f1(r){let t=l1(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){ne(s===1);const T=n.from[0];T.allDescendants?o=T.collectionId:t=t.child(T.collectionId)}let u=[];n.where&&(u=function(b){const I=t0(b);return I instanceof ci&&LE(I)?I.getFilters():[I]}(n.where));let f=[];n.orderBy&&(f=function(b){return b.map(I=>function(U){return new zc(xa(U.field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(U.direction))}(I))}(n.orderBy));let m=null;n.limit&&(m=function(b){let I;return I=typeof b=="object"?b.value:b,eh(I)?null:I}(n.limit));let g=null;n.startAt&&(g=function(b){const I=!!b.before,P=b.values||[];return new Uc(P,I)}(n.startAt));let y=null;return n.endAt&&(y=function(b){const I=!b.before,P=b.values||[];return new Uc(P,I)}(n.endAt)),NR(t,o,f,u,m,"F",g,y)}function d1(r,t){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return bt()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function t0(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=xa(n.unaryFilter.field);return Re.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=xa(n.unaryFilter.field);return Re.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=xa(n.unaryFilter.field);return Re.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=xa(n.unaryFilter.field);return Re.create(f,"!=",{nullValue:"NULL_VALUE"});default:return bt()}}(r):r.fieldFilter!==void 0?function(n){return Re.create(xa(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return bt()}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return ci.create(n.compositeFilter.filters.map(s=>t0(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return bt()}}(n.compositeFilter.op))}(r):bt()}function m1(r){return e1[r]}function p1(r){return n1[r]}function g1(r){return i1[r]}function Pa(r){return{fieldPath:r.canonicalString()}}function xa(r){return en.fromServerFormat(r.fieldPath)}function e0(r){return r instanceof Re?function(n){if(n.op==="=="){if(Hv(n.value))return{unaryFilter:{field:Pa(n.field),op:"IS_NAN"}};if(Bv(n.value))return{unaryFilter:{field:Pa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Hv(n.value))return{unaryFilter:{field:Pa(n.field),op:"IS_NOT_NAN"}};if(Bv(n.value))return{unaryFilter:{field:Pa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pa(n.field),op:p1(n.op),value:n.value}}}(r):r instanceof ci?function(n){const s=n.getFilters().map(o=>e0(o));return s.length===1?s[0]:{compositeFilter:{op:g1(n.op),filters:s}}}(r):bt()}function n0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(t,n,s,o,u=Tt.min(),f=Tt.min(),m=He.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(t){return new Hr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Hr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(t){this.Tt=t}}function v1(r){const t=f1({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Xd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(){this.Tn=new E1}addToCollectionParentIndex(t,n){return this.Tn.add(n),Z.resolve()}getCollectionParents(t,n){return Z.resolve(this.Tn.getEntries(n))}addFieldIndex(t,n){return Z.resolve()}deleteFieldIndex(t,n){return Z.resolve()}deleteAllFieldIndexes(t){return Z.resolve()}createTargetIndexes(t,n){return Z.resolve()}getDocumentsMatchingTarget(t,n){return Z.resolve(null)}getIndexType(t,n){return Z.resolve(0)}getFieldIndexes(t,n){return Z.resolve([])}getNextCollectionGroupToUpdate(t){return Z.resolve(null)}getMinOffset(t,n){return Z.resolve(Kr.min())}getMinOffsetFromCollectionGroup(t,n){return Z.resolve(Kr.min())}updateCollectionGroup(t,n,s){return Z.resolve()}updateIndexEntries(t,n){return Z.resolve()}}class E1{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new Ce(le.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Ce(le.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},i0=41943040;class an{static withCacheSize(t){return new an(t,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */an.DEFAULT_COLLECTION_PERCENTILE=10,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,an.DEFAULT=new an(i0,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),an.DISABLED=new an(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Kn(){return new $a(0)}static Un(){return new $a(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_="LruGarbageCollector",T1=1048576;function i_([r,t],[n,s]){const o=Pt(r,n);return o===0?Pt(t,s):o}class S1{constructor(t){this.Hn=t,this.buffer=new Ce(i_),this.Jn=0}Yn(){return++this.Jn}Zn(t){const n=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();i_(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class A1{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){ot(n_,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){io(n)?ot(n_,"Ignoring IndexedDB error during garbage collection: ",n):await Jc(n)}await this.er(3e5)})}}class w1{constructor(t,n){this.tr=t,this.params=n}calculateTargetCount(t,n){return this.tr.nr(t).next(s=>Math.floor(n/100*s))}nthSequenceNumber(t,n){if(n===0)return Z.resolve(th.ae);const s=new S1(n);return this.tr.forEachTarget(t,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(t,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(t,n,s){return this.tr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.tr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(e_)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),e_):this.ir(t,n))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,n){let s,o,u,f,m,g,y;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,f=Date.now(),this.nthSequenceNumber(t,o))).next(b=>(s=b,m=Date.now(),this.removeTargets(t,s,n))).next(b=>(u=b,g=Date.now(),this.removeOrphanedDocuments(t,s))).next(b=>(y=Date.now(),ka()<=Ot.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${b} documents in `+(y-g)+`ms
Total Duration: ${y-T}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b})))}}function b1(r,t){return new w1(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(){this.changes=new js(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Qe.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?Z.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(t,n))).next(o=>(s!==null&&bl(s.mutation,o,Br.empty(),on.now()),o))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,Ut()).next(()=>s))}getLocalViewOfDocuments(t,n,s=Ut()){const o=ks();return this.populateOverlays(t,o,n).next(()=>this.computeViews(t,n,o,s).next(u=>{let f=El();return u.forEach((m,g)=>{f=f.insert(m,g.overlayedDocument)}),f}))}getOverlayedDocuments(t,n){const s=ks();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,Ut()))}populateOverlays(t,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(t,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(t,n,s,o){let u=Xr();const f=wl(),m=function(){return wl()}();return n.forEach((g,y)=>{const T=s.get(y.key);o.has(y.key)&&(T===void 0||T.mutation instanceof oh)?u=u.insert(y.key,y):T!==void 0?(f.set(y.key,T.mutation.getFieldMask()),bl(T.mutation,y,T.mutation.getFieldMask(),on.now())):f.set(y.key,Br.empty())}),this.recalculateAndSaveOverlays(t,u).next(g=>(g.forEach((y,T)=>f.set(y,T)),n.forEach((y,T)=>{var b;return m.set(y,new C1(T,(b=f.get(y))!==null&&b!==void 0?b:null))}),m))}recalculateAndSaveOverlays(t,n){const s=wl();let o=new fe((f,m)=>f-m),u=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(f=>{for(const m of f)m.keys().forEach(g=>{const y=n.get(g);if(y===null)return;let T=s.get(g)||Br.empty();T=m.applyToLocalView(y,T),s.set(g,T);const b=(o.get(m.batchId)||Ut()).add(g);o=o.insert(m.batchId,b)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,T=g.value,b=jE();T.forEach(I=>{if(!u.has(I)){const P=KE(n.get(I),s.get(I));P!==null&&b.set(I,P),u=u.add(I)}}),f.push(this.documentOverlayCache.saveOverlays(t,y,b))}return Z.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,o){return function(f){return yt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):MR(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):Z.resolve(ks());let m=Dl,g=u;return f.next(y=>Z.forEach(y,(T,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(T)?Z.resolve():this.remoteDocumentCache.getEntry(t,T).next(I=>{g=g.insert(T,I)}))).next(()=>this.populateOverlays(t,y,u)).next(()=>this.computeViews(t,g,y,Ut())).next(T=>({batchId:m,changes:xR(T)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new yt(n)).next(s=>{let o=El();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let f=El();return this.indexManager.getCollectionParents(t,u).next(m=>Z.forEach(m,g=>{const y=function(b,I){return new ih(I,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,s,o).next(T=>{T.forEach((b,I)=>{f=f.insert(b,I)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o))).next(f=>{u.forEach((g,y)=>{const T=y.getKey();f.get(T)===null&&(f=f.insert(T,Qe.newInvalidDocument(T)))});let m=El();return f.forEach((g,y)=>{const T=u.get(g);T!==void 0&&bl(T.mutation,y,Br.empty(),on.now()),sh(n,y)&&(m=m.insert(g,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,n){return Z.resolve(this.dr.get(n))}saveBundleMetadata(t,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:za(o.createTime)}}(n)),Z.resolve()}getNamedQuery(t,n){return Z.resolve(this.Ar.get(n))}saveNamedQuery(t,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:v1(o.bundledQuery),readTime:za(o.readTime)}}(n)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(){this.overlays=new fe(yt.comparator),this.Rr=new Map}getOverlay(t,n){return Z.resolve(this.overlays.get(n))}getOverlays(t,n){const s=ks();return Z.forEach(n,o=>this.getOverlay(t,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((o,u)=>{this.Et(t,n,u)}),Z.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),Z.resolve()}getOverlaysForCollection(t,n,s){const o=ks(),u=n.length+1,f=new yt(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return Z.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new fe((y,T)=>y-T);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let T=u.get(y.largestBatchId);T===null&&(T=ks(),u=u.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const m=ks(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((y,T)=>m.set(y,T)),!(m.size()>=o)););return Z.resolve(m)}Et(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new XR(n,s));let u=this.Rr.get(n);u===void 0&&(u=Ut(),this.Rr.set(n,u)),this.Rr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(){this.sessionToken=He.EMPTY_BYTE_STRING}getSessionToken(t){return Z.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(){this.Vr=new Ce(Le.mr),this.gr=new Ce(Le.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,n){const s=new Le(t,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.wr(new Le(t,n))}br(t,n){t.forEach(s=>this.removeReference(s,n))}Sr(t){const n=new yt(new le([])),s=new Le(n,t),o=new Le(n,t+1),u=[];return this.gr.forEachInRange([s,o],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const n=new yt(new le([])),s=new Le(n,t),o=new Le(n,t+1);let u=Ut();return this.gr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(t){const n=new Le(t,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Le{constructor(t,n){this.key=t,this.Cr=n}static mr(t,n){return yt.comparator(t.key,n.key)||Pt(t.Cr,n.Cr)}static pr(t,n){return Pt(t.Cr,n.Cr)||yt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Ce(Le.mr)}checkEmpty(t){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new $R(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Mr=this.Mr.add(new Le(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return Z.resolve(f)}lookupMutationBatch(t,n){return Z.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.Nr(s),u=o<0?0:o;return Z.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?cR:this.Fr-1)}getAllMutationBatches(t){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Le(n,0),o=new Le(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],f=>{const m=this.Or(f.Cr);u.push(m)}),Z.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Ce(Pt);return n.forEach(o=>{const u=new Le(o,0),f=new Le(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],m=>{s=s.add(m.Cr)})}),Z.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;yt.isDocumentKey(u)||(u=u.child(""));const f=new Le(new yt(u),0);let m=new Ce(Pt);return this.Mr.forEachWhile(g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(g.Cr)),!0)},f),Z.resolve(this.Br(m))}Br(t){const n=[];return t.forEach(s=>{const o=this.Or(s);o!==null&&n.push(o)}),n}removeMutationBatch(t,n){ne(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return Z.forEach(n.mutations,o=>{const u=new Le(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Mr=s})}qn(t){}containsKey(t,n){const s=new Le(n,0),o=this.Mr.firstAfterOrEqual(s);return Z.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,Z.resolve()}Lr(t,n){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const n=this.Nr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(t){this.kr=t,this.docs=function(){return new fe(yt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return Z.resolve(s?s.document.mutableCopy():Qe.newInvalidDocument(n))}getEntries(t,n){let s=Xr();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Qe.newInvalidDocument(o))}),Z.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=Xr();const f=n.path,m=new yt(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:T}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||aR(sR(T),s)<=0||(o.has(T.key)||sh(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return Z.resolve(u)}getAllFromCollectionGroup(t,n,s,o){bt()}qr(t,n){return Z.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new k1(this)}getSize(t){return Z.resolve(this.size)}}class k1 extends R1{constructor(t){super(),this.Ir=t}applyChanges(t){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(t,o)):this.Ir.removeEntry(s)}),Z.waitFor(n)}getFromCache(t,n){return this.Ir.getEntry(t,n)}getAllFromCache(t,n){return this.Ir.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(t){this.persistence=t,this.Qr=new js(n=>Rm(n),Cm),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Mm,this.targetCount=0,this.Ur=$a.Kn()}forEachTarget(t,n){return this.Qr.forEach((s,o)=>n(o)),Z.resolve()}getLastRemoteSnapshotVersion(t){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Z.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Ur.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),Z.resolve()}zn(t){this.Qr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Ur=new $a(n),this.highestTargetId=n),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,n){return this.zn(n),this.targetCount+=1,Z.resolve()}updateTargetData(t,n){return this.zn(n),Z.resolve()}removeTargetData(t,n){return this.Qr.delete(n.target),this.Kr.Sr(n.targetId),this.targetCount-=1,Z.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.Qr.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)}),Z.waitFor(u).next(()=>o)}getTargetCount(t){return Z.resolve(this.targetCount)}getTargetData(t,n){const s=this.Qr.get(n)||null;return Z.resolve(s)}addMatchingKeys(t,n,s){return this.Kr.yr(n,s),Z.resolve()}removeMatchingKeys(t,n,s){this.Kr.br(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(t,f))}),Z.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.Kr.Sr(n),Z.resolve()}getMatchingKeysForTargetId(t,n){const s=this.Kr.vr(n);return Z.resolve(s)}containsKey(t,n){return Z.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(t,n){this.Wr={},this.overlays={},this.Gr=new th(0),this.zr=!1,this.zr=!0,this.jr=new N1,this.referenceDelegate=t(this),this.Hr=new L1(this),this.indexManager=new _1,this.remoteDocumentCache=function(o){return new V1(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new y1(n),this.Yr=new D1(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new O1,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.Wr[t.toKey()];return s||(s=new M1(n,this.referenceDelegate),this.Wr[t.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,n,s){ot("MemoryPersistence","Starting transaction:",t);const o=new P1(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(t,n){return Z.or(Object.values(this.Wr).map(s=>()=>s.containsKey(t,n)))}}class P1 extends lR{constructor(t){super(),this.currentSequenceNumber=t}}class Vm{constructor(t){this.persistence=t,this.ti=new Mm,this.ni=null}static ri(t){return new Vm(t)}get ii(){if(this.ni)return this.ni;throw bt()}addReference(t,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),Z.resolve()}removeReference(t,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),Z.resolve()}markPotentiallyOrphaned(t,n){return this.ii.add(n.toString()),Z.resolve()}removeTarget(t,n){this.ti.Sr(n.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(t,n))}Zr(){this.ni=new Set}Xr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.ii,s=>{const o=yt.fromPath(s);return this.si(t,o).next(u=>{u||n.removeEntry(o,Tt.min())})}).next(()=>(this.ni=null,n.apply(t)))}updateLimboDocument(t,n){return this.si(t,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(t){return 0}si(t,n){return Z.or([()=>Z.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.ei(t,n)])}}class jc{constructor(t,n){this.persistence=t,this.oi=new js(s=>hR(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=b1(this,n)}static ri(t,n){return new jc(t,n)}Zr(){}Xr(t){return Z.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}nr(t){const n=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>n.next(o=>s+o))}sr(t){let n=0;return this.rr(t,s=>{n++}).next(()=>n)}rr(t,n){return Z.forEach(this.oi,(s,o)=>this.ar(t,s,o).next(u=>u?Z.resolve():n(o)))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(t,f=>this.ar(t,f,n).next(m=>{m||(s++,u.removeEntry(f,Tt.min()))})).next(()=>u.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,n){return this.oi.set(n,t.currentSequenceNumber),Z.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.oi.set(s,t.currentSequenceNumber),Z.resolve()}removeReference(t,n,s){return this.oi.set(s,t.currentSequenceNumber),Z.resolve()}updateLimboDocument(t,n){return this.oi.set(n,t.currentSequenceNumber),Z.resolve()}Jr(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Cc(t.data.value)),n}ar(t,n,s){return Z.or([()=>this.persistence.ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.oi.get(n);return Z.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Hi=s,this.Ji=o}static Yi(t,n){let s=Ut(),o=Ut();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new km(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return Ow()?8:uR(Ye())>0?6:4}()}initialize(t,n){this.ns=t,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.rs(t,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(t,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new x1;return this._s(t,n,f).next(m=>{if(u.result=m,this.Xi)return this.us(t,n,f,m.size)})}).next(()=>u.result)}us(t,n,s,o){return s.documentReadCount<this.es?(ka()<=Ot.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",La(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Z.resolve()):(ka()<=Ot.DEBUG&&ot("QueryEngine","Query:",La(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(ka()<=Ot.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",La(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ai(n))):Z.resolve())}rs(t,n){if(Gv(n))return Z.resolve(null);let s=ai(n);return this.indexManager.getIndexType(t,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Xd(n,null,"F"),s=ai(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(u=>{const f=Ut(...u);return this.ns.getDocuments(t,f).next(m=>this.indexManager.getMinOffset(t,s).next(g=>{const y=this.cs(n,m);return this.ls(n,y,f,g.readTime)?this.rs(t,Xd(n,null,"F")):this.hs(t,y,n,g)}))})))}ss(t,n,s,o){return Gv(n)||o.isEqual(Tt.min())?Z.resolve(null):this.ns.getDocuments(t,s).next(u=>{const f=this.cs(n,u);return this.ls(n,f,s,o)?Z.resolve(null):(ka()<=Ot.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),La(n)),this.hs(t,f,n,rR(o,Dl)).next(m=>m))})}cs(t,n){let s=new Ce(BE(t));return n.forEach((o,u)=>{sh(t,u)&&(s=s.add(u))}),s}ls(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(t,n,s){return ka()<=Ot.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",La(n)),this.ns.getDocumentsMatchingQuery(t,n,Kr.min(),s)}hs(t,n,s,o){return this.ns.getDocumentsMatchingQuery(t,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm="LocalStore",z1=3e8;class B1{constructor(t,n,s,o){this.persistence=t,this.Ps=n,this.serializer=o,this.Ts=new fe(Pt),this.Is=new js(u=>Rm(u),Cm),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(s)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new I1(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ts))}}function H1(r,t,n,s){return new B1(r,t,n,s)}async function s0(r,t){const n=xt(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.As(t),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let g=Ut();for(const y of o){f.push(y.batchId);for(const T of y.mutations)g=g.add(T.key)}for(const y of u){m.push(y.batchId);for(const T of y.mutations)g=g.add(T.key)}return n.localDocuments.getDocuments(s,g).next(y=>({Rs:y,removedBatchIds:f,addedBatchIds:m}))})})}function a0(r){const t=xt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Hr.getLastRemoteSnapshotVersion(n))}function j1(r,t){const n=xt(r),s=t.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const m=[];t.targetChanges.forEach((T,b)=>{const I=o.get(b);if(!I)return;m.push(n.Hr.removeMatchingKeys(u,T.removedDocuments,b).next(()=>n.Hr.addMatchingKeys(u,T.addedDocuments,b)));let P=I.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(b)!==null?P=P.withResumeToken(He.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):T.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(T.resumeToken,s)),o=o.insert(b,P),function(X,F,Y){return X.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-X.snapshotVersion.toMicroseconds()>=z1?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0}(I,P,T)&&m.push(n.Hr.updateTargetData(u,P))});let g=Xr(),y=Ut();if(t.documentUpdates.forEach(T=>{t.resolvedLimboDocuments.has(T)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))}),m.push(q1(u,f,t.documentUpdates).next(T=>{g=T.Vs,y=T.fs})),!s.isEqual(Tt.min())){const T=n.Hr.getLastRemoteSnapshotVersion(u).next(b=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(T)}return Z.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,g,y)).next(()=>g)}).then(u=>(n.Ts=o,u))}function q1(r,t,n){let s=Ut(),o=Ut();return n.forEach(u=>s=s.add(u)),t.getEntries(r,s).next(u=>{let f=Xr();return n.forEach((m,g)=>{const y=u.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(Tt.min())?(t.removeEntry(m,g.readTime),f=f.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(g),f=f.insert(m,g)):ot(Lm,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)}),{Vs:f,fs:o}})}function F1(r,t){const n=xt(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Hr.getTargetData(s,t).next(u=>u?(o=u,Z.resolve(o)):n.Hr.allocateTargetId(s).next(f=>(o=new Hr(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(t,s.targetId)),s})}async function em(r,t,n){const s=xt(r),o=s.Ts.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!io(f))throw f;ot(Lm,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Ts=s.Ts.remove(t),s.Is.delete(o.target)}function r_(r,t,n){const s=xt(r);let o=Tt.min(),u=Ut();return s.persistence.runTransaction("Execute query","readwrite",f=>function(g,y,T){const b=xt(g),I=b.Is.get(T);return I!==void 0?Z.resolve(b.Ts.get(I)):b.Hr.getTargetData(y,T)}(s,f,ai(t)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(f,m.targetId).next(g=>{u=g})}).next(()=>s.Ps.getDocumentsMatchingQuery(f,t,n?o:Tt.min(),n?u:Ut())).next(m=>(G1(s,kR(t),m),{documents:m,gs:u})))}function G1(r,t,n){let s=r.Es.get(t)||Tt.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Es.set(t,s)}class s_{constructor(){this.activeTargetIds=BR()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ss(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class K1{constructor(){this.ho=new s_,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,n,s){this.Po[t]=n}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new s_,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_="ConnectivityMonitor";class o_{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ot(a_,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){ot(a_,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tc=null;function nm(){return Tc===null?Tc=function(){return 268435456+Math.round(2147483648*Math.random())}():Tc++,"0x"+Tc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Id="RestConnection",Y1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $1{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+t.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===xc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}bo(t,n,s,o,u){const f=nm(),m=this.So(t,n.toUriEncodedString());ot(Id,`Sending RPC '${t}' ${f}:`,m,s);const g={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(g,o,u),this.vo(t,m,g,s).then(y=>(ot(Id,`Received RPC '${t}' ${f}: `,y),y),y=>{throw Ga(Id,`RPC '${t}' ${f} failed with error: `,y,"url: ",m,"request:",s),y})}Co(t,n,s,o,u,f){return this.bo(t,n,s,o,u)}Do(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+no}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>t[u]=o),s&&s.headers.forEach((o,u)=>t[u]=o)}So(t,n){const s=Y1[t];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Ko(t){this.ko(t)}Uo(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ge="WebChannelConnection";class Z1 extends $1{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,n,s,o){const u=nm();return new Promise((f,m)=>{const g=new EE;g.setWithCredentials(!0),g.listenOnce(TE.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Rc.NO_ERROR:const T=g.getResponseJson();ot(Ge,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(T)),f(T);break;case Rc.TIMEOUT:ot(Ge,`RPC '${t}' ${u} timed out`),m(new gt(it.DEADLINE_EXCEEDED,"Request time out"));break;case Rc.HTTP_ERROR:const b=g.getStatus();if(ot(Ge,`RPC '${t}' ${u} failed with status:`,b,"response text:",g.getResponseText()),b>0){let I=g.getResponseJson();Array.isArray(I)&&(I=I[0]);const P=I==null?void 0:I.error;if(P&&P.status&&P.message){const U=function(F){const Y=F.toLowerCase().replace(/_/g,"-");return Object.values(it).indexOf(Y)>=0?Y:it.UNKNOWN}(P.status);m(new gt(U,P.message))}else m(new gt(it.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new gt(it.UNAVAILABLE,"Connection failed."));break;default:bt()}}finally{ot(Ge,`RPC '${t}' ${u} completed.`)}});const y=JSON.stringify(o);ot(Ge,`RPC '${t}' ${u} sending request:`,o),g.send(n,"POST",y,s,15)})}Wo(t,n,s){const o=nm(),u=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=wE(),m=AE(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Do(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const T=u.join("");ot(Ge,`Creating RPC '${t}' stream ${o}: ${T}`,g);const b=f.createWebChannel(T,g);let I=!1,P=!1;const U=new X1({Fo:F=>{P?ot(Ge,`Not sending because RPC '${t}' stream ${o} is closed:`,F):(I||(ot(Ge,`Opening RPC '${t}' stream ${o} transport.`),b.open(),I=!0),ot(Ge,`RPC '${t}' stream ${o} sending:`,F),b.send(F))},Mo:()=>b.close()}),X=(F,Y,nt)=>{F.listen(Y,tt=>{try{nt(tt)}catch(mt){setTimeout(()=>{throw mt},0)}})};return X(b,_l.EventType.OPEN,()=>{P||(ot(Ge,`RPC '${t}' stream ${o} transport opened.`),U.Qo())}),X(b,_l.EventType.CLOSE,()=>{P||(P=!0,ot(Ge,`RPC '${t}' stream ${o} transport closed`),U.Ko())}),X(b,_l.EventType.ERROR,F=>{P||(P=!0,Ga(Ge,`RPC '${t}' stream ${o} transport errored:`,F),U.Ko(new gt(it.UNAVAILABLE,"The operation could not be completed")))}),X(b,_l.EventType.MESSAGE,F=>{var Y;if(!P){const nt=F.data[0];ne(!!nt);const tt=nt,mt=(tt==null?void 0:tt.error)||((Y=tt[0])===null||Y===void 0?void 0:Y.error);if(mt){ot(Ge,`RPC '${t}' stream ${o} received error:`,mt);const ut=mt.status;let St=function(w){const D=ve[w];if(D!==void 0)return YE(D)}(ut),V=mt.message;St===void 0&&(St=it.INTERNAL,V="Unknown error status: "+ut+" with message "+mt.message),P=!0,U.Ko(new gt(St,V)),b.close()}else ot(Ge,`RPC '${t}' stream ${o} received:`,nt),U.Uo(nt)}}),X(m,SE.STAT_EVENT,F=>{F.stat===qd.PROXY?ot(Ge,`RPC '${t}' stream ${o} detected buffering proxy`):F.stat===qd.NOPROXY&&ot(Ge,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{U.$o()},0),U}}function Dd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o0(r){return new r1(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Ti=t,this.timerId=n,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-s);o>0&&ot("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_="PersistentStream";class W1{constructor(t,n,s,o,u,f,m,g){this.Ti=t,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new l0(t,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():n&&n.code===it.RESOURCE_EXHAUSTED?(Qi(n.toString()),Qi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===it.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===n&&this.V_(s,o)},s=>{t(()=>{const o=new gt(it.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(t,n){const s=this.R_(this.i_);this.stream=this.f_(t,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return ot(l_,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return n=>{this.Ti.enqueueAndForget(()=>this.i_===t?n():(ot(l_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class J1 extends W1{constructor(t,n,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}f_(t,n){return this.connection.Wo("Listen",t,n)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const n=u1(this.serializer,t),s=function(u){if(!("targetChange"in u))return Tt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Tt.min():f.readTime?za(f.readTime):Tt.min()}(t);return this.listener.p_(n,s)}y_(t){const n={};n.database=t_(this.serializer),n.addTarget=function(u,f){let m;const g=f.target;if(m=$d(g)?{documents:c1(u,g)}:{query:h1(u,g).ht},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=a1(u,f.resumeToken);const y=Jd(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(Tt.min())>0){m.readTime=s1(u,f.snapshotVersion.toTimestamp());const y=Jd(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,t);const s=d1(this.serializer,t);s&&(n.labels=s),this.I_(n)}w_(t){const n={};n.database=t_(this.serializer),n.removeTarget=t,this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{}class eC extends tC{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new gt(it.FAILED_PRECONDITION,"The client has already been terminated.")}bo(t,n,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.bo(t,tm(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new gt(it.UNKNOWN,u.toString())})}Co(t,n,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(t,tm(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new gt(it.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class nC{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Qi(n),this.N_=!1):ot("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa="RemoteStore";class iC{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{s.enqueueAndForget(async()=>{Fl(this)&&(ot(Xa,"Restarting streams for network reachability change."),await async function(g){const y=xt(g);y.W_.add(4),await ql(y),y.j_.set("Unknown"),y.W_.delete(4),await uh(y)}(this))})}),this.j_=new nC(s,o)}}async function uh(r){if(Fl(r))for(const t of r.G_)await t(!0)}async function ql(r){for(const t of r.G_)await t(!1)}function u0(r,t){const n=xt(r);n.U_.has(t.targetId)||(n.U_.set(t.targetId,t),zm(n)?Um(n):ro(n).c_()&&xm(n,t))}function Pm(r,t){const n=xt(r),s=ro(n);n.U_.delete(t),s.c_()&&c0(n,t),n.U_.size===0&&(s.c_()?s.P_():Fl(n)&&n.j_.set("Unknown"))}function xm(r,t){if(r.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Tt.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}ro(r).y_(t)}function c0(r,t){r.H_.Ne(t),ro(r).w_(t)}function Um(r){r.H_=new t1({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>r.U_.get(t)||null,it:()=>r.datastore.serializer.databaseId}),ro(r).start(),r.j_.B_()}function zm(r){return Fl(r)&&!ro(r).u_()&&r.U_.size>0}function Fl(r){return xt(r).W_.size===0}function h0(r){r.H_=void 0}async function rC(r){r.j_.set("Online")}async function sC(r){r.U_.forEach((t,n)=>{xm(r,t)})}async function aC(r,t){h0(r),zm(r)?(r.j_.q_(t),Um(r)):r.j_.set("Unknown")}async function oC(r,t,n){if(r.j_.set("Online"),t instanceof XE&&t.state===2&&t.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.U_.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.U_.delete(m),o.H_.removeTarget(m))}(r,t)}catch(s){ot(Xa,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await u_(r,s)}else if(t instanceof Dc?r.H_.We(t):t instanceof $E?r.H_.Ze(t):r.H_.je(t),!n.isEqual(Tt.min()))try{const s=await a0(r.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.H_.ot(f);return m.targetChanges.forEach((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const T=u.U_.get(y);T&&u.U_.set(y,T.withResumeToken(g.resumeToken,f))}}),m.targetMismatches.forEach((g,y)=>{const T=u.U_.get(g);if(!T)return;u.U_.set(g,T.withResumeToken(He.EMPTY_BYTE_STRING,T.snapshotVersion)),c0(u,g);const b=new Hr(T.target,g,y,T.sequenceNumber);xm(u,b)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){ot(Xa,"Failed to raise snapshot:",s),await u_(r,s)}}async function u_(r,t,n){if(!io(t))throw t;r.W_.add(1),await ql(r),r.j_.set("Offline"),n||(n=()=>a0(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ot(Xa,"Retrying IndexedDB access"),await n(),r.W_.delete(1),await uh(r)})}async function c_(r,t){const n=xt(r);n.asyncQueue.verifyOperationInProgress(),ot(Xa,"RemoteStore received new credentials");const s=Fl(n);n.W_.add(3),await ql(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.W_.delete(3),await uh(n)}async function lC(r,t){const n=xt(r);t?(n.W_.delete(2),await uh(n)):t||(n.W_.add(2),await ql(n),n.j_.set("Unknown"))}function ro(r){return r.J_||(r.J_=function(n,s,o){const u=xt(n);return u.M_(),new J1(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:rC.bind(null,r),No:sC.bind(null,r),Lo:aC.bind(null,r),p_:oC.bind(null,r)}),r.G_.push(async t=>{t?(r.J_.h_(),zm(r)?Um(r):r.j_.set("Unknown")):(await r.J_.stop(),h0(r))})),r.J_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Ls,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const f=Date.now()+s,m=new Bm(t,n,f,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new gt(it.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function f0(r,t){if(Qi("AsyncQueue",`${t}: ${r}`),io(r))return new gt(it.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{static emptySet(t){return new Ba(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||yt.comparator(n.key,s.key):(n,s)=>yt.comparator(n.key,s.key),this.keyedMap=El(),this.sortedSet=new fe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Ba)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Ba;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{constructor(){this.Z_=new fe(yt.comparator)}track(t){const n=t.doc.key,s=this.Z_.get(n);s?t.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,t):t.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.Z_=this.Z_.remove(n):t.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):bt():this.Z_=this.Z_.insert(n,t)}X_(){const t=[];return this.Z_.inorderTraversal((n,s)=>{t.push(s)}),t}}class Za{constructor(t,n,s,o,u,f,m,g,y){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(t,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new Za(t,n,Ba.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&rh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class cC{constructor(){this.queries=f_(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const o=xt(n),u=o.queries;o.queries=f_(),u.forEach((f,m)=>{for(const g of m.ta)g.onError(s)})})(this,new gt(it.ABORTED,"Firestore shutting down"))}}function f_(){return new js(r=>zE(r),rh)}async function hC(r,t){const n=xt(r);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.na()&&t.ra()&&(s=2):(u=new uC,s=t.ra()?0:1);try{switch(s){case 0:u.ea=await n.onListen(o,!0);break;case 1:u.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=f0(f,`Initialization of query '${La(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.ta.push(t),t.sa(n.onlineState),u.ea&&t.oa(u.ea)&&Hm(n)}async function fC(r,t){const n=xt(r),s=t.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ta.indexOf(t);f>=0&&(u.ta.splice(f,1),u.ta.length===0?o=t.ra()?0:1:!u.na()&&t.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function dC(r,t){const n=xt(r);let s=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ta)m.oa(o)&&(s=!0);f.ea=o}}s&&Hm(n)}function mC(r,t,n){const s=xt(r),o=s.queries.get(t);if(o)for(const u of o.ta)u.onError(n);s.queries.delete(t)}function Hm(r){r.ia.forEach(t=>{t.next()})}var im,d_;(d_=im||(im={}))._a="default",d_.Cache="cache";class pC{constructor(t,n,s){this.query=t,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new Za(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.ua?this.la(t)&&(this.aa.next(t),n=!0):this.ha(t,this.onlineState)&&(this.Pa(t),n=!0),this.ca=t,n}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),n=!0),n}ha(t,n){if(!t.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}la(t){if(t.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(t){t=Za.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==im.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(t){this.key=t}}class m0{constructor(t){this.key=t}}class gC{constructor(t,n){this.query=t,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ut(),this.mutatedKeys=Ut(),this.ya=BE(t),this.wa=new Ba(this.ya)}get ba(){return this.fa}Sa(t,n){const s=n?n.Da:new h_,o=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((T,b)=>{const I=o.get(T),P=sh(this.query,b)?b:null,U=!!I&&this.mutatedKeys.has(I.key),X=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let F=!1;I&&P?I.data.isEqual(P.data)?U!==X&&(s.track({type:3,doc:P}),F=!0):this.va(I,P)||(s.track({type:2,doc:P}),F=!0,(g&&this.ya(P,g)>0||y&&this.ya(P,y)<0)&&(m=!0)):!I&&P?(s.track({type:0,doc:P}),F=!0):I&&!P&&(s.track({type:1,doc:I}),F=!0,(g||y)&&(m=!0)),F&&(P?(f=f.add(P),u=X?u.add(T):u.delete(T)):(f=f.delete(T),u=u.delete(T)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),u=u.delete(T.key),s.track({type:1,doc:T})}return{wa:f,Da:s,ls:m,mutatedKeys:u}}va(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const f=t.Da.X_();f.sort((T,b)=>function(P,U){const X=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return bt()}};return X(P)-X(U)}(T.type,b.type)||this.ya(T.doc,b.doc)),this.Ca(s),o=o!=null&&o;const m=n&&!o?this.Fa():[],g=this.pa.size===0&&this.current&&!o?1:0,y=g!==this.ga;return this.ga=g,f.length!==0||y?{snapshot:new Za(this.query,t.wa,u,f,t.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new h_,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=Ut(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return t.forEach(s=>{this.pa.has(s)||n.push(new m0(s))}),this.pa.forEach(s=>{t.has(s)||n.push(new d0(s))}),n}Oa(t){this.fa=t.gs,this.pa=Ut();const n=this.Sa(t.documents);return this.applyChanges(n,!0)}Na(){return Za.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const jm="SyncEngine";class yC{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class vC{constructor(t){this.key=t,this.Ba=!1}}class _C{constructor(t,n,s,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new js(m=>zE(m),rh),this.qa=new Map,this.Qa=new Set,this.$a=new fe(yt.comparator),this.Ka=new Map,this.Ua=new Mm,this.Wa={},this.Ga=new Map,this.za=$a.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function EC(r,t,n=!0){const s=_0(r);let o;const u=s.ka.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await p0(s,t,n,!0),o}async function TC(r,t){const n=_0(r);await p0(n,t,!0,!1)}async function p0(r,t,n,s){const o=await F1(r.localStore,ai(t)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await SC(r,t,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&u0(r.remoteStore,o),m}async function SC(r,t,n,s,o){r.Ha=(b,I,P)=>async function(X,F,Y,nt){let tt=F.view.Sa(Y);tt.ls&&(tt=await r_(X.localStore,F.query,!1).then(({documents:V})=>F.view.Sa(V,tt)));const mt=nt&&nt.targetChanges.get(F.targetId),ut=nt&&nt.targetMismatches.get(F.targetId)!=null,St=F.view.applyChanges(tt,X.isPrimaryClient,mt,ut);return p_(X,F.targetId,St.Ma),St.snapshot}(r,b,I,P);const u=await r_(r.localStore,t,!0),f=new gC(t,u.gs),m=f.Sa(u.documents),g=jl.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,g);p_(r,n,y.Ma);const T=new yC(t,n,f);return r.ka.set(t,T),r.qa.has(n)?r.qa.get(n).push(t):r.qa.set(n,[t]),y.snapshot}async function AC(r,t,n){const s=xt(r),o=s.ka.get(t),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(f=>!rh(f,t))),void s.ka.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await em(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Pm(s.remoteStore,o.targetId),rm(s,o.targetId)}).catch(Jc)):(rm(s,o.targetId),await em(s.localStore,o.targetId,!0))}async function wC(r,t){const n=xt(r),s=n.ka.get(t),o=n.qa.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Pm(n.remoteStore,s.targetId))}async function g0(r,t){const n=xt(r);try{const s=await j1(n.localStore,t);t.targetChanges.forEach((o,u)=>{const f=n.Ka.get(u);f&&(ne(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?ne(f.Ba):o.removedDocuments.size>0&&(ne(f.Ba),f.Ba=!1))}),await v0(n,s,t)}catch(s){await Jc(s)}}function m_(r,t,n){const s=xt(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ka.forEach((u,f)=>{const m=f.view.sa(t);m.snapshot&&o.push(m.snapshot)}),function(f,m){const g=xt(f);g.onlineState=m;let y=!1;g.queries.forEach((T,b)=>{for(const I of b.ta)I.sa(m)&&(y=!0)}),y&&Hm(g)}(s.eventManager,t),o.length&&s.La.p_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function bC(r,t,n){const s=xt(r);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Ka.get(t),u=o&&o.key;if(u){let f=new fe(yt.comparator);f=f.insert(u,Qe.newNoDocument(u,Tt.min()));const m=Ut().add(u),g=new lh(Tt.min(),new Map,new fe(Pt),f,m);await g0(s,g),s.$a=s.$a.remove(u),s.Ka.delete(t),qm(s)}else await em(s.localStore,t,!1).then(()=>rm(s,t,n)).catch(Jc)}function rm(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.qa.get(t))r.ka.delete(s),n&&r.La.Ja(s,n);r.qa.delete(t),r.isPrimaryClient&&r.Ua.Sr(t).forEach(s=>{r.Ua.containsKey(s)||y0(r,s)})}function y0(r,t){r.Qa.delete(t.path.canonicalString());const n=r.$a.get(t);n!==null&&(Pm(r.remoteStore,n),r.$a=r.$a.remove(t),r.Ka.delete(n),qm(r))}function p_(r,t,n){for(const s of n)s instanceof d0?(r.Ua.addReference(s.key,t),RC(r,s)):s instanceof m0?(ot(jm,"Document no longer in limbo: "+s.key),r.Ua.removeReference(s.key,t),r.Ua.containsKey(s.key)||y0(r,s.key)):bt()}function RC(r,t){const n=t.key,s=n.path.canonicalString();r.$a.get(n)||r.Qa.has(s)||(ot(jm,"New document in limbo: "+n),r.Qa.add(s),qm(r))}function qm(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const t=r.Qa.values().next().value;r.Qa.delete(t);const n=new yt(le.fromString(t)),s=r.za.next();r.Ka.set(s,new vC(n)),r.$a=r.$a.insert(n,s),u0(r.remoteStore,new Hr(ai(Im(n.path)),s,"TargetPurposeLimboResolution",th.ae))}}async function v0(r,t,n){const s=xt(r),o=[],u=[],f=[];s.ka.isEmpty()||(s.ka.forEach((m,g)=>{f.push(s.Ha(g,t,n).then(y=>{var T;if((y||n)&&s.isPrimaryClient){const b=y?!y.fromCache:(T=n==null?void 0:n.targetChanges.get(g.targetId))===null||T===void 0?void 0:T.current;s.sharedClientState.updateQueryState(g.targetId,b?"current":"not-current")}if(y){o.push(y);const b=km.Yi(g.targetId,y);u.push(b)}}))}),await Promise.all(f),s.La.p_(o),await async function(g,y){const T=xt(g);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>Z.forEach(y,I=>Z.forEach(I.Hi,P=>T.persistence.referenceDelegate.addReference(b,I.targetId,P)).next(()=>Z.forEach(I.Ji,P=>T.persistence.referenceDelegate.removeReference(b,I.targetId,P)))))}catch(b){if(!io(b))throw b;ot(Lm,"Failed to update sequence numbers: "+b)}for(const b of y){const I=b.targetId;if(!b.fromCache){const P=T.Ts.get(I),U=P.snapshotVersion,X=P.withLastLimboFreeSnapshotVersion(U);T.Ts=T.Ts.insert(I,X)}}}(s.localStore,u))}async function CC(r,t){const n=xt(r);if(!n.currentUser.isEqual(t)){ot(jm,"User change. New user:",t.toKey());const s=await s0(n.localStore,t);n.currentUser=t,function(u,f){u.Ga.forEach(m=>{m.forEach(g=>{g.reject(new gt(it.CANCELLED,f))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await v0(n,s.Rs)}}function IC(r,t){const n=xt(r),s=n.Ka.get(t);if(s&&s.Ba)return Ut().add(s.key);{let o=Ut();const u=n.qa.get(t);if(!u)return o;for(const f of u){const m=n.ka.get(f);o=o.unionWith(m.view.ba)}return o}}function _0(r){const t=xt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=g0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=IC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=bC.bind(null,t),t.La.p_=dC.bind(null,t.eventManager),t.La.Ja=mC.bind(null,t.eventManager),t}class qc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=o0(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,n){return null}nu(t,n){return null}eu(t){return H1(this.persistence,new U1,t.initialUser,this.serializer)}Xa(t){return new r0(Vm.ri,this.serializer)}Za(t){return new K1}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qc.provider={build:()=>new qc};class DC extends qc{constructor(t){super(),this.cacheSizeBytes=t}tu(t,n){ne(this.persistence.referenceDelegate instanceof jc);const s=this.persistence.referenceDelegate.garbageCollector;return new A1(s,t.asyncQueue,n)}Xa(t){const n=this.cacheSizeBytes!==void 0?an.withCacheSize(this.cacheSizeBytes):an.DEFAULT;return new r0(s=>jc.ri(s,n),this.serializer)}}class sm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>m_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=CC.bind(null,this.syncEngine),await lC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new cC}()}createDatastore(t){const n=o0(t.databaseInfo.databaseId),s=function(u){return new Z1(u)}(t.databaseInfo);return function(u,f,m,g){return new eC(u,f,m,g)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,o,u,f,m){return new iC(s,o,u,f,m)}(this.localStore,this.datastore,t.asyncQueue,n=>m_(this.syncEngine,n,0),function(){return o_.D()?new o_:new Q1}())}createSyncEngine(t,n){return function(o,u,f,m,g,y,T){const b=new _C(o,u,f,m,g,y);return T&&(b.ja=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(o){const u=xt(o);ot(Xa,"RemoteStore shutting down."),u.W_.add(5),await ql(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}sm.provider={build:()=>new sm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):Qi("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr="FirestoreClient";class NC{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Ke.UNAUTHENTICATED,this.clientId=RE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{ot(Zr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ot(Zr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ls;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=f0(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function Od(r,t){r.asyncQueue.verifyOperationInProgress(),ot(Zr,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await s0(t.localStore,o),s=o)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function g_(r,t){r.asyncQueue.verifyOperationInProgress();const n=await MC(r);ot(Zr,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener(s=>c_(t.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>c_(t.remoteStore,o)),r._onlineComponents=t}async function MC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ot(Zr,"Using user provided OfflineComponentProvider");try{await Od(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(o){return o.name==="FirebaseError"?o.code===it.FAILED_PRECONDITION||o.code===it.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Ga("Error using user provided cache. Falling back to memory cache: "+n),await Od(r,new qc)}}else ot(Zr,"Using default OfflineComponentProvider"),await Od(r,new DC(void 0));return r._offlineComponents}async function VC(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ot(Zr,"Using user provided OnlineComponentProvider"),await g_(r,r._uninitializedComponentsProvider._online)):(ot(Zr,"Using default OnlineComponentProvider"),await g_(r,new sm))),r._onlineComponents}async function kC(r){const t=await VC(r),n=t.eventManager;return n.onListen=EC.bind(null,t.syncEngine),n.onUnlisten=AC.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=TC.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=wC.bind(null,t.syncEngine),n}function LC(r,t,n={}){const s=new Ls;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,g,y){const T=new OC({next:I=>{T.su(),f.enqueueAndForget(()=>fC(u,b));const P=I.docs.has(m);!P&&I.fromCache?y.reject(new gt(it.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&I.fromCache&&g&&g.source==="server"?y.reject(new gt(it.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(I)},error:I=>y.reject(I)}),b=new pC(Im(m.path),T,{includeMetadataChanges:!0,Ta:!0});return hC(u,b)}(await kC(r),r.asyncQueue,t,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E0(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(r,t,n){if(!n)throw new gt(it.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function xC(r,t,n,s){if(t===!0&&s===!0)throw new gt(it.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function v_(r){if(!yt.isDocumentKey(r))throw new gt(it.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function UC(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":bt()}function am(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new gt(it.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=UC(r);throw new gt(it.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0="firestore.googleapis.com",__=!0;class E_{constructor(t){var n,s;if(t.host===void 0){if(t.ssl!==void 0)throw new gt(it.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=T0,this.ssl=__}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:__;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=i0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<T1)throw new gt(it.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}xC("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=E0((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new gt(it.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new gt(it.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new gt(it.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Fm{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new E_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new gt(it.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new gt(it.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new E_(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new Xb;switch(s.type){case"firstParty":return new tR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new gt(it.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=y_.get(n);s&&(ot("ComponentProvider","Removing Datastore"),y_.delete(n),s.terminate())}(this),Promise.resolve()}}function zC(r,t,n,s={}){var o;const u=(r=am(r,Fm))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:r._getEmulatorOptions()}),m=`${t}:${n}`;u.host!==T0&&u.host!==m&&Ga("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:s});if(!xs(g,f)&&(r._setSettings(g),s.mockUserToken)){let y,T;if(typeof s.mockUserToken=="string")y=s.mockUserToken,T=Ke.MOCK_USER;else{y=Aw(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new gt(it.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Ke(b)}r._authCredentials=new Zb(new bE(y,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Gm(this.firestore,t,this._query)}}class qi{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new qi(this.firestore,t,this._key)}}class Vl extends Gm{constructor(t,n,s){super(t,n,Im(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new qi(this.firestore,null,new yt(t))}withConverter(t){return new Vl(this.firestore,t,this._path)}}function BC(r,t,...n){if(r=Xi(r),arguments.length===1&&(t=RE.newId()),PC("doc","path",t),r instanceof Fm){const s=le.fromString(t,...n);return v_(s),new qi(r,null,new yt(s))}{if(!(r instanceof qi||r instanceof Vl))throw new gt(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(le.fromString(t,...n));return v_(s),new qi(r.firestore,r instanceof Vl?r.converter:null,new yt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_="AsyncQueue";class S_{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new l0(this,"async_queue_retry"),this.bu=()=>{const s=Dd();s&&ot(T_,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.Su=t;const n=Dd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const n=Dd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.bu)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Ls;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!io(t))throw t;ot(T_,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const n=this.Su.then(()=>(this.pu=!0,t().catch(s=>{this.gu=s,this.pu=!1;const o=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw Qi("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.Su=n,n}enqueueAfterDelay(t,n,s){this.Du(),this.wu.indexOf(t)>-1&&(n=0);const o=Bm.createAndSchedule(this,t,n,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&bt()}verifyOperationInProgress(){}async Mu(){let t;do t=this.Su,await t;while(t!==this.Su)}xu(t){for(const n of this.fu)if(n.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const n=this.fu.indexOf(t);this.fu.splice(n,1)}}class S0 extends Fm{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new S_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new S_(t),this._firestoreClient=void 0,await t}}}function HC(r,t){const n=typeof r=="object"?r:gE(),s=typeof r=="string"?r:xc,o=Sm(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=Tw("firestore");u&&zC(o,...u)}return o}function jC(r){if(r._terminated)throw new gt(it.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||qC(r),r._firestoreClient}function qC(r){var t,n,s;const o=r._freezeSettings(),u=function(m,g,y,T){return new pR(m,g,y,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,E0(T.experimentalLongPollingOptions),T.useFetchStreams)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new NC(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Fc(He.fromBase64String(t))}catch(n){throw new gt(it.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Fc(He.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new gt(it.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new gt(it.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new gt(it.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Pt(this._lat,t._lat)||Pt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,t._values)}}const KC=new RegExp("[~\\*/\\[\\]]");function QC(r,t,n){if(t.search(KC)>=0)throw A_(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r);try{return new A0(...t.split("."))._internalPath}catch{throw A_(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r)}}function A_(r,t,n,s,o){let u=`Function ${t}() called with invalid data`;u+=". ";let f="";return new gt(it.INVALID_ARGUMENT,u+r+f)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new qi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new YC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(b0("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class YC extends w0{data(){return super.data()}}function b0(r,t){return typeof t=="string"?QC(r,t):t instanceof A0?t._internalPath:t._delegate._internalPath}class $C{convertValue(t,n="none"){switch($r(t)){case 0:return null;case 1:return t.booleanValue;case 2:return he(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Yr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw bt()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Hl(t,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(t){var n,s,o;const u=(o=(s=(n=t.fields)===null||n===void 0?void 0:n[Gd].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>he(f.doubleValue));return new GC(u)}convertGeoPoint(t){return new FC(he(t.latitude),he(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=nh(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Ol(t));default:return null}}convertTimestamp(t){const n=Qr(t);return new on(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=le.fromString(t);ne(n0(s));const o=new Nl(s.get(1),s.get(3)),u=new yt(s.popFirst(5));return o.isEqual(n)||Qi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class R0 extends w0{constructor(t,n,s,o,u,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new ZC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(b0("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class ZC extends R0{data(t={}){return super.data(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WC(r){r=am(r,qi);const t=am(r.firestore,S0);return LC(jC(t),r._key).then(n=>tI(t,r,n))}class JC extends $C{constructor(t){super(),this.firestore=t}convertBytes(t){return new Fc(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new qi(this.firestore,null,n)}}function tI(r,t,n){const s=n.docs.get(t._key),o=new JC(r);return new R0(r,o,t._key,s,new XC(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(o){no=o})(eo),Fa(new Us("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new S0(new Wb(s.getProvider("auth-internal")),new eR(f,s.getProvider("app-check-internal")),function(y,T){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new gt(it.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nl(y.options.projectId,T)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Fr(Dv,Ov,t),Fr(Dv,Ov,"esm2017")})();function Km(r,t){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&t.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function C0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const eI=C0,I0=new zl("auth","Firebase",C0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gc=new Em("@firebase/auth");function nI(r,...t){Gc.logLevel<=Ot.WARN&&Gc.warn(`Auth (${eo}): ${r}`,...t)}function Oc(r,...t){Gc.logLevel<=Ot.ERROR&&Gc.error(`Auth (${eo}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(r,...t){throw Qm(r,...t)}function oi(r,...t){return Qm(r,...t)}function D0(r,t,n){const s=Object.assign(Object.assign({},eI()),{[t]:n});return new zl("auth","Firebase",s).create(t,{appName:r.name})}function Fi(r){return D0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Qm(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return I0.create(r,...t)}function vt(r,t,...n){if(!r)throw Qm(t,...n)}function zi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Oc(t),new Error(t)}function Yi(r,t){r||zi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function om(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function iI(){return w_()==="http:"||w_()==="https:"}function w_(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(iI()||Cw()||"connection"in navigator)?navigator.onLine:!0}function sI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(t,n){this.shortDelay=t,this.longDelay=n,Yi(n>t,"Short delay should be less than long delay!"),this.isMobile=ww()||Iw()}get(){return rI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ym(r,t){Yi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI=new Gl(3e4,6e4);function Jr(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function ts(r,t,n,s,o={}){return N0(r,o,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const m=Bl(Object.assign({key:r.config.apiKey},f)).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const y=Object.assign({method:t,headers:g},u);return Rw()||(y.referrerPolicy="no-referrer"),O0.fetch()(M0(r,r.config.apiHost,n,m),y)})}async function N0(r,t,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},aI),t);try{const o=new uI(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Sc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[g,y]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sc(r,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw Sc(r,"email-already-in-use",f);if(g==="USER_DISABLED")throw Sc(r,"user-disabled",f);const T=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw D0(r,T,y);Bn(r,T)}}catch(o){if(o instanceof $i)throw o;Bn(r,"network-request-failed",{message:String(o)})}}async function Kl(r,t,n,s,o={}){const u=await ts(r,t,n,s,o);return"mfaPendingCredential"in u&&Bn(r,"multi-factor-auth-required",{_serverResponse:u}),u}function M0(r,t,n,s){const o=`${t}${n}?${s}`;return r.config.emulator?Ym(r.config,o):`${r.config.apiScheme}://${o}`}function lI(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class uI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(oi(this.auth,"network-request-failed")),oI.get())})}}function Sc(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=oi(r,t,s);return o.customData._tokenResponse=n,o}function b_(r){return r!==void 0&&r.enterprise!==void 0}class cI{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return lI(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function hI(r,t){return ts(r,"GET","/v2/recaptchaConfig",Jr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fI(r,t){return ts(r,"POST","/v1/accounts:delete",t)}async function V0(r,t){return ts(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function dI(r,t=!1){const n=Xi(r),s=await n.getIdToken(t),o=$m(s);vt(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Rl(Nd(o.auth_time)),issuedAtTime:Rl(Nd(o.iat)),expirationTime:Rl(Nd(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Nd(r){return Number(r)*1e3}function $m(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return Oc("JWT malformed, contained fewer than 3 sections"),null;try{const o=uE(n);return o?JSON.parse(o):(Oc("Failed to decode base64 JWT payload"),null)}catch(o){return Oc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function R_(r){const t=$m(r);return vt(t,"internal-error"),vt(typeof t.exp<"u","internal-error"),vt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kl(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof $i&&mI(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function mI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rl(this.lastLoginAt),this.creationTime=Rl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kc(r){var t;const n=r.auth,s=await r.getIdToken(),o=await kl(r,V0(n,{idToken:s}));vt(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((t=u.providerUserInfo)===null||t===void 0)&&t.length?k0(u.providerUserInfo):[],m=yI(r.providerData,f),g=r.isAnonymous,y=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),T=g?y:!1,b={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new lm(u.createdAt,u.lastLoginAt),isAnonymous:T};Object.assign(r,b)}async function gI(r){const t=Xi(r);await Kc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function yI(r,t){return[...r.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function k0(r){return r.map(t=>{var{providerId:n}=t,s=Km(t,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vI(r,t){const n=await N0(r,{},async()=>{const s=Bl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=M0(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",O0.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function _I(r,t){return ts(r,"POST","/v2/accounts:revokeToken",Jr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){vt(t.idToken,"internal-error"),vt(typeof t.idToken<"u","internal-error"),vt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):R_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){vt(t.length!==0,"internal-error");const n=R_(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(vt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await vI(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Ha;return s&&(vt(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(vt(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(vt(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ha,this.toJSON())}_performRefresh(){return zi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(r,t){vt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Bi{constructor(t){var{uid:n,auth:s,stsTokenManager:o}=t,u=Km(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new pI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new lm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(t){const n=await kl(this,this.stsTokenManager.getToken(this.auth,t));return vt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return dI(this,t)}reload(){return gI(this)}_assign(t){this!==t&&(vt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Bi(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){vt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Kc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mn(this.auth.app))return Promise.reject(Fi(this.auth));const t=await this.getIdToken();return await kl(this,fI(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var s,o,u,f,m,g,y,T;const b=(s=n.displayName)!==null&&s!==void 0?s:void 0,I=(o=n.email)!==null&&o!==void 0?o:void 0,P=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,U=(f=n.photoURL)!==null&&f!==void 0?f:void 0,X=(m=n.tenantId)!==null&&m!==void 0?m:void 0,F=(g=n._redirectEventId)!==null&&g!==void 0?g:void 0,Y=(y=n.createdAt)!==null&&y!==void 0?y:void 0,nt=(T=n.lastLoginAt)!==null&&T!==void 0?T:void 0,{uid:tt,emailVerified:mt,isAnonymous:ut,providerData:St,stsTokenManager:V}=n;vt(tt&&V,t,"internal-error");const R=Ha.fromJSON(this.name,V);vt(typeof tt=="string",t,"internal-error"),kr(b,t.name),kr(I,t.name),vt(typeof mt=="boolean",t,"internal-error"),vt(typeof ut=="boolean",t,"internal-error"),kr(P,t.name),kr(U,t.name),kr(X,t.name),kr(F,t.name),kr(Y,t.name),kr(nt,t.name);const w=new Bi({uid:tt,auth:t,email:I,emailVerified:mt,displayName:b,isAnonymous:ut,photoURL:U,phoneNumber:P,tenantId:X,stsTokenManager:R,createdAt:Y,lastLoginAt:nt});return St&&Array.isArray(St)&&(w.providerData=St.map(D=>Object.assign({},D))),F&&(w._redirectEventId=F),w}static async _fromIdTokenResponse(t,n,s=!1){const o=new Ha;o.updateFromServerResponse(n);const u=new Bi({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await Kc(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];vt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?k0(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new Ha;m.updateFromIdToken(s);const g=new Bi({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new lm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_=new Map;function Hi(r){Yi(r instanceof Function,"Expected a class definition");let t=C_.get(r);return t?(Yi(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,C_.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}L0.type="NONE";const I_=L0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nc(r,t,n){return`firebase:${r}:${t}:${n}`}class ja{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Nc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Nc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Bi._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new ja(Hi(I_),t,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Hi(I_);const f=Nc(s,t.config.apiKey,t.name);let m=null;for(const y of n)try{const T=await y._get(f);if(T){const b=Bi._fromJSON(t,T);y!==u&&(m=b),u=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new ja(u,t,s):(u=g[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new ja(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D_(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(z0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(P0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(H0(t))return"Blackberry";if(j0(t))return"Webos";if(x0(t))return"Safari";if((t.includes("chrome/")||U0(t))&&!t.includes("edge/"))return"Chrome";if(B0(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function P0(r=Ye()){return/firefox\//i.test(r)}function x0(r=Ye()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function U0(r=Ye()){return/crios\//i.test(r)}function z0(r=Ye()){return/iemobile/i.test(r)}function B0(r=Ye()){return/android/i.test(r)}function H0(r=Ye()){return/blackberry/i.test(r)}function j0(r=Ye()){return/webos/i.test(r)}function Xm(r=Ye()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function EI(r=Ye()){var t;return Xm(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function TI(){return Dw()&&document.documentMode===10}function q0(r=Ye()){return Xm(r)||B0(r)||j0(r)||H0(r)||/windows phone/i.test(r)||z0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F0(r,t=[]){let n;switch(r){case"Browser":n=D_(Ye());break;case"Worker":n=`${D_(Ye())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${eo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((f,m)=>{try{const g=t(u);f(g)}catch(g){m(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AI(r,t={}){return ts(r,"GET","/v2/passwordPolicy",Jr(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI=6;class bI{constructor(t){var n,s,o,u;const f=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:wI,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=t.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,s,o,u,f,m;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,g),this.validatePasswordCharacterOptions(t,g),g.isValid&&(g.isValid=(n=g.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),g.isValid&&(g.isValid=(s=g.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),g.isValid&&(g.isValid=(o=g.containsLowercaseLetter)!==null&&o!==void 0?o:!0),g.isValid&&(g.isValid=(u=g.containsUppercaseLetter)!==null&&u!==void 0?u:!0),g.isValid&&(g.isValid=(f=g.containsNumericCharacter)!==null&&f!==void 0?f:!0),g.isValid&&(g.isValid=(m=g.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),g}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new O_(this),this.idTokenSubscription=new O_(this),this.beforeStateQueue=new SI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=I0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Hi(n)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await ja.create(this,t),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await V0(this,{idToken:t}),s=await Bi._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(Mn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,g=await this.tryRedirectSignIn(t);(!f||f===m)&&(g!=null&&g.user)&&(o=g.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return vt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Kc(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=sI()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Mn(this.app))return Promise.reject(Fi(this));const n=t?Xi(t):null;return n&&vt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&vt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Mn(this.app)?Promise.reject(Fi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Mn(this.app)?Promise.reject(Fi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Hi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await AI(this),n=new bI(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new zl("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await _I(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Hi(t)||this._popupRedirectResolver;vt(n,this,"argument-error"),this.redirectPersistenceManager=await ja.create(this,[Hi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(vt(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=t.addObserver(n,s,o);return()=>{f=!0,g()}}else{const g=t.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return vt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=F0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var t;if(Mn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&nI(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function qs(r){return Xi(r)}class O_{constructor(t){this.auth=t,this.observer=null,this.addObserver=xw(n=>this.observer=n)}get next(){return vt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ch={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function CI(r){ch=r}function G0(r){return ch.loadJS(r)}function II(){return ch.recaptchaEnterpriseScript}function DI(){return ch.gapiScript}function OI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class NI{constructor(){this.enterprise=new MI}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class MI{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const VI="recaptcha-enterprise",K0="NO_RECAPTCHA";class kI{constructor(t){this.type=VI,this.auth=qs(t)}async verify(t="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{hI(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new cI(g);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(g=>{m(g)})})}function o(u,f,m){const g=window.grecaptcha;b_(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:t}).then(y=>{f(y)}).catch(()=>{f(K0)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new NI().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&b_(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let g=II();g.length!==0&&(g+=m),G0(g).then(()=>{o(m,u,f)}).catch(y=>{f(y)})}}).catch(m=>{f(m)})})}}async function N_(r,t,n,s=!1,o=!1){const u=new kI(r);let f;if(o)f=K0;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},t);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function um(r,t,n,s,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await N_(r,t,n,n==="getOobCode");return s(r,f)}else return s(r,t).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await N_(r,t,n,n==="getOobCode");return s(r,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LI(r,t){const n=Sm(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(xs(u,t??{}))return o;Bn(o,"already-initialized")}return n.initialize({options:t})}function PI(r,t){const n=(t==null?void 0:t.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Hi);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function xI(r,t,n){const s=qs(r);vt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=Q0(t),{host:f,port:m}=UI(t),g=m===null?"":`:${m}`,y={url:`${u}//${f}${g}/`},T=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){vt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),vt(xs(y,s.config.emulator)&&xs(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,zI()}function Q0(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function UI(r){const t=Q0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:M_(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:M_(f)}}}function M_(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function zI(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return zi("not implemented")}_getIdTokenResponse(t){return zi("not implemented")}_linkToIdToken(t,n){return zi("not implemented")}_getReauthenticationResolver(t){return zi("not implemented")}}async function BI(r,t){return ts(r,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HI(r,t){return Kl(r,"POST","/v1/accounts:signInWithPassword",Jr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jI(r,t){return Kl(r,"POST","/v1/accounts:signInWithEmailLink",Jr(r,t))}async function qI(r,t){return Kl(r,"POST","/v1/accounts:signInWithEmailLink",Jr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll extends Zm{constructor(t,n,s,o=null){super("password",s),this._email=t,this._password=n,this._tenantId=o}static _fromEmailAndPassword(t,n){return new Ll(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new Ll(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return um(t,n,"signInWithPassword",HI);case"emailLink":return jI(t,{email:this._email,oobCode:this._password});default:Bn(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return um(t,s,"signUpPassword",BI);case"emailLink":return qI(t,{idToken:n,email:this._email,oobCode:this._password});default:Bn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qa(r,t){return Kl(r,"POST","/v1/accounts:signInWithIdp",Jr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI="http://localhost";class Bs extends Zm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Bs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Bn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o}=n,u=Km(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new Bs(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return qa(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,qa(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,qa(t,n)}buildRequest(){const t={requestUri:FI,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Bl(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GI(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function KI(r){const t=yl(vl(r)).link,n=t?yl(vl(t)).deep_link_id:null,s=yl(vl(r)).deep_link_id;return(s?yl(vl(s)).link:null)||s||n||t||r}class Wm{constructor(t){var n,s,o,u,f,m;const g=yl(vl(t)),y=(n=g.apiKey)!==null&&n!==void 0?n:null,T=(s=g.oobCode)!==null&&s!==void 0?s:null,b=GI((o=g.mode)!==null&&o!==void 0?o:null);vt(y&&T&&b,"argument-error"),this.apiKey=y,this.operation=b,this.code=T,this.continueUrl=(u=g.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=g.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(m=g.tenantId)!==null&&m!==void 0?m:null}static parseLink(t){const n=KI(t);try{return new Wm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(){this.providerId=so.PROVIDER_ID}static credential(t,n){return Ll._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=Wm.parseLink(n);return vt(s,"argument-error"),Ll._fromEmailAndCode(t,s.code,s.tenantId)}}so.PROVIDER_ID="password";so.EMAIL_PASSWORD_SIGN_IN_METHOD="password";so.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql extends Y0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends Ql{constructor(){super("facebook.com")}static credential(t){return Bs._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Pr.credentialFromTaggedObject(t)}static credentialFromError(t){return Pr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Pr.credential(t.oauthAccessToken)}catch{return null}}}Pr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr extends Ql{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Bs._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return xr.credentialFromTaggedObject(t)}static credentialFromError(t){return xr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return xr.credential(n,s)}catch{return null}}}xr.GOOGLE_SIGN_IN_METHOD="google.com";xr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends Ql{constructor(){super("github.com")}static credential(t){return Bs._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ur.credentialFromTaggedObject(t)}static credentialFromError(t){return Ur.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ur.credential(t.oauthAccessToken)}catch{return null}}}Ur.GITHUB_SIGN_IN_METHOD="github.com";Ur.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends Ql{constructor(){super("twitter.com")}static credential(t,n){return Bs._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return zr.credentialFromTaggedObject(t)}static credentialFromError(t){return zr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return zr.credential(n,s)}catch{return null}}}zr.TWITTER_SIGN_IN_METHOD="twitter.com";zr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QI(r,t){return Kl(r,"POST","/v1/accounts:signUp",Jr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await Bi._fromIdTokenResponse(t,s,o),f=V_(s);return new Hs({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=V_(s);return new Hs({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function V_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc extends $i{constructor(t,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Qc.prototype),this.customData={appName:t.name,tenantId:(u=t.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new Qc(t,n,s,o)}}function $0(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Qc._fromErrorAndOperation(r,u,t,s):u})}async function YI(r,t,n=!1){const s=await kl(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return Hs._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $I(r,t,n=!1){const{auth:s}=r;if(Mn(s.app))return Promise.reject(Fi(s));const o="reauthenticate";try{const u=await kl(r,$0(s,o,t,r),n);vt(u.idToken,s,"internal-error");const f=$m(u.idToken);vt(f,s,"internal-error");const{sub:m}=f;return vt(r.uid===m,s,"user-mismatch"),Hs._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Bn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X0(r,t,n=!1){if(Mn(r.app))return Promise.reject(Fi(r));const s="signIn",o=await $0(r,s,t),u=await Hs._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function XI(r,t){return X0(qs(r),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z0(r){const t=qs(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function ZI(r,t,n){if(Mn(r.app))return Promise.reject(Fi(r));const s=qs(r),f=await um(s,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",QI).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&Z0(r),g}),m=await Hs._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function WI(r,t,n){return Mn(r.app)?Promise.reject(Fi(r)):XI(Xi(r),so.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Z0(r),s})}function JI(r,t,n,s){return Xi(r).onIdTokenChanged(t,n,s)}function tD(r,t,n){return Xi(r).beforeAuthStateChanged(t,n)}function eD(r){return Xi(r).signOut()}const Yc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Yc,"1"),this.storage.removeItem(Yc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD=1e3,iD=10;class J0 extends W0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=q0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);TI()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,iD):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},nD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}J0.type="LOCAL";const rD=J0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT extends W0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}tT.type="SESSION";const eT=tT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sD(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new hh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),g=await sD(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,g)=>{const y=Jm("",20);o.port1.start();const T=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(b){const I=b;if(I.data.eventId===y)switch(I.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(I.data.response);break;default:clearTimeout(T),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(){return window}function oD(r){li().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nT(){return typeof li().WorkerGlobalScope<"u"&&typeof li().importScripts=="function"}async function lD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function uD(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function cD(){return nT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT="firebaseLocalStorageDb",hD=1,$c="firebaseLocalStorage",rT="fbase_key";class Yl{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function fh(r,t){return r.transaction([$c],t?"readwrite":"readonly").objectStore($c)}function fD(){const r=indexedDB.deleteDatabase(iT);return new Yl(r).toPromise()}function cm(){const r=indexedDB.open(iT,hD);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore($c,{keyPath:rT})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains($c)?t(s):(s.close(),await fD(),t(await cm()))})})}async function k_(r,t,n){const s=fh(r,!0).put({[rT]:t,value:n});return new Yl(s).toPromise()}async function dD(r,t){const n=fh(r,!1).get(t),s=await new Yl(n).toPromise();return s===void 0?null:s.value}function L_(r,t){const n=fh(r,!0).delete(t);return new Yl(n).toPromise()}const mD=800,pD=3;class sT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cm(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>pD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hh._getInstance(cD()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await lD(),!this.activeServiceWorker)return;this.sender=new aD(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||uD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await cm();return await k_(t,Yc,"1"),await L_(t,Yc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>k_(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>dD(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>L_(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=fh(o,!1).getAll();return new Yl(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),mD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}sT.type="LOCAL";const gD=sT;new Gl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(r,t){return t?Hi(t):(vt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp extends Zm{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return qa(t,this._buildIdpRequest())}_linkToIdToken(t,n){return qa(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return qa(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function vD(r){return X0(r.auth,new tp(r),r.bypassAuthState)}function _D(r){const{auth:t,user:n}=r;return vt(n,t,"internal-error"),$I(n,new tp(r),r.bypassAuthState)}async function ED(r){const{auth:t,user:n}=r;return vt(n,t,"internal-error"),YI(n,new tp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=t;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return vD;case"linkViaPopup":case"linkViaRedirect":return ED;case"reauthViaPopup":case"reauthViaRedirect":return _D;default:Bn(this.auth,"internal-error")}}resolve(t){Yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD=new Gl(2e3,1e4);class Ua extends aT{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Ua.currentPopupAction&&Ua.currentPopupAction.cancel(),Ua.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return vt(t,this.auth,"internal-error"),t}async onExecution(){Yi(this.filter.length===1,"Popup operations only handle one event");const t=Jm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(oi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(oi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ua.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(oi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,TD.get())};t()}}Ua.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD="pendingRedirect",Mc=new Map;class AD extends aT{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=Mc.get(this.auth._key());if(!t){try{const s=await wD(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}Mc.set(this.auth._key(),t)}return this.bypassAuthState||Mc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function wD(r,t){const n=CD(t),s=RD(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function bD(r,t){Mc.set(r._key(),t)}function RD(r){return Hi(r._redirectPersistence)}function CD(r){return Nc(SD,r.config.apiKey,r.name)}async function ID(r,t,n=!1){if(Mn(r.app))return Promise.reject(Fi(r));const s=qs(r),o=yD(s,t),f=await new AD(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD=10*60*1e3;class OD{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!ND(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!oT(t)){const o=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(oi(this.auth,o))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=DD&&this.cachedEventUids.clear(),this.cachedEventUids.has(P_(t))}saveEventToCache(t){this.cachedEventUids.add(P_(t)),this.lastProcessedEventTime=Date.now()}}function P_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function oT({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function ND(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oT(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MD(r,t={}){return ts(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kD=/^https?/;async function LD(r){if(r.config.emulator)return;const{authorizedDomains:t}=await MD(r);for(const n of t)try{if(PD(n))return}catch{}Bn(r,"unauthorized-domain")}function PD(r){const t=om(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!kD.test(n))return!1;if(VD.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xD=new Gl(3e4,6e4);function x_(){const r=li().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function UD(r){return new Promise((t,n)=>{var s,o,u;function f(){x_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{x_(),n(oi(r,"network-request-failed"))},timeout:xD.get()})}if(!((o=(s=li().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)t(gapi.iframes.getContext());else if(!((u=li().gapi)===null||u===void 0)&&u.load)f();else{const m=OI("iframefcb");return li()[m]=()=>{gapi.load?f():n(oi(r,"network-request-failed"))},G0(`${DI()}?onload=${m}`).catch(g=>n(g))}}).catch(t=>{throw Vc=null,t})}let Vc=null;function zD(r){return Vc=Vc||UD(r),Vc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD=new Gl(5e3,15e3),HD="__/auth/iframe",jD="emulator/auth/iframe",qD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},FD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function GD(r){const t=r.config;vt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?Ym(t,jD):`https://${r.config.authDomain}/${HD}`,s={apiKey:t.apiKey,appName:r.name,v:eo},o=FD.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Bl(s).slice(1)}`}async function KD(r){const t=await zD(r),n=li().gapi;return vt(n,r,"internal-error"),t.open({where:document.body,url:GD(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qD,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=oi(r,"network-request-failed"),m=li().setTimeout(()=>{u(f)},BD.get());function g(){li().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},YD=500,$D=600,XD="_blank",ZD="http://localhost";class U_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function WD(r,t,n,s=YD,o=$D){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g=Object.assign(Object.assign({},QD),{width:s.toString(),height:o.toString(),top:u,left:f}),y=Ye().toLowerCase();n&&(m=U0(y)?XD:n),P0(y)&&(t=t||ZD,g.scrollbars="yes");const T=Object.entries(g).reduce((I,[P,U])=>`${I}${P}=${U},`,"");if(EI(y)&&m!=="_self")return JD(t||"",m),new U_(null);const b=window.open(t||"",m,T);vt(b,r,"popup-blocked");try{b.focus()}catch{}return new U_(b)}function JD(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2="__/auth/handler",e2="emulator/auth/handler",n2=encodeURIComponent("fac");async function z_(r,t,n,s,o,u){vt(r.config.authDomain,r,"auth-domain-config-required"),vt(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:eo,eventId:o};if(t instanceof Y0){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",Pw(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,b]of Object.entries({}))f[T]=b}if(t instanceof Ql){const T=t.getScopes().filter(b=>b!=="");T.length>0&&(f.scopes=T.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const T of Object.keys(m))m[T]===void 0&&delete m[T];const g=await r._getAppCheckToken(),y=g?`#${n2}=${encodeURIComponent(g)}`:"";return`${i2(r)}?${Bl(m).slice(1)}${y}`}function i2({config:r}){return r.emulator?Ym(r,e2):`https://${r.authDomain}/${t2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md="webStorageSupport";class r2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=eT,this._completeRedirectFn=ID,this._overrideRedirectResult=bD}async _openPopup(t,n,s,o){var u;Yi((u=this.eventManagers[t._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await z_(t,n,s,om(),o);return WD(t,f,Jm())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await z_(t,n,s,om(),o);return oD(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Yi(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await KD(t),s=new OD(t);return n.register("authEvent",o=>(vt(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Md,{type:Md},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Md];f!==void 0&&n(!!f),Bn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=LD(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return q0()||x0()||Xm()}}const s2=r2;var B_="@firebase/auth",H_="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){vt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function l2(r){Fa(new Us("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;vt(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:F0(r)},y=new RI(s,o,u,g);return PI(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Fa(new Us("auth-internal",t=>{const n=qs(t.getProvider("auth").getImmediate());return(s=>new a2(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fr(B_,H_,o2(r)),Fr(B_,H_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2=5*60,c2=fE("authIdTokenMaxAge")||u2;let j_=null;const h2=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>c2)return;const o=n==null?void 0:n.token;j_!==o&&(j_=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function f2(r=gE()){const t=Sm(r,"auth");if(t.isInitialized())return t.getImmediate();const n=LI(r,{popupRedirectResolver:s2,persistence:[gD,rD,eT]}),s=fE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=h2(u.toString());tD(n,f,()=>f(n.currentUser)),JI(n,m=>f(m))}}const o=cE("auth");return o&&xI(n,`http://${o}`),n}function d2(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}CI({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=o=>{const u=oi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",d2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});l2("Browser");const m2={apiKey:"AIzaSyAZY-FyJ-eMhXn5huw9RMxyRzRVbHN4VTg",authDomain:"chatapp-a1ea0.firebaseapp.com",projectId:"chatapp-a1ea0",storageBucket:"chatapp-a1ea0.appspot.com",messagingSenderId:"554539424936",appId:"1:554539424936:web:55c3deb9b6e0735717f69d"},lT=pE(m2),p2=HC(lT),Vd=f2(lT);function g2({user:r,setUser:t}){const[n,s]=Q.useState(""),[o,u]=Q.useState(""),[f,m]=Q.useState(!0),[g,y]=Q.useState(!1),[T,b]=Q.useState("");xl();const I=async()=>{y(!0),b("");try{const X=(f?await WI(Vd,n,o):await ZI(Vd,n,o)).user,F=await WC(BC(p2,"users",X.uid)),Y=F.exists()?F.data().role:"user";t({...X,displayName:n.split("@")[0],role:Y}),s(""),u("")}catch(U){b(U.message)}y(!1)},P=async()=>{await eD(Vd),t(null)};return qt.jsx("div",{style:{textAlign:"center",padding:"0%",paddingBottom:"20%"},children:r?qt.jsxs("div",{children:[qt.jsxs("h2",{children:["Welcome, ",r==null?void 0:r.email]}),qt.jsxs("p",{children:["Role: ",r==null?void 0:r.role]}),qt.jsx("button",{onClick:P,children:"Logout"})]}):qt.jsxs("div",{style:{backgroundColor:"white",paddingTop:"15%",paddingBottom:"12%",borderRadius:"10%",maxWidth:"90%",margin:"auto"},children:[qt.jsx("h2",{style:{color:"black"},children:f?"Lets Learn Together":"Sign Up"}),qt.jsx("input",{type:"email",placeholder:"Email",value:n,onChange:U=>s(U.target.value),disabled:g,style:{fontSize:"18px",padding:"10px",width:"50%"}}),qt.jsx("input",{type:"password",placeholder:"Password",value:o,onChange:U=>u(U.target.value),disabled:g,style:{fontSize:"18px",padding:"10px",width:"50%"}}),qt.jsx("div",{style:{textAlign:"center",padding:"0%",paddingTop:"5%",tabSize:"100%"},children:qt.jsx("button",{onClick:I,disabled:g,className:T?"shake":"",children:g?"Processing...":f?"Login":"Sign Up"})}),qt.jsx("p",{onClick:()=>m(!f),style:{cursor:"pointer",color:"blue"},children:f?"Create an account":"Already have an account? Login"})]})})}function y2({user:r}){const t=xl(),n=()=>{t("/"),window.location.reload()},s=()=>{t("/Contact")};return qt.jsxs("div",{children:[qt.jsxs("h1",{children:["Welcome, ",r!=null&&r.displayName?r.displayName.charAt(0).toUpperCase()+r.displayName.slice(1):"{ERROR} Please Contact The Administration Or LogOut"]}),qt.jsx("button",{onClick:n,children:"Logout"}),qt.jsx("button",{onClick:s,children:"Contact Us"})]})}function v2({user:r}){const t=xl(),n=()=>{t("/"),window.location.reload()};return qt.jsxs("div",{children:[qt.jsxs("h1",{children:["ContactPage, ",r!=null&&r.displayName?r.displayName.charAt(0).toUpperCase()+r.displayName.slice(1):"{ERROR} Please Contact The Administration Or LogOut"]}),qt.jsx("button",{onClick:n,children:"Logout"})]})}function _2(){const[r,t]=Q.useState(null);return qt.jsx(iw,{children:qt.jsxs(kA,{children:[qt.jsx(Ac,{path:"/",element:r?qt.jsx(_d,{to:"/Home"}):qt.jsx(g2,{setUser:t})}),qt.jsx(Ac,{path:"/Home",element:r?qt.jsx(y2,{user:r}):qt.jsx(_d,{to:"/"})}),qt.jsx(Ac,{path:"/Contact",element:r?qt.jsx(v2,{user:r}):qt.jsx(_d,{to:"/"})})]})})}try{self["workbox:window:7.2.0"]&&_()}catch{}function q_(r,t){return new Promise(function(n){var s=new MessageChannel;s.port1.onmessage=function(o){n(o.data)},r.postMessage(t,[s.port2])})}function E2(r){var t=function(n,s){if(typeof n!="object"||!n)return n;var o=n[Symbol.toPrimitive];if(o!==void 0){var u=o.call(n,s);if(typeof u!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(r,"string");return typeof t=="symbol"?t:t+""}function T2(r,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(r,E2(s.key),s)}}function hm(r,t){return hm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},hm(r,t)}function F_(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=r[n];return s}function S2(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n)return(n=n.call(r)).next.bind(n);if(Array.isArray(r)||(n=function(o,u){if(o){if(typeof o=="string")return F_(o,u);var f=Object.prototype.toString.call(o).slice(8,-1);return f==="Object"&&o.constructor&&(f=o.constructor.name),f==="Map"||f==="Set"?Array.from(o):f==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(f)?F_(o,u):void 0}}(r))||t){n&&(r=n);var s=0;return function(){return s>=r.length?{done:!0}:{done:!1,value:r[s++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}try{self["workbox:core:7.2.0"]&&_()}catch{}var kd=function(){var r=this;this.promise=new Promise(function(t,n){r.resolve=t,r.reject=n})};function Ld(r,t){var n=location.href;return new URL(r,n).href===new URL(t,n).href}var gl=function(r,t){this.type=r,Object.assign(this,t)};function Lr(r,t,n){return n?t?t(r):r:(r&&r.then||(r=Promise.resolve(r)),t?r.then(t):r)}function A2(){}var w2={type:"SKIP_WAITING"};function G_(r,t){return r&&r.then?r.then(A2):Promise.resolve()}var b2=function(r){function t(m,g){var y,T;return g===void 0&&(g={}),(y=r.call(this)||this).nn={},y.tn=0,y.rn=new kd,y.en=new kd,y.on=new kd,y.un=0,y.an=new Set,y.cn=function(){var b=y.fn,I=b.installing;y.tn>0||!Ld(I.scriptURL,y.sn.toString())||performance.now()>y.un+6e4?(y.vn=I,b.removeEventListener("updatefound",y.cn)):(y.hn=I,y.an.add(I),y.rn.resolve(I)),++y.tn,I.addEventListener("statechange",y.ln)},y.ln=function(b){var I=y.fn,P=b.target,U=P.state,X=P===y.vn,F={sw:P,isExternal:X,originalEvent:b};!X&&y.mn&&(F.isUpdate=!0),y.dispatchEvent(new gl(U,F)),U==="installed"?y.wn=self.setTimeout(function(){U==="installed"&&I.waiting===P&&y.dispatchEvent(new gl("waiting",F))},200):U==="activating"&&(clearTimeout(y.wn),X||y.en.resolve(P))},y.yn=function(b){var I=y.hn,P=I!==navigator.serviceWorker.controller;y.dispatchEvent(new gl("controlling",{isExternal:P,originalEvent:b,sw:I,isUpdate:y.mn})),P||y.on.resolve(I)},y.gn=(T=function(b){var I=b.data,P=b.ports,U=b.source;return Lr(y.getSW(),function(){y.an.has(U)&&y.dispatchEvent(new gl("message",{data:I,originalEvent:b,ports:P,sw:U}))})},function(){for(var b=[],I=0;I<arguments.length;I++)b[I]=arguments[I];try{return Promise.resolve(T.apply(this,b))}catch(P){return Promise.reject(P)}}),y.sn=m,y.nn=g,navigator.serviceWorker.addEventListener("message",y.gn),y}var n,s;s=r,(n=t).prototype=Object.create(s.prototype),n.prototype.constructor=n,hm(n,s);var o,u,f=t.prototype;return f.register=function(m){var g=(m===void 0?{}:m).immediate,y=g!==void 0&&g;try{var T=this;return Lr(function(b,I){var P=b();return P&&P.then?P.then(I):I(P)}(function(){if(!y&&document.readyState!=="complete")return G_(new Promise(function(b){return window.addEventListener("load",b)}))},function(){return T.mn=!!navigator.serviceWorker.controller,T.dn=T.pn(),Lr(T.bn(),function(b){T.fn=b,T.dn&&(T.hn=T.dn,T.en.resolve(T.dn),T.on.resolve(T.dn),T.dn.addEventListener("statechange",T.ln,{once:!0}));var I=T.fn.waiting;return I&&Ld(I.scriptURL,T.sn.toString())&&(T.hn=I,Promise.resolve().then(function(){T.dispatchEvent(new gl("waiting",{sw:I,wasWaitingBeforeRegister:!0}))}).then(function(){})),T.hn&&(T.rn.resolve(T.hn),T.an.add(T.hn)),T.fn.addEventListener("updatefound",T.cn),navigator.serviceWorker.addEventListener("controllerchange",T.yn),T.fn})}))}catch(b){return Promise.reject(b)}},f.update=function(){try{return this.fn?Lr(G_(this.fn.update())):Lr()}catch(m){return Promise.reject(m)}},f.getSW=function(){return this.hn!==void 0?Promise.resolve(this.hn):this.rn.promise},f.messageSW=function(m){try{return Lr(this.getSW(),function(g){return q_(g,m)})}catch(g){return Promise.reject(g)}},f.messageSkipWaiting=function(){this.fn&&this.fn.waiting&&q_(this.fn.waiting,w2)},f.pn=function(){var m=navigator.serviceWorker.controller;return m&&Ld(m.scriptURL,this.sn.toString())?m:void 0},f.bn=function(){try{var m=this;return Lr(function(g,y){try{var T=g()}catch(b){return y(b)}return T&&T.then?T.then(void 0,y):T}(function(){return Lr(navigator.serviceWorker.register(m.sn,m.nn),function(g){return m.un=performance.now(),g})},function(g){throw g}))}catch(g){return Promise.reject(g)}},o=t,(u=[{key:"active",get:function(){return this.en.promise}},{key:"controlling",get:function(){return this.on.promise}}])&&T2(o.prototype,u),Object.defineProperty(o,"prototype",{writable:!1}),o}(function(){function r(){this.Pn=new Map}var t=r.prototype;return t.addEventListener=function(n,s){this.jn(n).add(s)},t.removeEventListener=function(n,s){this.jn(n).delete(s)},t.dispatchEvent=function(n){n.target=this;for(var s,o=S2(this.jn(n.type));!(s=o()).done;)(0,s.value)(n)},t.jn=function(n){return this.Pn.has(n)||this.Pn.set(n,new Set),this.Pn.get(n)},r}());"serviceWorker"in navigator&&new b2("/sw.js").register();const R2=FS.createRoot(document.getElementById("root"));R2.render(qt.jsx(_2,{}));
